"use strict";(self.webpackChunkawesome_notes=self.webpackChunkawesome_notes||[]).push([[5356],{9727:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Web/JavaScript/JavaScriptTestingNotes","title":"JavaScript Testing Notes","description":"Testing Pyramid","source":"@site/notes/Web/JavaScript/JavaScriptTestingNotes.md","sourceDirName":"Web/JavaScript","slug":"/Web/JavaScript/JavaScriptTestingNotes","permalink":"/awesome-notes/Web/JavaScript/JavaScriptTestingNotes","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/awesome-notes/edit/main/notes/Web/JavaScript/JavaScriptTestingNotes.md","tags":[{"inline":true,"label":"Web","permalink":"/awesome-notes/tags/web"},{"inline":true,"label":"JavaScript","permalink":"/awesome-notes/tags/java-script"},{"inline":true,"label":"ECMAScript","permalink":"/awesome-notes/tags/ecma-script"},{"inline":true,"label":"DevOps","permalink":"/awesome-notes/tags/dev-ops"},{"inline":true,"label":"Testing","permalink":"/awesome-notes/tags/testing"}],"version":"current","lastUpdatedBy":"renovate[bot]","lastUpdatedAt":1734246257000,"frontMatter":{"author":"Sabertazimi","authorTitle":"Web Developer","authorURL":"https://github.com/sabertazimi","authorImageURL":"https://github.com/sabertazimi.png","tags":["Web","JavaScript","ECMAScript","DevOps","Testing"]},"sidebar":"tutorialSidebar","previous":{"title":"JavaScript Performance Notes","permalink":"/awesome-notes/Web/JavaScript/JavaScriptPerformanceNotes"},"next":{"title":"TypeScript Basic Notes","permalink":"/awesome-notes/Web/JavaScript/TypeScriptBasicNotes"}}');var i=s(5105),r=s(842);const l={author:"Sabertazimi",authorTitle:"Web Developer",authorURL:"https://github.com/sabertazimi",authorImageURL:"https://github.com/sabertazimi.png",tags:["Web","JavaScript","ECMAScript","DevOps","Testing"]},c="JavaScript Testing Notes",o={},a=[{value:"Testing Pyramid",id:"testing-pyramid",level:2},{value:"Testing Model",id:"testing-model",level:2},{value:"PIE Model",id:"pie-model",level:3},{value:"Heuristic Test Strategy Model",id:"heuristic-test-strategy-model",level:3},{value:"User Experience Testing",id:"user-experience-testing",level:3},{value:"Mobile Testing",id:"mobile-testing",level:3},{value:"Testing Design",id:"testing-design",level:2},{value:"FAIR Principle",id:"fair-principle",level:3},{value:"AAA Pattern",id:"aaa-pattern",level:3},{value:"Test-Driven Development",id:"test-driven-development",level:3},{value:"Test-Driven Development Upside",id:"test-driven-development-upside",level:4},{value:"Test-Driven Development Use Case",id:"test-driven-development-use-case",level:4},{value:"\u6d4b\u8bd5\u8def\u5f84",id:"\u6d4b\u8bd5\u8def\u5f84",level:3},{value:"Testing Methods",id:"testing-methods",level:2},{value:"Basic Testing Types",id:"basic-testing-types",level:3},{value:"\u56fe\u7ed3\u6784\u8986\u76d6\u65b9\u6cd5",id:"\u56fe\u7ed3\u6784\u8986\u76d6\u65b9\u6cd5",level:3},{value:"\u6570\u636e\u6d41\u8986\u76d6\u65b9\u6cd5",id:"\u6570\u636e\u6d41\u8986\u76d6\u65b9\u6cd5",level:3},{value:"\u903b\u8f91\u8986\u76d6\u65b9\u6cd5",id:"\u903b\u8f91\u8986\u76d6\u65b9\u6cd5",level:3},{value:"\u968f\u673a\u6d4b\u8bd5\u65b9\u6cd5",id:"\u968f\u673a\u6d4b\u8bd5\u65b9\u6cd5",level:3},{value:"\u9ed1\u76d2\u6d4b\u8bd5\u65b9\u6cd5",id:"\u9ed1\u76d2\u6d4b\u8bd5\u65b9\u6cd5",level:3},{value:"Fault Location",id:"fault-location",level:3},{value:"Fuzzing Testing",id:"fuzzing-testing",level:3},{value:"Testable Code",id:"testable-code",level:2},{value:"\u5708\u590d\u6742\u5ea6",id:"\u5708\u590d\u6742\u5ea6",level:3},{value:"\u51fd\u6570\u590d\u6742\u5ea6",id:"\u51fd\u6570\u590d\u6742\u5ea6",level:3},{value:"\u6247\u51fa",id:"\u6247\u51fa",level:3},{value:"\u6247\u5165",id:"\u6247\u5165",level:3},{value:"\u8026\u5408\u5ea6",id:"\u8026\u5408\u5ea6",level:3},{value:"\u5185\u5bb9\u8026\u5408",id:"\u5185\u5bb9\u8026\u5408",level:4},{value:"\u516c\u5171\u8026\u5408",id:"\u516c\u5171\u8026\u5408",level:4},{value:"\u63a7\u5236\u8026\u5408",id:"\u63a7\u5236\u8026\u5408",level:4},{value:"\u5370\u8bb0\u8026\u5408",id:"\u5370\u8bb0\u8026\u5408",level:4},{value:"\u6570\u636e\u8026\u5408",id:"\u6570\u636e\u8026\u5408",level:4},{value:"\u65e0\u8026\u5408",id:"\u65e0\u8026\u5408",level:4},{value:"Unit Testing",id:"unit-testing",level:2},{value:"Unit Testing Principles",id:"unit-testing-principles",level:3},{value:"Testing Code Isolation",id:"testing-code-isolation",level:3},{value:"Testing Mocks",id:"testing-mocks",level:3},{value:"Headless Testing",id:"headless-testing",level:2},{value:"Browser Context",id:"browser-context",level:3},{value:"DOM Testing",id:"dom-testing",level:3},{value:"Event Testing",id:"event-testing",level:3},{value:"Operation Simulation Testing",id:"operation-simulation-testing",level:3},{value:"Tracing Testing",id:"tracing-testing",level:3},{value:"Puppeteer Testing API",id:"puppeteer-testing-api",level:3},{value:"Testing Frameworks",id:"testing-frameworks",level:2},{value:"Unit Testing Frameworks",id:"unit-testing-frameworks",level:3},{value:"UI Testing Frameworks",id:"ui-testing-frameworks",level:3},{value:"Testing Tools",id:"testing-tools",level:3},{value:"Jest Testing",id:"jest-testing",level:2},{value:"Jest Installation",id:"jest-installation",level:3},{value:"Jest Configuration",id:"jest-configuration",level:3},{value:"Jest Basic Testing",id:"jest-basic-testing",level:3},{value:"Jest Snapshot Testing",id:"jest-snapshot-testing",level:3},{value:"Jest Async Testing",id:"jest-async-testing",level:3},{value:"Jest Mocks",id:"jest-mocks",level:3},{value:"Jest Mocks Utils",id:"jest-mocks-utils",level:4},{value:"Jest Module Mocks",id:"jest-module-mocks",level:4},{value:"Jest Date Mocks",id:"jest-date-mocks",level:4},{value:"Jest API Mocks",id:"jest-api-mocks",level:4},{value:"Jest Internals",id:"jest-internals",level:3},{value:"Jest Runtime Sandbox",id:"jest-runtime-sandbox",level:4},{value:"Jest Test Runner",id:"jest-test-runner",level:4},{value:"Jest Native Runner",id:"jest-native-runner",level:4},{value:"Jest Performance",id:"jest-performance",level:3},{value:"Jest Plugins",id:"jest-plugins",level:3},{value:"Jest Best Practices",id:"jest-best-practices",level:3},{value:"Cypress Testing",id:"cypress-testing",level:2},{value:"Cypress Installation",id:"cypress-installation",level:3},{value:"Cypress Configuration",id:"cypress-configuration",level:3},{value:"Basic Cypress Testing",id:"basic-cypress-testing",level:3},{value:"Cypress Principles",id:"cypress-principles",level:3},{value:"Cypress Commands",id:"cypress-commands",level:3},{value:"Cypress Basic Commands",id:"cypress-basic-commands",level:4},{value:"Cypress Action Commands",id:"cypress-action-commands",level:4},{value:"Cypress Network Commands",id:"cypress-network-commands",level:4},{value:"Cypress Custom Command",id:"cypress-custom-command",level:4},{value:"Cypress Plugin",id:"cypress-plugin",level:3},{value:"Cypress Reference",id:"cypress-reference",level:3},{value:"Debugging",id:"debugging",level:2},{value:"Monkey Patch",id:"monkey-patch",level:3},{value:"Window State Injection",id:"window-state-injection",level:4},{value:"Event Propagation Injection",id:"event-propagation-injection",level:4},{value:"Window Scroll Injection",id:"window-scroll-injection",level:4},{value:"Logging",id:"logging",level:3},{value:"Logging Type",id:"logging-type",level:4},{value:"Logging Information",id:"logging-information",level:4},{value:"Logging Setup",id:"logging-setup",level:4},{value:"Logging Clock",id:"logging-clock",level:4},{value:"Console API",id:"console-api",level:3},{value:"JavaScript Tracing API",id:"javascript-tracing-api",level:3},{value:"Trace Property",id:"trace-property",level:4},{value:"Node Debugging API",id:"node-debugging-api",level:3},{value:"Chrome DevTools",id:"chrome-devtools",level:2},{value:"DevTools Detection",id:"devtools-detection",level:3},{value:"Console DevTools Detection",id:"console-devtools-detection",level:4},{value:"Debugger Detection",id:"debugger-detection",level:4},{value:"Chrome DevTools Shortcuts",id:"chrome-devtools-shortcuts",level:3},{value:"Elements Panel",id:"elements-panel",level:3},{value:"Style Tab",id:"style-tab",level:4},{value:"Console Panel",id:"console-panel",level:3},{value:"Console Settings",id:"console-settings",level:4},{value:"Capture Default Event Listener",id:"capture-default-event-listener",level:4},{value:"Source Panel",id:"source-panel",level:3},{value:"Network Panel",id:"network-panel",level:3},{value:"Performance Panel",id:"performance-panel",level:3},{value:"Simulation DevTools",id:"simulation-devtools",level:3},{value:"Audit DevTool",id:"audit-devtool",level:3},{value:"Coverage Tool",id:"coverage-tool",level:3},{value:"Memory Panel",id:"memory-panel",level:3},{value:"JS Profiler Panel",id:"js-profiler-panel",level:3},{value:"Layer Panel",id:"layer-panel",level:3},{value:"Rendering Panel",id:"rendering-panel",level:3},{value:"Animation Panel",id:"animation-panel",level:3},{value:"Bug List",id:"bug-list",level:2},{value:"Basic Bug",id:"basic-bug",level:3},{value:"C Bug",id:"c-bug",level:3},{value:"Occasional Bug",id:"occasional-bug",level:3},{value:"Reference",id:"reference",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"javascript-testing-notes",children:"JavaScript Testing Notes"})}),"\n",(0,i.jsx)(n.h2,{id:"testing-pyramid",children:"Testing Pyramid"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Unit testing."}),"\n",(0,i.jsx)(n.li,{children:"Module testing."}),"\n",(0,i.jsx)(n.li,{children:"Integration testing."}),"\n",(0,i.jsx)(n.li,{children:"System testing."}),"\n",(0,i.jsx)(n.li,{children:"E2E testing."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"testing-model",children:"Testing Model"}),"\n",(0,i.jsx)(n.h3,{id:"pie-model",children:"PIE Model"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"(Execution) Fault."}),"\n",(0,i.jsx)(n.li,{children:"(Infection) Error."}),"\n",(0,i.jsx)(n.li,{children:"(Propagation) Failure."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"heuristic-test-strategy-model",children:"Heuristic Test Strategy Model"}),"\n",(0,i.jsx)(n.p,{children:"\u8f6f\u4ef6\u529f\u80fd\u6d4b\u8bd5 (\u96be\u4ee5\u5b9e\u73b0\u5b8c\u5168\u81ea\u52a8\u5316):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5173\u6ce8\u4ef7\u503c(Value)\uff1a\u7528\u6237\u5f97\u5230\u4ef7\u503c"}),"\n",(0,i.jsx)(n.li,{children:"\u98ce\u9669\u9a71\u52a8(Risk)\uff1a\u964d\u4f4e\u4ef7\u503c/\u7528\u6237\u4f53\u9a8c\u7684\u98ce\u9669\u9879"}),"\n",(0,i.jsx)(n.li,{children:"\u4ea7\u54c1\u5143\u7d20(Product Elements)"}),"\n",(0,i.jsx)(n.li,{children:"\u7ed3\u6784(Structure):\u4ea7\u54c1\u7269\u7406\u5143\u7d20(\u5982\u4ee3\u7801\u3001\u786c\u4ef6\u3001\u914d\u7f6e\u6587\u4ef6)"}),"\n",(0,i.jsx)(n.li,{children:"\u529f\u80fd(Function):\u4ea7\u54c1\u529f\u80fd"}),"\n",(0,i.jsx)(n.li,{children:"\u6570\u636e(Data):\u4ea7\u54c1\u6240\u64cd\u4f5c\u7684\u6570\u636e(\u5982\u8f93\u5165\u3001\u8f93\u51fa)"}),"\n",(0,i.jsx)(n.li,{children:"\u63a5\u53e3(Interface):\u4ea7\u54c1\u6240\u4f7f\u7528/\u66b4\u9732\u51fa\u7684\u63a5\u53e3"}),"\n",(0,i.jsx)(n.li,{children:"\u5e73\u53f0(Platform):\u4ea7\u54c1\u6240\u4f9d\u8d56\u7684\u5916\u90e8\u5143\u7d20(\u5982\u64cd\u4f5c\u7cfb\u7edf\u3001\u8f93\u5165/\u8f93\u51fa\u8bbe\u5907)"}),"\n",(0,i.jsx)(n.li,{children:"\u64cd\u4f5c(Operation):\u4ea7\u54c1\u88ab\u4f7f\u7528\u7684\u65b9\u5f0f(\u5982\u952e\u76d8\u3001\u9f20\u6807\u3001\u89e6\u6478\u7b49\u547d\u4ee4\u64cd\u4f5c)"}),"\n",(0,i.jsx)(n.li,{children:"\u65f6\u95f4(Time):\u5f71\u54cd\u4ea7\u54c1\u7684\u65f6\u95f4\u56e0\u7d20"}),"\n",(0,i.jsx)(n.li,{children:"\u7ec4\u5408\u5143\u7d20:\u6d4b\u8bd5\u4ea7\u54c1\u529f\u80fd\u95f4\u534f\u4f5c"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"user-experience-testing",children:"User Experience Testing"}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u8f6f\u4ef6\u529f\u80fd\u6d4b\u8bd5\u7684\u6709\u76ca\u8865\u5145:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u529f\u80fd\u6027\u4f53\u9a8c"}),"\n",(0,i.jsx)(n.li,{children:"\u6613\u7528\u6027\u4f53\u9a8c"}),"\n",(0,i.jsx)(n.li,{children:"\u6027\u80fd\u4f53\u9a8c"}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u9760\u6027\u4f53\u9a8c(\u5982\u8f6f\u4ef6\u517c\u5bb9\u6027)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"mobile-testing",children:"Mobile Testing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u673a\u578b\u788e\u7247\u5316."}),"\n",(0,i.jsx)(n.li,{children:"\u5c4f\u5e55\u788e\u7247\u5316."}),"\n",(0,i.jsx)(n.li,{children:"\u73af\u5883\u788e\u7247\u5316."}),"\n",(0,i.jsx)(n.li,{children:"\u8017\u7535\u91cf."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"testing-design",children:"Testing Design"}),"\n",(0,i.jsx)(n.h3,{id:"fair-principle",children:"FAIR Principle"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fast tests:\nbreak down into small separate and well structured tests."}),"\n",(0,i.jsx)(n.li,{children:"Automated tests."}),"\n",(0,i.jsx)(n.li,{children:"Isolated tests:\nany particular test should not depend on any others."}),"\n",(0,i.jsxs)(n.li,{children:["Repeatable tests:\nmock everything you can't control:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"3rd-party libraries."}),"\n",(0,i.jsx)(n.li,{children:"3rd-party APIs."}),"\n",(0,i.jsxs)(n.li,{children:["Timer API: ",(0,i.jsx)(n.code,{children:"jest.useFakerTimers()"}),"/",(0,i.jsx)(n.code,{children:"jest.advanceTimersByTime()"}),"/",(0,i.jsx)(n.code,{children:"cy.clock()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Date"})," API: ",(0,i.jsx)(n.code,{children:"jest.spyOn(Date.prototype)"}),"/",(0,i.jsx)(n.code,{children:"cy.tick()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Math.random()"})," API: ",(0,i.jsx)(n.code,{children:"jest.spyOn()"}),"/",(0,i.jsx)(n.code,{children:"jest.mock()"}),"/",(0,i.jsx)(n.code,{children:"cy.stub()"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5982\u679c\u4e0d\u80fd\u4fdd\u6301\u6d4b\u8bd5\u5957\u4ef6\u7684",(0,i.jsx)(n.strong,{children:"\u786e\u5b9a\u6027"}),"\u548c",(0,i.jsx)(n.strong,{children:"\u901f\u5ea6"}),", \u90a3\u4e48\u5b83\u5c06\u6210\u4e3a\u751f\u4ea7\u529b\u7684\u969c\u788d."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"aaa-pattern",children:"AAA Pattern"}),"\n",(0,i.jsx)(n.p,{children:"Structure every test to 3 part code:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Arrange."}),"\n",(0,i.jsx)(n.li,{children:"Act."}),"\n",(0,i.jsx)(n.li,{children:"Assert."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"test-driven-development",children:"Test-Driven Development"}),"\n",(0,i.jsx)(n.h4,{id:"test-driven-development-upside",children:"Test-Driven Development Upside"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reduce costs: find bugs early."}),"\n",(0,i.jsx)(n.li,{children:"Reduce fear and anxiety."}),"\n",(0,i.jsx)(n.li,{children:"Lead to better-designed and more testable code."}),"\n",(0,i.jsx)(n.li,{children:"Make tests more thorough (\u5f7b\u5e95\u7684).\nEasy to refactor legacy code."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"test-driven-development-use-case",children:"Test-Driven Development Use Case"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Pure function.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5de5\u5177\u51fd\u6570."}),"\n",(0,i.jsx)(n.li,{children:"\u6570\u636e\u8f6c\u6362\u51fd\u6570."}),"\n",(0,i.jsx)(n.li,{children:"\u540e\u7aef\u63a5\u53e3\u51fd\u6570."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Bug fix:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add failed testing first."}),"\n",(0,i.jsx)(n.li,{children:"One bug fixed, one or more testing added."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"UI interaction."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u6d4b\u8bd5\u8def\u5f84",children:"\u6d4b\u8bd5\u8def\u5f84"}),"\n",(0,i.jsx)(n.p,{children:"\u8d77\u59cb\u9876\u70b9\u81f3\u7ec8\u6b62\u9876\u70b9."}),"\n",(0,i.jsx)(n.h2,{id:"testing-methods",children:"Testing Methods"}),"\n",(0,i.jsx)(n.h3,{id:"basic-testing-types",children:"Basic Testing Types"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Positive tests:\nvalid inputs,\nverify functions."}),"\n",(0,i.jsxs)(n.li,{children:["Negative tests:\ninvalid inputs (e.g ",(0,i.jsx)(n.code,{children:"null"}),"/",(0,i.jsx)(n.code,{children:"undefined"}),"/",(0,i.jsx)(n.code,{children:"''"}),"/mismatch type/mismatch structure)\nverify robustness."]}),"\n",(0,i.jsxs)(n.li,{children:["Exception tests:\n",(0,i.jsx)(n.code,{children:"expect(api()).toThrow(error)"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Bottom-up testing:\ngives more granular feedback but slows down iteration speed."}),"\n",(0,i.jsx)(n.li,{children:"Top-down testing:\nallows to iterate more quickly but will generate more coarse feedback."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u56fe\u7ed3\u6784\u8986\u76d6\u65b9\u6cd5",children:"\u56fe\u7ed3\u6784\u8986\u76d6\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u9876\u70b9\u8986\u76d6,\u8fb9\u8986\u76d6,\u8fb9\u5bf9\u8986\u76d6(\u4e09\u9876\u70b9,\u4e24\u90bb\u8fb9)"}),"\n",(0,i.jsx)(n.li,{children:"VC/EC/EPC \u6cd5"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u6570\u636e\u6d41\u8986\u76d6\u65b9\u6cd5",children:"\u6570\u636e\u6d41\u8986\u76d6\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6570\u636e\u6d41\u8986\u76d6:\u5b9a\u4e49\u5904\u8986\u76d6,\u4f7f\u7528\u5904\u8986\u76d6"}),"\n",(0,i.jsx)(n.li,{children:"DU \u6cd5(Data&Use)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u903b\u8f91\u8986\u76d6\u65b9\u6cd5",children:"\u903b\u8f91\u8986\u76d6\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u903b\u8f91\u8986\u76d6:\u6761\u4ef6\u5904\u8986\u76d6,\u5224\u5b9a\u5904\u8986\u76d6"}),"\n",(0,i.jsx)(n.li,{children:"DC(Decision),CC(Condition)\u6cd5"}),"\n",(0,i.jsx)(n.li,{children:"MC/DC \u6cd5"}),"\n",(0,i.jsx)(n.li,{children:"MCC \u6cd5(\u5b8c\u5168\u8986\u76d6)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u968f\u673a\u6d4b\u8bd5\u65b9\u6cd5",children:"\u968f\u673a\u6d4b\u8bd5\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'ART(\u968f\u673a\u6d4b\u8bd5):\u6bcf\u4e2a\u7528\u4f8b\u95f4"\u8ddd\u79bb"\u5c3d\u53ef\u80fd\u8fdc'}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u9ed1\u76d2\u6d4b\u8bd5\u65b9\u6cd5",children:"\u9ed1\u76d2\u6d4b\u8bd5\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7b49\u4ef7\u7c7b\u5212\u5206:\u5408\u6cd5\u8f93\u5165(\u8f6f\u4ef6\u529f\u80fd),\u975e\u6cd5\u8f93\u5165(\u5f02\u5e38\u5904\u7406)"}),"\n",(0,i.jsx)(n.li,{children:"\u7b49\u4ef7\u7c7b\u7684\u8fb9\u754c\u503c\u5206\u6790:\u5408\u6cd5 MIN,MIN+,MAX-,MAX \u975e\u6cd5:MIN-,MAX+"}),"\n",(0,i.jsxs)(n.li,{children:["\u51b3\u7b56\u8868+\u7ec4\u5408\u6d4b\u8bd5:\u7b80\u5316\u51b3\u7b56\u8868(\u8003\u8651\u8f93\u5165\u76f8\u5173\u6027)","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7ec4\u5408\u7528\u4f8b:\u7ef4\u5ea6\u4e0e\u6d4b\u8bd5\u51c6\u5ea6\u6210\u6b63\u6bd4"}),"\n",(0,i.jsx)(n.li,{children:"\u7ea6\u675f\u7528\u4f8b:\u9700\u907f\u5f00\u7ea6\u675f\u8f93\u5165(\u8f93\u5165\u76f8\u5173\u6027,\u540c\u65f6\u8f93\u5165\u4f1a\u6210\u4e3a\u65e0\u6548\u8f93\u5165)"}),"\n",(0,i.jsx)(n.li,{children:"\u6d4b\u8bd5\u7528\u4f8b\u7ea6\u7b80+\u6d4b\u8bd5\u7528\u4f8b\u4f18\u5148\u7ea7:\u989d\u5916\u8d2a\u5fc3\u7b97\u6cd5\u8fdb\u884c\u5316\u7b80+\u6392\u5e8f\u6d4b\u8bd5\u7528\u4f8b\u6c42\u5f97\u8fd1\u4f3c\u89e3"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"fault-location",children:"Fault Location"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4ee3\u7801\u53ef\u7591\u5ea6=\n(\u5931\u8d25\u6d4b\u8bd5\u7528\u4f8b\u7ecf\u8fc7\u6570/\u5931\u8d25\u6d4b\u8bd5\u7528\u4f8b\u603b\u6570)/\n(\u6210\u529f\u6d4b\u8bd5\u7528\u4f8b\u7ecf\u8fc7\u6570/\u6210\u529f\u6d4b\u8bd5\u7528\u4f8b\u603b\u6570+\u5931\u8d25\u6d4b\u8bd5\u7528\u4f8b\u7ecf\u8fc7\u6570/\u5931\u8d25\u6d4b\u8bd5\u7528\u4f8b\u603b\u6570)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5373\u5728\u6267\u884c\u8fc7\u76ee\u6807\u4ee3\u7801\u7684\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u5931\u8d25\u6d4b\u8bd5\u7528\u4f8b\u5360\u6bd4"}),"\n",(0,i.jsx)(n.h3,{id:"fuzzing-testing",children:"Fuzzing Testing"}),"\n",(0,i.jsx)(n.p,{children:"Fuzzing \u662f\u4e00\u79cd\u901a\u8fc7\u5411\u76ee\u6807\u7cfb\u7edf\u63d0\u4f9b\u975e\u9884\u671f\u7684\u8f93\u5165\u5e76\u76d1\u89c6\u5f02\u5e38\u7ed3\u679c\u6765\u53d1\u73b0\u8f6f\u4ef6\u6f0f\u6d1e\u7684\u65b9\u6cd5."}),"\n",(0,i.jsx)(n.h2,{id:"testable-code",children:"Testable Code"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5b8c\u6574\u6ce8\u91ca."}),"\n",(0,i.jsxs)(n.li,{children:["\u6700\u5c0f\u590d\u6742\u5ea6 = (\u6247\u5165 ",(0,i.jsx)(n.code,{children:"*"})," \u6247\u51fa) ^ 2."]}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u9694\u79bb\u6027: \u6700\u5c0f\u4f9d\u8d56\u6027 + \u677e\u8026\u5408\u6027."}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528\u4f9d\u8d56\u6ce8\u5165, \u5c06\u5916\u90e8\u5bf9\u8c61\u79fb\u81f3\u51fd\u6570\u53c2\u6570\u5904(\u4e0d\u5728\u51fd\u6570\u5185\u90e8\u8c03\u7528\u6784\u9020\u5668): \u6613\u4e8e\u6784\u9020 mock/stub, \u964d\u4f4e\u6247\u51fa(\u51fd\u6570\u590d\u6742\u5ea6)."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5708\u590d\u6742\u5ea6",children:"\u5708\u590d\u6742\u5ea6"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"V(G) = e - n + 2"}),": ",(0,i.jsx)(n.code,{children:"**<10**"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"\u51fd\u6570\u590d\u6742\u5ea6",children:"\u51fd\u6570\u590d\u6742\u5ea6"}),"\n",(0,i.jsxs)(n.p,{children:["\u51fd\u6570\u590d\u6742\u5ea6 = (\u6247\u5165 ",(0,i.jsx)(n.code,{children:"*"})," \u6247\u51fa) ^ 2."]}),"\n",(0,i.jsx)(n.h3,{id:"\u6247\u51fa",children:"\u6247\u51fa"}),"\n",(0,i.jsx)(n.p,{children:"\u5f15\u7528:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6240\u5f15\u7528\u5916\u90e8\u5bf9\u8c61/\u65b9\u6cd5\u4e4b\u548c."}),"\n",(0,i.jsxs)(n.li,{children:["\u6247\u51fa: ",(0,i.jsx)(n.code,{children:"**<7**"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"\u9ad8\u6247\u51fa: \u9ad8\u590d\u6742\u5ea6/\u9ad8\u4f9d\u8d56\u6027/\u9ad8\u8026\u5408\u5ea6."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u6247\u5165",children:"\u6247\u5165"}),"\n",(0,i.jsx)(n.p,{children:"\u88ab\u5f15\u7528:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5176\u4ed6\u5bf9\u8c61/\u65b9\u6cd5\u5f15\u7528\u6b64\u51fd\u6570\u7684\u6b21\u6570\u4e4b\u548c."}),"\n",(0,i.jsx)(n.li,{children:"\u4f4e\u6247\u5165: \u9876\u5c42\u4ee3\u7801, \u4e0d\u5e38\u7528\u6a21\u5757."}),"\n",(0,i.jsx)(n.li,{children:"\u9ad8\u6247\u5165: \u6807\u51c6\u5e93\u4e0e\u5de5\u5177\u7c7b, \u9ad8\u6247\u5165\u6a21\u5757\u9700\u8981\u4fdd\u6301\u7a33\u5b9a."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u8026\u5408\u5ea6",children:"\u8026\u5408\u5ea6"}),"\n",(0,i.jsx)(n.h4,{id:"\u5185\u5bb9\u8026\u5408",children:"\u5185\u5bb9\u8026\u5408"}),"\n",(0,i.jsx)(n.p,{children:"5 \u7ea7\u8026\u5408\u5ea6:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"O.property = 'tazimi'\nO.method = function () {}\nO.prototype.method = function () {}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u516c\u5171\u8026\u5408",children:"\u516c\u5171\u8026\u5408"}),"\n",(0,i.jsx)(n.p,{children:"4 \u7ea7\u8026\u5408\u5ea6, \u5171\u4eab\u5168\u5c40\u53d8\u91cf:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let Global = 'global'\n\nfunction A() {\n  Global = 'A'\n}\nfunction B() {\n  Global = 'B'\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u63a7\u5236\u8026\u5408",children:"\u63a7\u5236\u8026\u5408"}),"\n",(0,i.jsx)(n.p,{children:"3 \u7ea7\u8026\u5408\u5ea6:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const absFactory = new AbstractFactory({ env: 'TEST' })\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u5370\u8bb0\u8026\u5408",children:"\u5370\u8bb0\u8026\u5408"}),"\n",(0,i.jsx)(n.p,{children:"2 \u7ea7\u8026\u5408\u5ea6:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"O.prototype.makeBread = function (args) {\n  return new Bread(args.type, args.size)\n}\n\nO.makeBread({ type: wheat, size: 99, name: 'foo' })\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u6570\u636e\u8026\u5408",children:"\u6570\u636e\u8026\u5408"}),"\n",(0,i.jsx)(n.p,{children:"1 \u7ea7\u8026\u5408\u5ea6."}),"\n",(0,i.jsx)(n.h4,{id:"\u65e0\u8026\u5408",children:"\u65e0\u8026\u5408"}),"\n",(0,i.jsx)(n.p,{children:"0 \u7ea7\u8026\u5408\u5ea6."}),"\n",(0,i.jsx)(n.h2,{id:"unit-testing",children:"Unit Testing"}),"\n",(0,i.jsx)(n.h3,{id:"unit-testing-principles",children:"Unit Testing Principles"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4ee3\u7801\u8986\u76d6\u7387."}),"\n",(0,i.jsx)(n.li,{children:"\u975e\u6cd5\u503c\u6d4b\u8bd5."}),"\n",(0,i.jsx)(n.li,{children:"\u8fb9\u754c\u6d4b\u8bd5."}),"\n",(0,i.jsx)(n.li,{children:"\u975e\u8fb9\u754c\u6d4b\u8bd5."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"testing-code-isolation",children:"Testing Code Isolation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7f16\u5199\u4ee3\u7801\u65f6, \u4fdd\u6301\u6700\u5c0f\u590d\u6742\u5ea6(\u6700\u5c0f\u4f9d\u8d56, \u6700\u4f4e\u8026\u5408)."}),"\n",(0,i.jsx)(n.li,{children:"\u5229\u7528 mock/stub \u6a21\u62df\u5916\u90e8\u4f9d\u8d56/\u6d4b\u8bd5\u6570\u636e."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"testing-mocks",children:"Testing Mocks"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"mock: \u6a21\u62df\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5/\u63a5\u53e3"}),"\n",(0,i.jsx)(n.li,{children:"stub: \u6a21\u62df\u5bf9\u8c61\u4e2d\u7684\u8fd4\u56de\u503c"}),"\n",(0,i.jsx)(n.li,{children:"spy: \u5728\u539f\u6709\u5bf9\u8c61\u7684\u57fa\u7840\u4e0a, \u589e\u52a0\u76d1\u89c6\u7528\u53d8\u91cf/\u65b9\u6cd5 e.g assert/\u8c03\u7528\u6b21\u6570/\u53c2\u6570\u9650\u5236"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const mockery = require('mockery')\nmockery.enable()\n\ndescribe('Sum suite File', () => {\n  beforeEach(() => {\n    mockery.registerAllowable('./mySumFS', true)\n  })\n\n  afterEach(() => {\n    mockery.deregisterAllowable('./mySumFS')\n  })\n\n  it('Adds Integers!', () => {\n    const filename = 'numbers'\n    const fsMock = {\n      readFileSync(path, encoding) {\n        expect(path).toEqual(filename)\n        expect(encoding).toEqual('utf8')\n        return JSON.stringify({ a: 9, b: 3 })\n      },\n    }\n\n    mockery.registerMock('fs', fsMock)\n    const mySum = require('./mySumFS')\n    expect(mySum.sum(filename)).toEqual(12)\n    mockery.deregisterMock('fs')\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"headless-testing",children:"Headless Testing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pptr.dev/#?product=Puppeteer&version=v1.16.0&show=api-class-page",children:"Puppeteer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://addyosmani.com/blog/puppeteer-recipes",children:"Puppeteer Recipes"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const puppeteer = require('puppeteer')\n\n;(async () => {\n  const browser = await puppeteer.launch()\n  const page = await browser.newPage()\n  await page.goto('https://example.com')\n  await page.screenshot({ path: 'example.png' })\n  await browser.close()\n})()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"browser-context",children:"Browser Context"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Create a new incognito browser context\nconst context = await browser.createIncognitoBrowserContext()\n// Create a new page inside context.\nconst page = await context.newPage()\n// ... do stuff with page ...\nawait page.goto('https://example.com')\n// Dispose context once it's no longer needed.\nawait context.close()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dom-testing",children:"DOM Testing"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"page.$(selector)"})," same to ",(0,i.jsx)(n.code,{children:"querySelector"})]}),"\n",(0,i.jsx)(n.h3,{id:"event-testing",children:"Event Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// wait for selector\nawait page.waitFor('.foo')\n// wait for 1 second\nawait page.waitFor(1000)\n// wait for predicate\nawait page.waitFor(() => !!document.querySelector('.foo'))\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async (browser) => {\n  const page = await browser.newPage()\n  const watchDog = page.waitForFunction('window.innerWidth < 100')\n  await page.setViewport({ width: 50, height: 50 })\n  await watchDog\n  await browser.close()\n})\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const [response] = await Promise.all([\n  page.waitForNavigation(), // The promise resolves after navigation has finished\n  page.click('a.my-link'), // Clicking the link will indirectly cause a navigation\n])\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const firstRequest = await page.waitForRequest('http://example.com/resource')\nconst finalRequest = await page.waitForRequest(\n  request =>\n    request.url() === 'http://example.com' && request.method() === 'GET'\n)\nreturn firstRequest.url()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const firstResponse = await page.waitForResponse('https://example.com/resource')\nconst finalResponse = await page.waitForResponse(\n  response =>\n    response.url() === 'https://example.com' && response.status() === 200\n)\nreturn finalResponse.ok()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await page.evaluate(() => window.open('https://www.example.com/'))\nconst newWindowTarget = await browserContext.waitForTarget(\n  target => target.url() === 'https://www.example.com/'\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"operation-simulation-testing",children:"Operation Simulation Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const [response] = await Promise.all([\n  page.waitForNavigation(waitOptions),\n  page.click(selector, clickOptions),\n])\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Using \u2018page.mouse\u2019 to trace a 100x100 square.\nawait page.mouse.move(0, 0)\nawait page.mouse.down()\nawait page.mouse.move(0, 100)\nawait page.mouse.move(100, 100)\nawait page.mouse.move(100, 0)\nawait page.mouse.move(0, 0)\nawait page.mouse.up()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await page.keyboard.type('Hello World!')\nawait page.keyboard.press('ArrowLeft')\n\nawait page.keyboard.down('Shift')\nfor (let i = 0; i < ' World'.length; i++) await page.keyboard.press('ArrowLeft')\nawait page.keyboard.up('Shift')\n\nawait page.keyboard.press('Backspace')\n// Result text will end up saying 'Hello!'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"tracing-testing",children:"Tracing Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await page.tracing.start({ path: 'trace.json' })\nawait page.goto('https://www.google.com')\nawait page.tracing.stop()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"puppeteer-testing-api",children:"Puppeteer Testing API"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"page.setOfflineMode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"page.setGeolocation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"page.metrics"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"page.accessibility"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"page.coverage"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"testing-frameworks",children:"Testing Frameworks"}),"\n",(0,i.jsx)(n.h3,{id:"unit-testing-frameworks",children:"Unit Testing Frameworks"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Jest."}),"\n",(0,i.jsx)(n.li,{children:"Jasmine."}),"\n",(0,i.jsx)(n.li,{children:"Mocha."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ui-testing-frameworks",children:"UI Testing Frameworks"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Cypress/PlayWright/Puppeteer."}),"\n",(0,i.jsx)(n.li,{children:"\u7528\u6237\u884c\u4e3a: Karma/Selenium."}),"\n",(0,i.jsx)(n.li,{children:"\u529f\u80fd\u6d4b\u8bd5: Phantom.js/Slimer.js/Karma."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"testing-tools",children:"Testing Tools"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"JUnit."}),"\n",(0,i.jsx)(n.li,{children:"SeleniumIDE."}),"\n",(0,i.jsx)(n.li,{children:"PICT."}),"\n",(0,i.jsx)(n.li,{children:"GuiTar."}),"\n",(0,i.jsx)(n.li,{children:"Randoop."}),"\n",(0,i.jsx)(n.li,{children:"Apache Jmeter: \u538b\u529b\u6d4b\u8bd5."}),"\n",(0,i.jsx)(n.li,{children:"Monkey: Random testing."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"jest-testing",children:"Jest Testing"}),"\n",(0,i.jsx)(n.h3,{id:"jest-installation",children:"Jest Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -D jest ts-jest @types/jest react-test-renderer\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jest-configuration",children:"Jest Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"jest.config.js"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { pathsToModuleNameMapper } = require('ts-jest/utils')\nconst { compilerOptions } = require('./tsconfig.json')\nconst paths = pathsToModuleNameMapper(compilerOptions.paths, {\n  prefix: '<rootDir>/',\n})\n\n/** @type {import('ts-jest/dist/types').InitialOptionsTsJest} */\nmodule.exports = {\n  roots: ['<rootDir>/src'],\n  collectCoverage: true,\n  coverageDirectory: 'coverage',\n  transform: {\n    '^.+\\\\.jsx?$': '<rootDir>/jest.transformer.js',\n    '^.+\\\\.tsx?$': 'ts-jest',\n  },\n  transformIgnorePatterns: ['node_modules/(?!(gatsby)/)'],\n  moduleFileExtensions: ['ts', 'tsx', 'js', 'jsx', 'json', 'node'],\n  moduleNameMapper: {\n    '.+\\\\.(css|styl|less|sass|scss)$': 'identity-obj-proxy',\n    '.+\\\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$':\n      '<rootDir>/__mocks__/jest.mock.js',\n    ...paths,\n    '^@components/(.*)$': '<rootDir>/src/components/$1',\n    '^@hooks/(.*)$': '<rootDir>/src/hooks/$1',\n    '^@layouts/(.*)$': '<rootDir>/src/layouts/$1',\n    '^@types/(.*)$': '<rootDir>/src/types/$1',\n  },\n  testPathIgnorePatterns: ['node_modules', '\\\\.cache', '<rootDir>.*/build'],\n  testRegex: '(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$',\n  globals: {\n    'window': {},\n    'ts-jest': {\n      tsConfig: './tsconfig.json',\n    },\n  },\n  testURL: 'http://localhost',\n  testEnvironment: 'jsdom',\n  setupFiles: ['<rootDir>/jest.env.setup.js'],\n  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],\n  setupTestFrameworkScriptFile: '<rootDir>/src/setupEnzyme.ts',\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"jest.env.setup.js"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'node:path'\nimport dotenv from 'dotenv'\n\nconsole.log(`============ env-setup Loaded ===========`)\ndotenv.config({\n  path: path.resolve(process.cwd(), 'tests', 'settings', '.test.env'),\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"jest.setup.js"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Mock missing JSDOM functions."}),"\n",(0,i.jsx)(n.li,{children:"Inject more expect DOM assertion."}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/testing-library/jest-dom",children:"Jest DOM Expect API"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import '@testing-library/jest-dom'\n\n// Global/Window object Stubs for Jest\nwindow.matchMedia\n  = window.matchMedia\n  || function () {\n    return {\n      matches: false,\n      addListener() {},\n      removeListener() {},\n    }\n  }\n\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(), // deprecated\n    removeListener: jest.fn(), // deprecated\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n})\n\nwindow.requestAnimationFrame = function (callback) {\n  setTimeout(callback)\n}\n\nwindow.cancelAnimationFrame = window.clearTimeout\n\nwindow.localStorage = {\n  getItem() {},\n  setItem() {},\n}\n\nObject.values = () => []\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"vitest.config.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import react from '@vitejs/plugin-react'\nimport { defineConfig } from 'vite'\n\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    environment: 'jsdom',\n    globals: true,\n    setupFiles: './tests/setup.ts',\n  },\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tests/setup.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as matchers from '@testing-library/jest-dom/matchers'\nimport { cleanup } from '@testing-library/react'\nimport { afterEach, expect } from 'vitest'\n\nexpect.extend(matchers)\n\nafterEach(() => {\n  cleanup()\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"setupEnzyme.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { configure } from 'enzyme'\nimport * as EnzymeAdapter from 'enzyme-adapter-react-16'\n\nconfigure({ adapter: new EnzymeAdapter() })\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jest-basic-testing",children:"Jest Basic Testing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"describe"})," block."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"test"})," statement."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"it"})," statement."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"test.todo"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Skip empty todo tests."}),"\n",(0,i.jsx)(n.li,{children:"Skip temporary broken tests."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { fireEvent, render, screen } from '@testing-library/react'\nimport LandingNav from './LandingNav'\n\ndescribe('LandingNav', () => {\n  test('should expanded when clicked', () => {\n    render(<LandingNav />)\n\n    expect(screen.getByRole('navigation')).toHaveStyle(\n      'transform: translateX(-100%) translateZ(0);'\n    )\n    expect(screen.getByRole('banner')).toHaveStyle('opacity: 0')\n\n    fireEvent.click(screen.getByTestId('hamburger-icon'))\n\n    expect(screen.getByRole('navigation')).toHaveStyle(\n      'transform: translateX(0%) translateZ(0);'\n    )\n    expect(screen.getByRole('banner')).toHaveStyle('opacity: 0.8')\n\n    fireEvent.click(screen.getByTestId('hamburger-button'))\n\n    expect(screen.getByRole('navigation')).toHaveStyle(\n      'transform: translateX(-100%) translateZ(0);'\n    )\n    expect(screen.getByRole('banner')).toHaveStyle('opacity: 0')\n  })\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"userEvent"})," instead of ",(0,i.jsx)(n.code,{children:"fireEvent"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import userEvent from '@testing-library/user-event'\n\n// setup userEvent\nfunction setup(jsx) {\n  return {\n    user: userEvent.setup(),\n    ...render(jsx),\n  }\n}\n\ndescribe('Form', () => {\n  it('should save correct data on submit', async () => {\n    const mockSave = jest.fn()\n    const { user } = setup(<Form saveData={mockSave} />)\n\n    await user.type(screen.getByRole('textbox', { name: 'Name' }), 'Test')\n    await user.click(screen.getByRole('button', { name: 'Sign up' }))\n\n    expect(mockSave).toHaveBeenLastCalledWith({ ...defaultData, name: 'Test' })\n  })\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"findBy"})," instead of ",(0,i.jsx)(n.code,{children:"waitFor"})," + ",(0,i.jsx)(n.code,{children:"getBy"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"describe('ListPage', () => {\n  it('renders without breaking', async () => {\n    render(<ListPage />)\n    expect(\n      await screen.findByRole('heading', { name: 'List of items' }),\n    ).toBeInTheDocument()\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jest-snapshot-testing",children:"Jest Snapshot Testing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"When you run jest first time,\nit will produce an snapshot file."}),"\n",(0,i.jsx)(n.li,{children:"The next time run the tests,\nrendered output will be compared to previously created snapshot."}),"\n",(0,i.jsxs)(n.li,{children:["If change is expected,\nuse ",(0,i.jsx)(n.code,{children:"jest -u"})," to overwrite existing snapshot."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { fireEvent, render, screen } from '@testing-library/react'\nimport ThemeSwitch from './ThemeSwitch'\n\ndescribe('ThemeSwitch', () => {\n  test('should switch dark mode when clicked', () => {\n    const { container } = render(<ThemeSwitch />)\n\n    fireEvent.click(screen.getByTestId('toggle-wrapper'))\n\n    expect(container).toMatchSnapshot()\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jest-async-testing",children:"Jest Async Testing"}),"\n",(0,i.jsxs)(n.p,{children:["Jest async ",(0,i.jsx)(n.a,{href:"https://jestjs.io/docs/tutorial-async",children:"guide"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await expect(asyncCall()).resolves.toEqual('Expected')\nawait expect(asyncCall()).rejects.toThrowError()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jest-mocks",children:"Jest Mocks"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Mocks",src:s(7976).A+"",title:"Mocks",width:"1166",height:"879"})}),"\n",(0,i.jsx)(n.h4,{id:"jest-mocks-utils",children:"Jest Mocks Utils"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"__mocks__"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jest.createMockFromModule('moduleName')"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jest.requireActual('moduleName')"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"spyOn"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jest.spyOn().mockImplementation"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jest.spyOn().mockReturnValue"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jest.spyOn().mockReturnValueOnce"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jest.spyOn().mockResolvedValue"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jest.spyOn().mockRejectedValue"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mockModule.mockClear"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mockModule.mockReset"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mockModule.mockRestore"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"jest-module-mocks",children:"Jest Module Mocks"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'// react-dom.js\nconst reactDom = jest.requireActual(\'react-dom\')\n\nfunction mockCreatePortal(element, target) {\n  return (\n    <div>\n      <div id="content">{element}</div>\n      <div id="target" data-target-tag-name={target.tagName}></div>\n    </div>\n  )\n}\n\nreactDom.createPortal = mockCreatePortal\n\nmodule.exports = reactDom\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// gatsby.js\nconst gatsby = jest.requireActual('gatsby')\n\nmodule.exports = {\n  ...gatsby,\n  graphql: jest.fn(),\n  Link: jest\n    .fn()\n    .mockImplementation(\n      ({\n        activeClassName,\n        activeStyle,\n        getProps,\n        innerRef,\n        partiallyActive,\n        ref,\n        replace,\n        to,\n        ...rest\n      }) =>\n        React.createElement('a', {\n          ...rest,\n          href: to,\n        })\n    ),\n  StaticQuery: jest.fn(),\n  useStaticQuery: jest.fn(),\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"jest-date-mocks",children:"Jest Date Mocks"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"jest\n  .spyOn(Date.prototype, 'toISOString')\n  .mockReturnValue('2020-06-20T13:37:00.000Z')\n"})}),"\n",(0,i.jsx)(n.h4,{id:"jest-api-mocks",children:"Jest API Mocks"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { rest } from 'msw'\nimport { setupServer } from 'msw/node'\n\nconst handlers = [\n  rest.get('https://mysite.com/api/role', async (req, res, ctx) => {\n    res(ctx.status(200), ctx.json({ userType: 'user' }))\n  }),\n]\n\nconst server = setupServer(...handlers)\n\nexport default server\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import server from './mockServer/server'\n\nbeforeAll(() => {\n  server.listen()\n})\n\nafterEach(() => {\n  server.resetHandlers()\n})\n\nafterAll(() => {\n  server.close()\n})\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import type { UserRoleType } from './apis/user'\nimport { render, screen } from '@testing-library/react'\nimport { rest } from 'msw'\nimport AuthButton from './components/AuthButton'\nimport server from './mockServer/server'\n\nfunction setup(userType: UserRoleType) {\n  server.use(\n    rest.get('https://mysite.com/api/role', async (req, res, ctx) => {\n      return res(ctx.status(200), ctx.json({ userType }))\n    })\n  )\n}\n\ndescribe('AuthButton', () => {\n  it('should render user text', async () => {\n    setup('user')\n\n    render(<AuthButton>Hello</AuthButton>)\n\n    expect(await screen.findByText('Hello User')).toBeInTheDocument()\n  })\n\n  it('should render admin text', async () => {\n    setup('admin')\n\n    render(<AuthButton>Hello</AuthButton>)\n\n    expect(await screen.findByText('Hello Admin')).toBeInTheDocument()\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jest-internals",children:"Jest Internals"}),"\n",(0,i.jsx)(n.h4,{id:"jest-runtime-sandbox",children:"Jest Runtime Sandbox"}),"\n",(0,i.jsxs)(n.p,{children:["Running tests in\n",(0,i.jsx)(n.a,{href:"https://2ality.com/2022/04/shadow-realms.html#use-cases-for-shadowrealms",children:(0,i.jsx)(n.code,{children:"ShadowRealms"})}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// demo.test.js\nimport { test } from './TestLib.js'\n\ntest('succeeds', () => {\n  assert.equal(3, 3)\n})\n\ntest('fails', () => {\n  assert.equal(1, 3)\n})\n\n// This statement can add by `babel`.\n\nexport default true\n\n// TestLib.js\nconst testSuites = []\n\nexport function test(description, callback) {\n  testSuites.push({ description, callback })\n}\n\nexport function runTests() {\n  const testResults = []\n\n  for (const testSuite of testSuites) {\n    try {\n      testSuite.callback()\n      testResults.push(`${testSuite.description}: OK\\n`)\n    } catch (err) {\n      testResults.push(`${testSuite.description}: ${err}\\n`)\n    }\n  }\n\n  return testResults.join('')\n}\n\n// TestRunner.js\nasync function runTestModule(moduleSpecifier) {\n  const sr = new ShadowRealm()\n  await sr.importValue(moduleSpecifier, 'default')\n  const runTests = await sr.importValue('./TestLib.js', 'runTests')\n  const result = runTests()\n  console.log(result)\n}\n\nawait runTestModule('./demo.test.js')\n"})}),"\n",(0,i.jsx)(n.h4,{id:"jest-test-runner",children:"Jest Test Runner"}),"\n",(0,i.jsxs)(n.p,{children:["A simple\n",(0,i.jsx)(n.a,{href:"https://github.com/typicode/xv",children:"test runner"}),"\nimplementation:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { promises as fs } from 'node:fs'\nimport { basename, dirname, join } from 'node:path'\nimport { pathToFileURL } from 'node:url'\n\nasync function* walk(dir: string): AsyncGenerator<string> {\n  for await (const d of await fs.opendir(dir)) {\n    const entry = join(dir, d.name)\n\n    if (d.isDirectory())\n      yield * walk(entry)\n    else if (d.isFile())\n      yield entry\n  }\n}\n\nasync function runTestFile(file: string): Promise<void> {\n  for (const value of Object.values(\n    await import(pathToFileURL(file).toString())\n  )) {\n    if (typeof value === 'function') {\n      try {\n        await value()\n      } catch (e) {\n        console.error(e instanceof Error ? e.stack : e)\n        process.exit(1)\n      }\n    }\n  }\n}\n\nasync function run(arg = '.') {\n  if ((await fs.lstat(arg)).isFile())\n    return runTestFile(arg)\n\n  for await (const file of walk(arg)) {\n    if (\n      !dirname(file).includes('node_modules')\n      && (basename(file) === 'test.js' || file.endsWith('.test.js'))\n    ) {\n      console.log(file)\n      await runTestFile(file)\n    }\n  }\n}\n\nrun(process.argv[2])\n"})}),"\n",(0,i.jsx)(n.h4,{id:"jest-native-runner",children:"Jest Native Runner"}),"\n",(0,i.jsxs)(n.p,{children:["Implement component testing with\n",(0,i.jsxs)(n.a,{href:"https://whistlr.info/2022/test-react-builtin",children:["native ",(0,i.jsx)(n.code,{children:"node:test"})," module"]}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import assert from 'node:assert'\nimport test from 'node:test'\nimport { cleanup, render } from '@testing-library/react'\nimport jsdom from 'jsdom'\n\nconst j = new jsdom.JSDOM(undefined, {\n  url: 'http://localhost', // Many APIs are confused without being \"on a real URL\"\n  pretendToBeVisual: true, // This adds dummy requestAnimationFrame and friends\n})\n\n// We need to add everything on JSDOM's window object to global scope.\n// We don't add anything starting with _, or anything that's already there.\nObject.getOwnPropertyNames(j.window)\n  .filter(k => !k.startsWith('_') && !(k in globalThis))\n  .forEach(k => (globalThis[k] = j.window[k]))\n\n// Finally, tell React 18+ that we are not really a browser.\nglobalThis.IS_REACT_ACT_ENVIRONMENT = true\n\nfunction reactTest(name, fn) {\n  return test(name, () => {\n    cleanup() // always cleanup first\n    return fn()\n  })\n}\n\nexport default function FooComponent({ text }: { text: string }) {\n  return (\n    <div>\n      Hello\n      {' '}\n      <span data-testid=\"hold\">{text}</span>\n    </div>\n  )\n}\n\nreactTest('test component', () => {\n  const result = render(<FooComponent name={Sam} />)\n  assert.strictEqual(result.getByTestId('hold').textContent, 'Sam')\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jest-performance",children:"Jest Performance"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Jest"})," \u7684\u6574\u4f53\u67b6\u6784, \u5176\u4e2d\u6709 3 \u4e2a\u5730\u65b9\u6bd4\u8f83\u8017\u6027\u80fd:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u751f\u6210\u865a\u62df\u6587\u4ef6\u7cfb\u7edf (",(0,i.jsx)(n.code,{children:"jest-haste-map"}),"): \u5728\u8dd1\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u4f1a\u5f88\u6162."]}),"\n",(0,i.jsx)(n.li,{children:"\u591a\u7ebf\u7a0b: \u751f\u6210\u65b0\u7ebf\u7a0b\u8017\u8d39\u7684\u8d44\u6e90."}),"\n",(0,i.jsxs)(n.li,{children:["\u6587\u4ef6\u8f6c\u8bd1: ",(0,i.jsx)(n.code,{children:"Jest"})," \u4f1a\u5728\u6267\u884c\u5230\u8be5\u6587\u4ef6\u518d\u5bf9\u5b83\u8fdb\u884c\u8f6c\u8bd1. \u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"esbuild-jest"}),"/",(0,i.jsx)(n.code,{children:"@swc/jest"})," \u52a0\u901f\u8f6c\u8bd1."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"jest-plugins",children:"Jest Plugins"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Jest debug ",(0,i.jsx)(n.a,{href:"https://github.com/nvh95/jest-preview",children:"tool"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Jest visual regression testing ",(0,i.jsx)(n.a,{href:"https://github.com/americanexpress/jest-image-snapshot",children:"tool"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"jest-best-practices",children:"Jest Best Practices"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Avoid ",(0,i.jsx)(n.a,{href:"https://semaphoreci.com/blog/flaky-react",children:"flaky testing"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.a,{href:"https://claritydev.net/blog/improving-react-testing-library-tests#use-userevent-instead-of-fireevent",children:(0,i.jsx)(n.code,{children:"userEvent"})}),"\ninstead of ",(0,i.jsx)(n.code,{children:"fireEvent"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.a,{href:"https://claritydev.net/blog/improving-react-testing-library-tests#simplify-the-waitfor-queries-with-findby",children:(0,i.jsx)(n.code,{children:"findBy"})}),"\ninstead of ",(0,i.jsx)(n.code,{children:"waitFor"})," + ",(0,i.jsx)(n.code,{children:"getBy"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cypress-testing",children:"Cypress Testing"}),"\n",(0,i.jsx)(n.p,{children:"When it comes to test heavy visual features,\n(e.g fixed navigation based on window scroll event),\nE2E testing helps a lot."}),"\n",(0,i.jsx)(n.h3,{id:"cypress-installation",children:"Cypress Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn add -D cypress typescript\nyarn cypress open\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cypress open"})," will initialize the cypress folder structure."]}),"\n",(0,i.jsx)(n.h3,{id:"cypress-configuration",children:"Cypress Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cypress/tsconfig.json"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "extends": "../tsconfig.json",\n  "include": ["global.d.ts", "**/*.ts"],\n  "exclude": [],\n  "compilerOptions": {\n    "strict": true,\n    "target": "ES6",\n    "lib": ["ES6", "DOM"],\n    "types": ["cypress"],\n    "isolatedModules": false,\n    "noEmit": true\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cypress/global.d.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'/// <reference types="cypress" />\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cypress.config.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { defineConfig } from 'cypress'\n\nexport default defineConfig({\n  e2e: {\n    baseUrl: 'http://localhost:3000',\n  },\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tsconfig.json"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx"],\n  "exclude": ["node_modules", "cypress"]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "e2e:chrome": "start-server-and-test e2e:prepare http://localhost:3000 cypress:chrome",\n    "e2e:firefox": "start-server-and-test e2e:prepare http://localhost:3000 cypress:firefox",\n    "e2e:ui": "start-server-and-test e2e:prepare http://localhost:3000 cypress:open",\n    "e2e:prepare": "yarn build && yarn serve",\n    "cypress:chrome": "cypress run --browser chrome",\n    "cypress:chromium": "cypress run --browser chromium",\n    "cypress:edge": "cypress run --browser edge",\n    "cypress:electron": "cypress run",\n    "cypress:firefox": "cypress run --browser firefox",\n    "cypress:open": "cypress open --browser electron --e2e"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:".gitignore"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# cypress files\ncypress/screenshots\ncypress/videos\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"jest.config.js"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const config = {\n  testPathIgnorePatterns: ['/node_modules/', '/.next/', '/cypress/'],\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"basic-cypress-testing",children:"Basic Cypress Testing"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cypress/support/commands.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import '@testing-library/cypress/add-commands'\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cypress/e2e/component.cy.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"/// <reference types=\"cypress\"/>\n\ndescribe('component', () => {\n  it('should work', () => {\n    cy.visit('/')\n    cy.get('#onOff')\n      .should('have.text', 'off')\n      .click()\n      .should('have.text', 'on')\n  })\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cypress/e2e/payment.cy.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { v4 as uuid } from 'uuid'\n\ndescribe('payment', () => {\n  it('user can make payment', () => {\n    //  Login.\n    cy.visit('/')\n    cy.findByRole('textbox', { name: /username/i }).type('sabertaz')\n    cy.findByLabelText(/password/i).type('secret')\n    cy.findByRole('checkbox', { name: /remember me/i }).check()\n    cy.findByRole('button', { name: /sign in/i }).click()\n\n    // Check account balance.\n    let oldBalance\n    cy.get('[data-test=nav-user-balance]').then(\n      $balance => (oldBalance = $balance.text())\n    )\n\n    // Click on new button.\n    cy.findByRole('button', { name: /new/i }).click()\n\n    // Search for user.\n    cy.findByRole('textbox').type('devon becker')\n    cy.findByText(/devon becker/i).click()\n\n    // Add amount and note and click pay.\n    const paymentAmount = '5.00'\n    cy.findByPlaceholderText(/amount/i).type(paymentAmount)\n    const note = uuid()\n    cy.findByPlaceholderText(/add a note/i).type(note)\n    cy.findByRole('button', { name: /pay/i }).click()\n\n    // Return to transactions.\n    cy.findByRole('button', { name: /return to transactions/i }).click()\n\n    // Go to personal payments.\n    cy.findByRole('tab', { name: /mine/i }).click()\n\n    // Click on payment.\n    cy.findByText(note).click({ force: true })\n\n    // Verify if payment was made.\n    cy.findByText(`-$${paymentAmount}`).should('be.visible')\n    cy.findByText(note).should('be.visible')\n\n    // Verify if payment amount was deducted.\n    cy.get('[data-test=nav-user-balance]').then(($balance) => {\n      const convertedOldBalance = Number.parseFloat(oldBalance.replace(/\\$|,/g, ''))\n      const convertedNewBalance = Number.parseFloat(\n        $balance.text().replace(/\\$|,/g, '')\n      )\n      expect(convertedOldBalance - convertedNewBalance).to.equal(\n        Number.parseFloat(paymentAmount)\n      )\n    })\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cypress-principles",children:"Cypress Principles"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Flake resistance and retry-ability:\ndon't wait for fixed time, wait for specific elements (",(0,i.jsx)(n.code,{children:"cy.as"}),"):\n",(0,i.jsx)(n.code,{children:"cy.get"}),"/",(0,i.jsx)(n.code,{children:"cy.find"}),"/",(0,i.jsx)(n.code,{children:"cy.its"}),"/",(0,i.jsx)(n.code,{children:"cy.should"})," commands will\ngive the page an opportunity to fully load,\nand then the tests can proceed (Cypress run in browser directly)."]}),"\n",(0,i.jsxs)(n.li,{children:["Asynchronous nature:\nuse ",(0,i.jsx)(n.code,{children:"cy.then"}),"/",(0,i.jsx)(n.code,{children:"cy.wrap"})," for\n",(0,i.jsx)(n.a,{href:"https://learn.cypress.io/cypress-fundamentals/understanding-the-asynchronous-nature-of-cypress",children:"async nature of Cypress"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cypress-commands",children:"Cypress Commands"}),"\n",(0,i.jsx)(n.h4,{id:"cypress-basic-commands",children:"Cypress Basic Commands"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.its"}),": get property value on previously yielded subject."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.invoke"}),": invoke function on previously yielded subject."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"cy.wrap(['Wai Yan', 'Yu']).its(1).should('eq', 'Yu')\ncy.wrap({ age: 52 }).its('age').should('eq', 52)\ncy.wait('@publicTransactions')\n  .its('response.body.results')\n  .invoke('slice', 0, 5)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"cypress-action-commands",children:"Cypress Action Commands"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.click"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.dbclick"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.type"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.clear"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.focus"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.blur"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.check"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.uncheck"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.select"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.selectFile"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.submit"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.trigger"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.scrollTo"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.scrollIntoView"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"cypress-network-commands",children:"Cypress Network Commands"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.intercept"}),": mock API response."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"cy.intercept('GET', '/transactions/public*', {\n  fixture: 'public-transactions.json',\n}).as('mockedPublicTransactions')\n\ncy.wait('@mockedPublicTransactions')\n\ncy.intercept('GET', '/transactions/public*', {\n  headers: {\n    'X-Powered-By': 'Express',\n    'Date': new Date().toString(),\n  },\n})\n\ncy.intercept('POST', '/bankAccounts', (req) => {\n  const { body } = req\n  req.continue((res) => {\n    res.body.data.listBankAccount = []\n  })\n})\n\ncy.intercept('POST', apiGraphQL, (req) => {\n  const { body } = req\n\n  if (\n    Object.hasOwn(body, 'operationName')\n    && body.operationName === 'CreateBankAccount'\n  ) {\n    req.alias = 'gqlCreateBankAccountMutation'\n  }\n})\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cy.request"}),": API integration/E2E tests."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"Cypress.Commands.add('getAllPosts', () => {\n  return cy.request('GET', '/api/posts').then((response) => {\n    return cy.wrap(response.body)\n  })\n})\n\nCypress.Commands.add('getFirstPost', () => {\n  return cy.request('GET', '/api/posts').then((response) => {\n    return cy.wrap(response.body).its(0)\n  })\n})\n\ndescribe('GET', () => {\n  it('gets a list of users', () => {\n    cy.request('GET', '/users').then((response) => {\n      expect(response.status).to.eq(200)\n      expect(response.body.results).length.to.be.greaterThan(1)\n    })\n  })\n\n  it('gets a list of comments', () => {\n    cy.request('/comments').as('comments')\n\n    cy.get('@comments').should((response) => {\n      expect(response.body).to.have.length(500)\n      expect(response).to.have.property('headers')\n      expect(response).to.have.property('duration')\n    })\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h4,{id:"cypress-custom-command",children:"Cypress Custom Command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"/// <reference types=\"cypress\" />\n\ndeclare global {\n  namespace Cypress {\n    interface Chainable {\n      findByRole: (role: string) => Chainable<JQuery<HTMLElement>>\n      findByTestId: (testId: string) => Chainable<JQuery<HTMLElement>>\n      getByRole: (role: string) => Chainable<JQuery<HTMLElement>>\n      getByTestId: (testId: string) => Chainable<JQuery<HTMLElement>>\n    }\n  }\n}\n\nCypress.Commands.add(\n  'findByRole',\n  { prevSubject: 'element' },\n  (subject, role) => {\n    return cy.wrap(subject, { log: false }).find(`[role=\"${role}\"]`)\n  }\n)\n\nCypress.Commands.add(\n  'findByTestId',\n  { prevSubject: 'element' },\n  (subject, testId) => {\n    return cy.wrap(subject, { log: false }).find(`[data-testid=\"${testId}\"]`)\n  }\n)\n\nCypress.Commands.add('getByRole', (role) => {\n  return cy.get(`[role=\"${role}\"]`)\n})\n\nCypress.Commands.add('getByTestId', (testId) => {\n  return cy.get(`[data-testid=\"${testId}\"]`)\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://filiphric.com/improve-your-custom-command-logs-in-cypress",children:"Custom command log"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"Cypress.Commands.add('take', (input: string) => {\n  let element: JQuery<HTMLElement> | HTMLElement[]\n  let count: number\n\n  const log = Cypress.log({\n    autoEnd: false,\n    consoleProps() {\n      return {\n        selector: input,\n        Yielded: element,\n        Elements: count,\n      }\n    },\n    displayName: 'take',\n    name: 'Get by [data-cy] attribute',\n  })\n\n  cy.get(`[data-cy=${input}]`, { log: false }).then(($el) => {\n    element = Cypress.dom.getElements($el)\n    count = $el.length\n    log.set({ $el })\n    log.snapshot().end()\n  })\n\n  cy.on('fail', (err) => {\n    log.error(err)\n    log.end()\n    throw err\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cypress-plugin",children:"Cypress Plugin"}),"\n",(0,i.jsxs)(n.p,{children:["Setup ",(0,i.jsx)(n.code,{children:"TypeScript"})," to transpile tests:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import wp from '@cypress/webpack-preprocessor'\n// cypress.config.ts\nimport { defineConfig } from 'cypress'\n\nexport default defineConfig({\n  e2e: {\n    setupNodeEvents(on, config) {\n      on(\n        'file:preprocessor',\n        wp({\n          webpackOptions: {\n            resolve: {\n              extensions: ['.ts', '.tsx', '.js', '.jsx'],\n            },\n            module: {\n              rules: [\n                {\n                  test: /\\.tsx?$/,\n                  loader: 'ts-loader',\n                  options: { transpileOnly: true },\n                },\n              ],\n            },\n          },\n        })\n      )\n    },\n  },\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"AXE"})," a11y testing:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// cypress.config.ts\nimport { defineConfig } from 'cypress'\nimport fetch from 'undici'\n\nexport default defineConfig({\n  e2e: {\n    setupNodeEvents(on, config) {\n      on('task', {\n        sitemapLocations() {\n          return fetch(`${config.baseUrl}/sitemap.xml`, {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/xml',\n            },\n          })\n            .then(res => res.text())\n            .then((xml) => {\n              const locs = [...xml.matchAll(`<loc>(.|\\n)*?</loc>`)].map(\n                ([loc]) => loc.replace('<loc>', '').replace('</loc>', '')\n              )\n              return locs\n            })\n        },\n      })\n\n      return config\n    },\n  },\n})\n\n// cypress/e2e/smoke.cy.ts\nit('should be accessible', () => {\n  cy.task('sitemapLocations').then((pages) => {\n    pages.forEach((page) => {\n      cy.visit(page)\n      cy.injectAxe()\n      cy.checkA11y(\n        {\n          exclude: ['.article-action'],\n        },\n        {\n          rules: {\n            'empty-heading': { enabled: false },\n            'scrollable-region-focusable': { enabled: false },\n          },\n        }\n      )\n    })\n  })\n})\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Cypress code coverage ",(0,i.jsx)(n.a,{href:"https://github.com/bahmutov/cypress-and-jest",children:"plugin"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cypress commands ",(0,i.jsx)(n.a,{href:"https://github.com/testing-library/cypress-testing-library",children:"plugin"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cypress events ",(0,i.jsx)(n.a,{href:"https://github.com/dmtrKovalenko/cypress-real-events",children:"plugin"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cypress accessibility testing ",(0,i.jsx)(n.a,{href:"https://github.com/component-driven/cypress-axe",children:"plugin"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cypress visual regression testing ",(0,i.jsx)(n.a,{href:"https://github.com/percy/percy-cypress",children:"plugin"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cypress-reference",children:"Cypress Reference"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Cypress official ",(0,i.jsx)(n.a,{href:"https://learn.cypress.io",children:"guide"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cypress CI ",(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/github-action",children:"action"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cypress real world ",(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/cypress-realworld-app",children:"example"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cypress ",(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/cypress-example-recipes",children:"cookbook"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"debugging",children:"Debugging"}),"\n",(0,i.jsx)(n.h3,{id:"monkey-patch",children:"Monkey Patch"}),"\n",(0,i.jsx)(n.h4,{id:"window-state-injection",children:"Window State Injection"}),"\n",(0,i.jsxs)(n.p,{children:["Inject trace function (log, monitor, report service)\nto window ",(0,i.jsx)(n.code,{children:"pushState"})," and ",(0,i.jsx)(n.code,{children:"replaceState"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const _wr = function (type) {\n  const orig = window.history[type]\n\n  return function (...args) {\n    const rv = orig.apply(this, args)\n    const e = new Event(type.toLowerCase())\n    e.arguments = args\n    window.dispatchEvent(e)\n    return rv\n  }\n}\n\nwindow.history.pushState = _wr('pushState')\nwindow.history.replaceState = _wr('replaceState')\n\nwindow.addEventListener('pushstate', (event) => {\n  console.trace('pushState')\n})\n\nwindow.addEventListener('replacestate', (event) => {\n  console.trace('replaceState')\n})\n"})}),"\n",(0,i.jsx)(n.h4,{id:"event-propagation-injection",children:"Event Propagation Injection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const originalStopPropagation = MouseEvent.prototype.stopPropagation\n\nMouseEvent.prototype.stopPropagation = function (...args) {\n  console.trace('stopPropagation')\n  originalStopPropagation.call(this, ...args)\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"window-scroll-injection",children:"Window Scroll Injection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let originalScrollTop = element.scrollTop\n\nObject.defineProperty(element, 'scrollTop', {\n  get() {\n    return originalScrollTop\n  },\n  set(newVal) {\n    console.trace('scrollTop')\n    originalScrollTop = newVal\n  },\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,i.jsx)(n.h4,{id:"logging-type",children:"Logging Type"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Application client log."}),"\n",(0,i.jsx)(n.li,{children:"Web server log."}),"\n",(0,i.jsx)(n.li,{children:"Database server log."}),"\n",(0,i.jsx)(n.li,{children:"Access log."}),"\n",(0,i.jsx)(n.li,{children:"Debug log."}),"\n",(0,i.jsx)(n.li,{children:"Error log."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"logging-information",children:"Logging Information"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u65e5\u5fd7\u65f6\u95f4: \u5305\u542b\u65f6\u533a\u4fe1\u606f\u548c\u6beb\u79d2."}),"\n",(0,i.jsx)(n.li,{children:"\u65e5\u5fd7\u7ea7\u522b."}),"\n",(0,i.jsx)(n.li,{children:"\u4f1a\u8bdd\u6807\u8bc6."}),"\n",(0,i.jsx)(n.li,{children:"\u529f\u80fd\u6807\u8bc6."}),"\n",(0,i.jsx)(n.li,{children:"\u7cbe\u70bc\u5185\u5bb9: \u573a\u666f\u4fe1\u606f, \u72b6\u6001\u4fe1\u606f (\u5f00\u59cb/\u4e2d\u65ad/\u7ed3\u675f), \u91cd\u8981\u53c2\u6570."}),"\n",(0,i.jsx)(n.li,{children:"\u5176\u4ed6\u4fe1\u606f: \u7248\u672c\u53f7, \u7ebf\u7a0b\u53f7."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"logging-setup",children:"Logging Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { createLogger, format, transports } = require('winston')\n\nconst logLevels = {\n  fatal: 0,\n  error: 1,\n  warn: 2,\n  info: 3,\n  debug: 4,\n  trace: 5,\n}\n\nconst logger = createLogger({\n  levels: logLevels,\n  format: format.combine(format.timestamp(), format.json()),\n  transports: [new transports.Console()],\n})\n\nlogger.info('System Started')\nlogger.fatal('Fatal error occurred')\n"})}),"\n",(0,i.jsx)(n.h4,{id:"logging-clock",children:"Logging Clock"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"performance.now()"})," is more precise (100 us)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"performance.now()"})," is strictly monotonic (unaffected by changes of machine time)."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let lastVisibilityChange = 0\n\nwindow.addEventListener('visibilitychange', () => {\n  lastVisibilityChange = performance.now()\n})\n\n// don\u2019t log any metrics started before the last visibility change\n// don't log any metrics if the page is hidden\n// discard perf data from when the machine was not running app at full speed\nfunction metrics() {\n  if (metric.start < lastVisibilityChange || document.hidden)\n    return\n\n  process()\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"requestAnimationFrame(() => {\n  requestAnimationFrame((timestamp) => {\n    metric.finish(timestamp)\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"console-api",children:"Console API"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"console.XXX"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"copy"}),": copy complex object to clipboard."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"monitor"}),": monitor object."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const devtools = /./\ndevtools.toString = function () {\n  this.opened = true\n}\n\nconsole.log('%c', devtools)\n// devtools.opened will become true if/when the console is opened\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Basic console functions\nconsole.assert()\nconsole.clear()\nconsole.log()\nconsole.debug()\nconsole.info()\nconsole.warn()\nconsole.error()\n\n// Different output styles\nconsole.dir()\nconsole.dirxml()\nconsole.table()\nconsole.group()\nconsole.groupCollapsed()\nconsole.groupEnd()\n\n// Trace console functions\nconsole.trace()\nconsole.count()\nconsole.countReset()\nconsole.time()\nconsole.timeEnd()\nconsole.timeLog()\n\n// Non-standard console functions\nconsole.profile()\nconsole.profileEnd()\nconsole.timeStamp()\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"console.log"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// `sprinf` style log\nconsole.log('%d %o %s', integer, object, string)\nconsole.log('%c ...', 'css style')\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"console.table"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// display array of object (tabular data)\nconst transactions = [\n  {\n    id: '7cb1-e041b126-f3b8',\n    seller: 'WAL0412',\n    buyer: 'WAL3023',\n    price: 203450,\n    time: 1539688433,\n  },\n  {\n    id: '1d4c-31f8f14b-1571',\n    seller: 'WAL0452',\n    buyer: 'WAL3023',\n    price: 348299,\n    time: 1539688433,\n  },\n  {\n    id: 'b12c-b3adf58f-809f',\n    seller: 'WAL0012',\n    buyer: 'WAL2025',\n    price: 59240,\n    time: 1539688433,\n  },\n]\n\nconsole.table(data, ['id', 'price'])\n"})}),"\n",(0,i.jsx)(n.h3,{id:"javascript-tracing-api",children:"JavaScript Tracing API"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"debugger"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// debugger;\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"copy(obj) // to clipboard\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"window.onerror = function (errorMessage, scriptURI, lineNo, columnNo, error) {\n  console.log(`errorMessage: ${errorMessage}`) // \u5f02\u5e38\u4fe1\u606f\n  console.log(`scriptURI: ${scriptURI}`) // \u5f02\u5e38\u6587\u4ef6\u8def\u5f84\n  console.log(`lineNo: ${lineNo}`) // \u5f02\u5e38\u884c\u53f7\n  console.log(`columnNo: ${columnNo}`) // \u5f02\u5e38\u5217\u53f7\n  console.log(`error: ${error}`) // \u5f02\u5e38\u5806\u6808\u4fe1\u606f\n  // ...\n  // \u5f02\u5e38\u4e0a\u62a5\n}\n\nwindow.addEventListener('error', () => {\n  console.log(error)\n  // ...\n  // \u5f02\u5e38\u4e0a\u62a5\n})\n"})}),"\n",(0,i.jsx)(n.h4,{id:"trace-property",children:"Trace Property"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function traceProperty(object, property) {\n  let value = object[property]\n  Object.defineProperty(object, property, {\n    get() {\n      console.trace(`${property} requested`)\n      return value\n    },\n    set(newValue) {\n      console.trace(`setting ${property} to `, newValue)\n      value = newValue\n    },\n  })\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"node-debugging-api",children:"Node Debugging API"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"node --inspect"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/GoogleChromeLabs/ndb",children:"ndb"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node --inspect\nndb index.js\n"})}),"\n",(0,i.jsx)(n.h2,{id:"chrome-devtools",children:"Chrome DevTools"}),"\n",(0,i.jsx)(n.h3,{id:"devtools-detection",children:"DevTools Detection"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/546669204/fuck-debugger-extensions",children:"DevTools detection guide"})}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"console-devtools-detection",children:"Console DevTools Detection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const x = document.createElement('div')\n\nObject.defineProperty(x, 'id', {\n  get() {\n    // devtool opened.\n    return 'id'\n  },\n})\n\nconsole.log(x)\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// eslint-disable-next-line prefer-regex-literals\nconst c = new RegExp('1')\n\nc.toString = function () {\n  // devtool opened\n}\n\nconsole.log(c)\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Anti Method: hook ",(0,i.jsx)(n.code,{children:"console"})," object, disable all outputs."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"debugger-detection",children:"Debugger Detection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:";(function () {}).constructor('debugger')()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:";(() => {\n  function block() {\n    if (\n      window.outerHeight - window.innerHeight > 200\n      || window.outerWidth - window.innerWidth > 200\n    ) {\n      document.body.innerHTML = 'Debug detected, please reload page!'\n    }\n\n    setInterval(() => {\n      ;(function () {\n        return false\n      })\n        .constructor('debugger')\n        .call()\n    }, 50)\n  }\n\n  try {\n    block()\n  } catch (err) {}\n})()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const startTime = new Date()\n// debugger;\nconst endTime = new Date()\nconst isDev = endTime - startTime > 100\n\nwhile (true) {\n  // debugger;\n}\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Anti Method: use chrome protocol to block all ",(0,i.jsx)(n.code,{children:"debugger"})," request.\nAnti Method: hook ",(0,i.jsx)(n.code,{children:"Function.prototype.constructor"})," and replace ",(0,i.jsx)(n.code,{children:"debugger"})," string."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"chrome-devtools-shortcuts",children:"Chrome DevTools Shortcuts"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"c-d: go to next word"}),"\n",(0,i.jsxs)(n.li,{children:["c-f in ",(0,i.jsx)(n.code,{children:"Elements"})," panel: search DOM node"]}),"\n",(0,i.jsx)(n.li,{children:"c-m: go to next bracket"}),"\n",(0,i.jsx)(n.li,{children:"c-p: go to files"}),"\n",(0,i.jsx)(n.li,{children:"cs-p: go to anywhere"}),"\n",(0,i.jsx)(n.li,{children:"cs-o: go to functions"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"long click reload: multiple reload options e.g clean cache"}),"\n",(0,i.jsx)(n.h3,{id:"elements-panel",children:"Elements Panel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Break on elements."}),"\n",(0,i.jsx)(n.li,{children:"Inspect elements a11y."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"style-tab",children:"Style Tab"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"color picker"}),"\n",(0,i.jsx)(n.li,{children:"filter: class filter, pseudo filter, css style filter"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"console-panel",children:"Console Panel"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://developer.chrome.com/docs/devtools/console/utilities",children:"Console utilities API"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$_"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$0"})," - ",(0,i.jsx)(n.code,{children:"$4"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$()"}),": ",(0,i.jsx)(n.code,{children:"document.querySelector()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$$()"}),": ",(0,i.jsx)(n.code,{children:"document.querySelectorAll()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getEventListeners(dom)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"monitorEvents(dom, events)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"unmonitorEvents(dom)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"monitor(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"unmonitor(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"debug(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"undebug(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"keys(object)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"values(object)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"queryObjects(Constructor)"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"console-settings",children:"Console Settings"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"preserve log"}),"\n",(0,i.jsx)(n.li,{children:"show timestamps"}),"\n",(0,i.jsx)(n.li,{children:"Verbose: additional performance log"}),"\n",(0,i.jsx)(n.li,{children:"click filename, filter error messages"}),"\n",(0,i.jsx)(n.li,{children:"add folder to workspace"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"capture-default-event-listener",children:"Capture Default Event Listener"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"$0"}),": the reference to the currently selected element in the Elements panel."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const listener = getEventListeners($0).click[0].listener\n$0.removeEventListener('click', listener)\n$0.addEventListener('click', (e) => {\n  // do something\n  // ...\n\n  // then\n  listener(e)\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"source-panel",children:"Source Panel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add log points."}),"\n",(0,i.jsx)(n.li,{children:"Multiple breakpoints: source, XHR/fetch, DOM, global/event listeners."}),"\n",(0,i.jsxs)(n.li,{children:["Open a source file, right click code, ",(0,i.jsx)(n.code,{children:"Blackbox script"})," item."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://developers.google.com/web/updates/2018/01/devtools#overrides",children:"Local Overrides"}),"\nfor persistent changes to css styles."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Same thing in ",(0,i.jsx)(n.code,{children:"VSCode"})," debug panel (log points, break points etc)."]}),"\n",(0,i.jsx)(n.h3,{id:"network-panel",children:"Network Panel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"throttling: simulate different network environment."}),"\n",(0,i.jsx)(n.li,{children:"initiator: go to files."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"performance-panel",children:"Performance Panel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C+S+P"}),": performance monitor."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C+S+P"}),": FPS."]}),"\n",(0,i.jsx)(n.li,{children:"Performance tips."}),"\n",(0,i.jsx)(n.li,{children:"Memory panel."}),"\n",(0,i.jsxs)(n.li,{children:["Timeline events: ",(0,i.jsx)(n.code,{children:"script -> style -> layout -> paint -> composite"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Timeline events ",(0,i.jsx)(n.a,{href:"https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/performance-reference",children:"reference"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Performance analysis ",(0,i.jsx)(n.a,{href:"https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/reference",children:"reference"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Performance tools ",(0,i.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/41017888",children:"guide"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"simulation-devtools",children:"Simulation DevTools"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"3G"})," (slow network)"]}),"\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"sensor"})," (geolocation)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"audit-devtool",children:"Audit DevTool"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"audit"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"coverage-tool",children:"Coverage Tool"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"coverage"})]}),"\n",(0,i.jsxs)(n.li,{children:["Use to eliminate ",(0,i.jsx)(n.strong,{children:"unused"})," CSS/JS code."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"memory-panel",children:"Memory Panel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Heap snapshot"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"js-profiler-panel",children:"JS Profiler Panel"}),"\n",(0,i.jsx)(n.h3,{id:"layer-panel",children:"Layer Panel"}),"\n",(0,i.jsx)(n.p,{children:"Tool for composite stage analysis:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Compositor layers."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"rendering-panel",children:"Rendering Panel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"FPS monitor."}),"\n",(0,i.jsx)(n.li,{children:"Scroll event."}),"\n",(0,i.jsx)(n.li,{children:"Paint flashing area: re-paint area."}),"\n",(0,i.jsx)(n.li,{children:"Compositor layers border."}),"\n",(0,i.jsx)(n.li,{children:"Layout shift region."}),"\n",(0,i.jsxs)(n.li,{children:["CSS media query emulation:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"prefers-color-scheme"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"prefers-reduced-motion"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"prefers-contrast"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"A11y emulation."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"animation-panel",children:"Animation Panel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Animations."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"bug-list",children:"Bug List"}),"\n",(0,i.jsx)(n.h3,{id:"basic-bug",children:"Basic Bug"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5fc5\u987b\u8fdb\u884c\u8f93\u5165\u9a8c\u8bc1 - \u6c38\u8fdc\u4e0d\u8981\u76f8\u4fe1\u7528\u6237\u8f93\u5165."}),"\n",(0,i.jsx)(n.li,{children:"\u6c38\u4e0d\u4f7f\u7528\u672a\u7ecf\u9a8c\u8bc1\u7684\u6570\u503c\u7684\u957f\u5ea6\u6216\u5927\u5c0f."}),"\n",(0,i.jsx)(n.li,{children:"\u5fc5\u987b\u8fd4\u56de\u6b63\u786e\u7684\u9519\u8bef\u72b6\u6001."}),"\n",(0,i.jsx)(n.li,{children:"\u6ce8\u610f(\u9690\u5f0f)\u7c7b\u578b\u8f6c\u6362."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"c-bug",children:"C Bug"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6808\u7f13\u51b2\u533a\u6ea2\u51fa."}),"\n",(0,i.jsx)(n.li,{children:"\u7a7a\u6307\u9488\u89e3\u5f15\u7528."}),"\n",(0,i.jsx)(n.li,{children:"(\u9690\u5f0f)\u7c7b\u578b\u8f6c\u6362."}),"\n",(0,i.jsx)(n.li,{children:"GOT \u8986\u5199 (Global Offset Table)."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"occasional-bug",children:"Occasional Bug"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u591a\u8fdb\u7a0b\u5b8c\u5168\u5f02\u6b65\u7f16\u7a0b\u7684\u590d\u6742\u6027."}),"\n",(0,i.jsx)(n.li,{children:"\u9010\u6e10\u5730\u5185\u5b58\u6cc4\u6f0f."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["JavaScript testing ",(0,i.jsx)(n.a,{href:"https://github.com/goldbergyoni/javascript-testing-best-practices",children:"best practices"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7976:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/Mocks-51e403791fb4c1707d7887fed858b90f.png"},842:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var t=s(8101);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);