"use strict";(self.webpackChunkawesome_notes=self.webpackChunkawesome_notes||[]).push([[7292],{8711:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Web/JavaScript/JavaScriptBasicNotes","title":"JavaScript Basic Notes","description":"TC39","source":"@site/notes/Web/JavaScript/JavaScriptBasicNotes.md","sourceDirName":"Web/JavaScript","slug":"/Web/JavaScript/JavaScriptBasicNotes","permalink":"/awesome-notes/Web/JavaScript/JavaScriptBasicNotes","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/awesome-notes/edit/main/notes/Web/JavaScript/JavaScriptBasicNotes.md","tags":[{"inline":true,"label":"Web","permalink":"/awesome-notes/tags/web"},{"inline":true,"label":"JavaScript","permalink":"/awesome-notes/tags/java-script"},{"inline":true,"label":"ECMAScript","permalink":"/awesome-notes/tags/ecma-script"}],"version":"current","lastUpdatedBy":"renovate[bot]","lastUpdatedAt":1732127335000,"frontMatter":{"author":"Sabertazimi","authorTitle":"Web Developer","authorURL":"https://github.com/sabertazimi","authorImageURL":"https://github.com/sabertazimi.png","tags":["Web","JavaScript","ECMAScript"]},"sidebar":"tutorialSidebar","previous":{"title":"JavaScript Advanced Notes","permalink":"/awesome-notes/Web/JavaScript/JavaScriptAdvancedNotes"},"next":{"title":"JavaScript DevOps Notes","permalink":"/awesome-notes/Web/JavaScript/JavaScriptDevOpsNotes"}}');var t=r(5105),i=r(842);const l={author:"Sabertazimi",authorTitle:"Web Developer",authorURL:"https://github.com/sabertazimi",authorImageURL:"https://github.com/sabertazimi.png",tags:["Web","JavaScript","ECMAScript"]},c="JavaScript Basic Notes",o={},a=[{value:"TC39",id:"tc39",level:2},{value:"Primitive Values",id:"primitive-values",level:2},{value:"Undefined",id:"undefined",level:3},{value:"Null",id:"null",level:3},{value:"Boolean",id:"boolean",level:3},{value:"Zero Value Expression",id:"zero-value-expression",level:4},{value:"Boolean Conversion",id:"boolean-conversion",level:4},{value:"Number",id:"number",level:3},{value:"Number Conversion",id:"number-conversion",level:4},{value:"Number Static Properties",id:"number-static-properties",level:4},{value:"Not A Number",id:"not-a-number",level:4},{value:"Infinity Number",id:"infinity-number",level:4},{value:"Safe Number",id:"safe-number",level:4},{value:"Float Number",id:"float-number",level:4},{value:"String",id:"string",level:3},{value:"String Primitive Features",id:"string-primitive-features",level:4},{value:"String Reference Features",id:"string-reference-features",level:4},{value:"String Conversion",id:"string-conversion",level:4},{value:"String Unicode",id:"string-unicode",level:4},{value:"String Char Code",id:"string-char-code",level:4},{value:"String Slice and Merge",id:"string-slice-and-merge",level:4},{value:"String Query",id:"string-query",level:4},{value:"String Replace",id:"string-replace",level:4},{value:"String Pad",id:"string-pad",level:4},{value:"String Trim",id:"string-trim",level:4},{value:"String Template Literals",id:"string-template-literals",level:4},{value:"Tagged Templates Literals",id:"tagged-templates-literals",level:4},{value:"Raw String",id:"raw-string",level:4},{value:"String Utils",id:"string-utils",level:4},{value:"Symbol",id:"symbol",level:3},{value:"Symbol Conversion",id:"symbol-conversion",level:4},{value:"Built-in Symbol Methods",id:"built-in-symbol-methods",level:4},{value:"Bigint",id:"bigint",level:3},{value:"Bigint Conversion",id:"bigint-conversion",level:4},{value:"Bigint Static Properties",id:"bigint-static-properties",level:4},{value:"Wrapper Objects for Primitives",id:"wrapper-objects-for-primitives",level:3},{value:"Reference Values",id:"reference-values",level:2},{value:"Array",id:"array",level:3},{value:"Array Length",id:"array-length",level:4},{value:"Array Literals",id:"array-literals",level:4},{value:"Array Of",id:"array-of",level:4},{value:"Array From",id:"array-from",level:4},{value:"Array Fill",id:"array-fill",level:4},{value:"Array CopyWithin",id:"array-copywithin",level:4},{value:"Array Stack",id:"array-stack",level:4},{value:"Array Slice and Merge",id:"array-slice-and-merge",level:4},{value:"Array Query",id:"array-query",level:4},{value:"Array Element Filter",id:"array-element-filter",level:4},{value:"Array Boolean Filter",id:"array-boolean-filter",level:4},{value:"Array With",id:"array-with",level:4},{value:"Array Map",id:"array-map",level:4},{value:"Array Flat",id:"array-flat",level:4},{value:"Array FlatMap",id:"array-flatmap",level:4},{value:"Array Reduce",id:"array-reduce",level:4},{value:"Array Traversal",id:"array-traversal",level:4},{value:"Array Sort",id:"array-sort",level:4},{value:"Array Reverse",id:"array-reverse",level:4},{value:"Array Spread",id:"array-spread",level:4},{value:"Array Deep Clone",id:"array-deep-clone",level:4},{value:"Typed Array",id:"typed-array",level:4},{value:"Map",id:"map",level:3},{value:"Set",id:"set",level:3},{value:"WeakMap and WeakSet",id:"weakmap-and-weakset",level:3},{value:"Date",id:"date",level:3},{value:"Temporal",id:"temporal",level:3},{value:"Temporal Basis",id:"temporal-basis",level:4},{value:"Temporal Range",id:"temporal-range",level:4},{value:"Temporal Display",id:"temporal-display",level:4},{value:"Temporal Query",id:"temporal-query",level:4},{value:"Variable",id:"variable",level:2},{value:"Variable Hoisting",id:"variable-hoisting",level:3},{value:"Let Variable",id:"let-variable",level:3},{value:"Const Variable",id:"const-variable",level:3},{value:"Type Detection",id:"type-detection",level:3},{value:"Null Detection",id:"null-detection",level:4},{value:"Property Detection",id:"property-detection",level:4},{value:"Custom Object Detection",id:"custom-object-detection",level:4},{value:"Type Conversion",id:"type-conversion",level:3},{value:"Type Conversion Context",id:"type-conversion-context",level:4},{value:"Type Conversion Algorithms",id:"type-conversion-algorithms",level:4},{value:"Operators",id:"operators",level:2},{value:"Loose Comparison",id:"loose-comparison",level:3},{value:"Strict Comparison",id:"strict-comparison",level:3},{value:"Conditional Expression",id:"conditional-expression",level:3},{value:"Add Operator",id:"add-operator",level:3},{value:"Dot Operator",id:"dot-operator",level:3},{value:"Logical Operator",id:"logical-operator",level:3},{value:"Delete Operator",id:"delete-operator",level:3},{value:"Operator Reference",id:"operator-reference",level:3},{value:"Destructuring Pattern Matching",id:"destructuring-pattern-matching",level:2},{value:"Destructuring Default Value",id:"destructuring-default-value",level:3},{value:"Object Destructuring",id:"object-destructuring",level:3},{value:"JSON Object Destructuring",id:"json-object-destructuring",level:4},{value:"Import Destructuring",id:"import-destructuring",level:4},{value:"Number and Boolean Destructuring",id:"number-and-boolean-destructuring",level:4},{value:"Iterator Destructuring",id:"iterator-destructuring",level:3},{value:"Map and List Destructuring",id:"map-and-list-destructuring",level:4},{value:"String Destructuring",id:"string-destructuring",level:4},{value:"Function Parameters Destructuring",id:"function-parameters-destructuring",level:3},{value:"Function Return Value Destructuring",id:"function-return-value-destructuring",level:3},{value:"Control Flow",id:"control-flow",level:2},{value:"Switch Case Statement",id:"switch-case-statement",level:3},{value:"Object",id:"object",level:2},{value:"OOP Features",id:"oop-features",level:3},{value:"Prototype Chain",id:"prototype-chain",level:3},{value:"Object Conversion",id:"object-conversion",level:3},{value:"Object Constructor",id:"object-constructor",level:3},{value:"Object Literal Creation",id:"object-literal-creation",level:4},{value:"Object New Constructor",id:"object-new-constructor",level:4},{value:"Object Create Constructor",id:"object-create-constructor",level:4},{value:"Constructor Return Value",id:"constructor-return-value",level:4},{value:"Constructor Instance Detection",id:"constructor-instance-detection",level:4},{value:"Object Property Descriptor",id:"object-property-descriptor",level:3},{value:"Property Descriptor Definition",id:"property-descriptor-definition",level:4},{value:"Property Descriptor Functions",id:"property-descriptor-functions",level:4},{value:"Private Property and Method",id:"private-property-and-method",level:3},{value:"Private Property",id:"private-property",level:4},{value:"Private Method",id:"private-method",level:4},{value:"Static Property and Method",id:"static-property-and-method",level:3},{value:"Static Property",id:"static-property",level:4},{value:"Static Method",id:"static-method",level:4},{value:"Object Property",id:"object-property",level:3},{value:"Object Method",id:"object-method",level:3},{value:"Object Clone",id:"object-clone",level:3},{value:"Object Shallow Clone",id:"object-shallow-clone",level:4},{value:"Object Deep Clone",id:"object-deep-clone",level:4},{value:"Object Inheritance",id:"object-inheritance",level:3},{value:"Prototype Proxy Inheritance",id:"prototype-proxy-inheritance",level:4},{value:"Class Simulation Inheritance",id:"class-simulation-inheritance",level:4},{value:"Composite Inheritance",id:"composite-inheritance",level:4},{value:"Class",id:"class",level:3},{value:"Class Prototype",id:"class-prototype",level:4},{value:"Class Inheritance",id:"class-inheritance",level:4},{value:"Super Class",id:"super-class",level:5},{value:"Abstract Base Class",id:"abstract-base-class",level:5},{value:"Class Expression",id:"class-expression",level:4},{value:"Class Constructor",id:"class-constructor",level:4},{value:"Class Private Member",id:"class-private-member",level:4},{value:"Class Public Fields",id:"class-public-fields",level:4},{value:"Class Static Blocks",id:"class-static-blocks",level:4},{value:"Class Best Practice",id:"class-best-practice",level:4},{value:"Global Object",id:"global-object",level:3},{value:"Function",id:"function",level:2},{value:"Implicit Invocation",id:"implicit-invocation",level:3},{value:"Explicit Invocation",id:"explicit-invocation",level:3},{value:"Explicit Bind Invocation",id:"explicit-bind-invocation",level:4},{value:"Explicit Call and Apply Invocation",id:"explicit-call-and-apply-invocation",level:4},{value:"Constructor Invocation",id:"constructor-invocation",level:3},{value:"Arrow Function Invocation",id:"arrow-function-invocation",level:3},{value:"This Binding Invocation",id:"this-binding-invocation",level:3},{value:"Context and Scope",id:"context-and-scope",level:3},{value:"Function Name",id:"function-name",level:3},{value:"Function Prototype",id:"function-prototype",level:3},{value:"Function Arguments",id:"function-arguments",level:3},{value:"Arguments Callee",id:"arguments-callee",level:4},{value:"Function Parameters",id:"function-parameters",level:3},{value:"Default Parameter",id:"default-parameter",level:4},{value:"Rest Parameter",id:"rest-parameter",level:4},{value:"Function Declaration",id:"function-declaration",level:3},{value:"Function Expression",id:"function-expression",level:3},{value:"Immediately Invoked Function Expression",id:"immediately-invoked-function-expression",level:3},{value:"IIFE Pattern",id:"iife-pattern",level:4},{value:"IIFE Return Value",id:"iife-return-value",level:4},{value:"IIFE Usage",id:"iife-usage",level:4},{value:"Tail Call Optimization",id:"tail-call-optimization",level:3},{value:"Closure",id:"closure",level:3},{value:"Closure Structure",id:"closure-structure",level:4},{value:"Closure Usage",id:"closure-usage",level:4},{value:"Callback Function",id:"callback-function",level:3},{value:"Lazy Function Definition",id:"lazy-function-definition",level:3},{value:"Polymorphism Function",id:"polymorphism-function",level:3},{value:"Eval Function",id:"eval-function",level:3}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"javascript-basic-notes",children:"JavaScript Basic Notes"})}),"\n",(0,t.jsx)(e.h2,{id:"tc39",children:"TC39"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://github.com/tc39/proposals",children:(0,t.jsx)(e.img,{alt:"TC39",src:r(4110).A+"",width:"1273",height:"957"})})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.ecma-international.org/technical-committees/tc39",children:"Technical Committees 39"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"http://tc39.github.io/process-document",children:"TC39 Process"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://exploringjs.com/es6/ch_overviews.html",children:"ES2015"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/wintercg",children:"WinterCG: Web-interoperable Runtime Community Group"})}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"JavaScript = ECMAScript + DOM + BOM:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"ECMAScript: ECMA-262."}),"\n",(0,t.jsxs)(e.li,{children:["DOM: DOM Core + DOM HTML (",(0,t.jsx)(e.code,{children:"document"}),")."]}),"\n",(0,t.jsxs)(e.li,{children:["BOM: Browser Object Model API (HTML5)\n(",(0,t.jsx)(e.code,{children:"window"}),"/",(0,t.jsx)(e.code,{children:"navigator"}),"/",(0,t.jsx)(e.code,{children:"location"}),"/",(0,t.jsx)(e.code,{children:"screen"}),"/",(0,t.jsx)(e.code,{children:"performance"})," etc)."]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"primitive-values",children:"Primitive Values"}),"\n",(0,t.jsx)(e.p,{children:"Primitive data types:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Undefined."}),"\n",(0,t.jsx)(e.li,{children:"Null."}),"\n",(0,t.jsx)(e.li,{children:"Boolean."}),"\n",(0,t.jsx)(e.li,{children:"Number."}),"\n",(0,t.jsx)(e.li,{children:"String."}),"\n",(0,t.jsx)(e.li,{children:"Symbol."}),"\n",(0,t.jsx)(e.li,{children:"BigInt."}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"undefined",children:"Undefined"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5bf9\u8c61\u5c5e\u6027\u672a\u5b9a\u4e49\u65f6, \u8be5\u5c5e\u6027\u503c\u4e3a ",(0,t.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u672a\u521d\u59cb\u5316\u53d8\u91cf\u7684\u521d\u503c\u4e3a ",(0,t.jsx)(e.code,{children:"undefined"})," (\u8868\u793a\u7b49\u5f85\u88ab\u8d4b\u503c)."]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"null",children:"Null"}),"\n",(0,t.jsxs)(e.p,{children:["\u5f53\u5f15\u7528\u4e3a\u7a7a\u6216\u5f15\u7528\u5bf9\u8c61\u4e0d\u5b58\u5728\u65f6, \u503c\u4e3a ",(0,t.jsx)(e.code,{children:"null"}),".\n",(0,t.jsx)(e.code,{children:"null"})," \u503c\u8868\u793a\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u6307\u9488."]}),"\n",(0,t.jsx)(e.admonition,{title:"Null",type:"danger",children:(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"typeof null"})," -> ",(0,t.jsx)(e.code,{children:"object"}),"."]})}),"\n",(0,t.jsx)(e.h3,{id:"boolean",children:"Boolean"}),"\n",(0,t.jsx)(e.h4,{id:"zero-value-expression",children:"Zero Value Expression"}),"\n",(0,t.jsx)(e.p,{children:"\u96f6\u503c\u8868\u8fbe\u5f0f:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"null"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"false"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"NaN"}),"."]}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"0"})}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"0n"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"''"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"boolean-conversion",children:"Boolean Conversion"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"x"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"Boolean(x)"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"false"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"null"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"false"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"boolean"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"x"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"number"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"0"})," \u2192 ",(0,t.jsx)(e.code,{children:"false"}),", ",(0,t.jsx)(e.code,{children:"NaN"})," \u2192 ",(0,t.jsx)(e.code,{children:"false"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsxs)(e.td,{children:["Other numbers \u2192 ",(0,t.jsx)(e.code,{children:"true"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"bigint"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"0n"})," \u2192 ",(0,t.jsx)(e.code,{children:"false"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsxs)(e.td,{children:["Other numbers \u2192 ",(0,t.jsx)(e.code,{children:"true"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"string"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"''"})," \u2192 ",(0,t.jsx)(e.code,{children:"false"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsxs)(e.td,{children:["Other strings \u2192 ",(0,t.jsx)(e.code,{children:"true"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"symbol"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"true"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"object"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"true"})})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"number",children:"Number"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Binary: ",(0,t.jsx)(e.code,{children:"0b10"}),"/",(0,t.jsx)(e.code,{children:"0B10"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Octal: ",(0,t.jsx)(e.code,{children:"0o23"}),"/",(0,t.jsx)(e.code,{children:"0O23"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Hex: ",(0,t.jsx)(e.code,{children:"0xFF"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"**"})," \u6307\u6570\u8fd0\u7b97\u7b26."]}),"\n",(0,t.jsx)(e.li,{children:"BigInt."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const a = 2172141653\nconst b = 15346349309\nconst c1 = a * b\n// => 33334444555566670000\n\nconst c2 = BigInt(a) * BigInt(b)\n// => 33334444555566667777n\n\nconst inhabitantsOfLondon = 1_335_000\nconst distanceEarthSunInKm = 149_600_000\n\nconst fileSystemPermission = 0b111_111_000\nconst bytes = 0b1111_10101011_11110000_00001101\nconst words = 0xF3B_F00D\n\nconst massOfElectronInKg = 9.109_383_56e-31\nconst trillionInShortScale = 1e1_2\n"})}),"\n",(0,t.jsx)(e.h4,{id:"number-conversion",children:"Number Conversion"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"x"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"Number(x)"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"NaN"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"null"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"0"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"boolean"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"false"})," \u2192 ",(0,t.jsx)(e.code,{children:"0"}),", ",(0,t.jsx)(e.code,{children:"true"})," \u2192 ",(0,t.jsx)(e.code,{children:"1"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"number"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"x"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"bigint"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"-1n"})," \u2192 ",(0,t.jsx)(e.code,{children:"-1"}),", ",(0,t.jsx)(e.code,{children:"1n"})," \u2192 ",(0,t.jsx)(e.code,{children:"1"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"string"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"''"})," \u2192 ",(0,t.jsx)(e.code,{children:"0"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{children:"Other \u2192 parsed number, ignoring leading/trailing whitespace"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"symbol"})}),(0,t.jsx)(e.td,{children:"Throws TypeError"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"object"})}),(0,t.jsxs)(e.td,{children:["Configurable (",(0,t.jsx)(e.code,{children:"[Symbol.toPrimitive]()"}),"/",(0,t.jsx)(e.code,{children:"valueOf()"}),")"]})]})]})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"assert.equal(Number(123.45), 123.45)\nassert.equal(Number(''), 0)\nassert.equal(Number('\\n 123.45 \\t'), 123.45)\nassert.equal(Number('xyz'), Number.NaN)\nassert.equal(Number(-123n), -123)\nassert.equal(\n  Number({\n    valueOf() {\n      return 123\n    },\n  }),\n  123\n)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"number-static-properties",children:"Number Static Properties"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.NaN"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.NEGATIVE_INFINITY"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.POSITIVE_INFINITY"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.MAX_SAFE_INTEGER"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.MIN_SAFE_INTEGER"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.EPSILON"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.isNaN()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.isFinite()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.isInteger()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.isSafeInteger()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.toExponential()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.toFixed()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.toPrecision()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.parseInt(string, radix)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Number.parseFloat(string)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";(1234).toExponential()\n// '1.234e+3'\n;(1234).toExponential(5)\n// '1.23400e+3'\n;(1234).toExponential(1)\n// '1.2e+3'\n;(0.003).toExponential()\n// '3e-3'\n;(0.00000012).toFixed(10)\n// '0.0000001200'\n;(0.00000012).toFixed()\n// '0'\n;(10 ** 21).toFixed()\n// '1e+21'\n;(1234).toPrecision(3)\n// '1.23e+3'\n;(1234).toPrecision(4)\n// '1234'\n;(1234).toPrecision(5)\n// '1234.0'\n;(1.234).toPrecision(3)\n// '1.23'\n"})}),"\n",(0,t.jsx)(e.h4,{id:"not-a-number",children:"Not A Number"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const numberType = typeof Number.NaN // 'number'\n\nNumber.isFinite(Number.NaN)\n// false\nNumber.isNaN(Number.NaN)\n// true\nNumber.isNaN(123)\n// false\nNumber.isNaN('abc')\n// false\n\nfunction isNumber(value) {\n  return typeof value === 'number' && Number.isFinite(value)\n}\n"})}),"\n",(0,t.jsx)(e.admonition,{title:"NaN",type:"danger",children:(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"NaN === NaN"})," -> ",(0,t.jsx)(e.code,{children:"false"}),"."]})}),"\n",(0,t.jsx)(e.h4,{id:"infinity-number",children:"Infinity Number"}),"\n",(0,t.jsxs)(e.p,{children:["Infinity represents all values greater than 1.7976931348623157e+308.\nInfinity will be converted to ",(0,t.jsx)(e.code,{children:"null"})," with ",(0,t.jsx)(e.code,{children:"JSON.stringify()"}),"."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const largeNumber = 1.7976931348623157e308\n\n// eslint-disable-next-line no-loss-of-precision -- Infinity\nconst largerNumber = 1.7976931348623157e309\n\nconsole.log(largeNumber) // 1.7976931348623157e+308\nconsole.log(largerNumber) // Infinity\nconsole.log(46 / 0) // Infinity\nconsole.log(Number.POSITIVE_INFINITY) // Infinity\nconsole.log(Number.MAX_VALUE) // Infinity\n\n// eslint-disable-next-line no-loss-of-precision -- -Infinity\nconsole.log(-1.7976931348623157e309) // -Infinity\nconsole.log(-46 / 0) // -Infinity\nconsole.log(Number.NEGATIVE_INFINITY) // -Infinity\nconsole.log(Number.MIN_VALUE) // -Infinity\n\nconsole.log(Math.max()) // -Infinity\nconsole.log(Math.min()) // Infinity\n\nNumber.isFinite(Number.POSITIVE_INFINITY)\n// false\nNumber.isFinite(Number.NEGATIVE_INFINITY)\n// false\nNumber.isFinite(Number.NaN)\n// false\nNumber.isFinite(123)\n// true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"safe-number",children:"Safe Number"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Safe integers:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Precision: 53 bits plus sign."}),"\n",(0,t.jsxs)(e.li,{children:["Range: (",(0,t.jsx)(e.code,{children:"\u22122^53"}),", ",(0,t.jsx)(e.code,{children:"2^53"}),")."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Array indices:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Precision: 32 bits, unsigned"}),"\n",(0,t.jsxs)(e.li,{children:["Range: [",(0,t.jsx)(e.code,{children:"0"}),", ",(0,t.jsx)(e.code,{children:"2^32\u22121"}),")."]}),"\n",(0,t.jsx)(e.li,{children:"Typed Arrays have a larger range of 53 bits (safe and unsigned)."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Bitwise operators:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Precision: 32 bits."}),"\n",(0,t.jsxs)(e.li,{children:["Range of unsigned right shift (",(0,t.jsx)(e.code,{children:">>>"}),"): unsigned, [",(0,t.jsx)(e.code,{children:"0"}),", ",(0,t.jsx)(e.code,{children:"2^32"}),")."]}),"\n",(0,t.jsxs)(e.li,{children:["Range of all other bitwise operators: signed, [",(0,t.jsx)(e.code,{children:"\u22122^31"}),", ",(0,t.jsx)(e.code,{children:"2^31"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"assert.equal(Number.MAX_SAFE_INTEGER, 2 ** 53 - 1)\nassert.equal(Number.MIN_SAFE_INTEGER, -Number.MAX_SAFE_INTEGER)\n\nassert.equal(Number.isSafeInteger(5), true)\nassert.equal(Number.isSafeInteger('5'), false)\nassert.equal(Number.isSafeInteger(5.1), false)\nassert.equal(Number.isSafeInteger(Number.MAX_SAFE_INTEGER), true)\nassert.equal(Number.isSafeInteger(Number.MAX_SAFE_INTEGER + 1), false)\n\nNumber.isInteger(-17)\n// true\nNumber.isInteger(33)\n// true\nNumber.isInteger(33.1)\n// false\nNumber.isInteger('33')\n// false\nNumber.isInteger(Number.NaN)\n// false\nNumber.isInteger(Number.POSITIVE_INFINITY)\n// false\n"})}),"\n",(0,t.jsx)(e.h4,{id:"float-number",children:"Float Number"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u8ba1\u7b97\u6d6e\u70b9\u6570\u65f6, \u5e94\u5148\u8ba1\u7b97\u6574\u6570, \u518d\u5229\u7528\u79fb\u4f4d/\u4e58\u6cd5/\u9664\u6cd5\u8f6c\u5316\u4e3a\u6d6e\u70b9\u6570."}),"\n",(0,t.jsx)(e.li,{children:"\u6d6e\u70b9\u503c\u7684\u7cbe\u786e\u5ea6\u6700\u9ad8\u53ef\u8fbe 17 \u4f4d\u5c0f\u6570."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const a = (1 + 2) / 10 // a = 0.1 + 0.2;\n"})}),"\n",(0,t.jsx)(e.h3,{id:"string",children:"String"}),"\n",(0,t.jsx)(e.h4,{id:"string-primitive-features",children:"String Primitive Features"}),"\n",(0,t.jsx)(e.p,{children:"\u4f5c\u4e3a\u57fa\u672c\u53d8\u91cf:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"delete"})," \u65e0\u6cd5\u5220\u9664\u67d0\u4f4d\u5b57\u7b26."]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"string-reference-features",children:"String Reference Features"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u8d4b\u503c\u4e0e\u4f20\u53c2: \u4f20\u9012 string \u5b57\u7b26\u4e32\u5e38\u91cf\u7684\u5f15\u7528."}),"\n",(0,t.jsx)(e.li,{children:"\u6240\u6709 string \u5b57\u9762\u91cf\u90fd\u662f\u4e0d\u53ef\u53d8\u91cf,\n\u5f53\u5bf9 string \u8fdb\u884c\u64cd\u4f5c\u540e, \u5c06\u5148\u4f1a\u5728\u5806\u533a\u521b\u5efa\u526f\u672c,\n\u518d\u901a\u8fc7\u526f\u672c\u8fdb\u884c\u4fee\u6539, \u5e76\u8fd4\u56de\u526f\u672c\u7684\u7d22\u5f15."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"for...in"}),": \u8fd4\u56de\u4e0b\u6807\u6570\u5b57."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"for...of"}),": \u5bf9\u5b57\u7b26\u4e32\u5b57\u7b26\u8fdb\u884c\u904d\u5386."]}),"\n",(0,t.jsx)(e.li,{children:"\u6ca1\u6709\u88ab\u4efb\u4f55\u53d8\u91cf\u5f15\u7528\u7684 string: \u5783\u573e\u56de\u6536."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const goodString = 'I\\'ve been a good string'\nconsole.log(typeof goodString) // string\nconsole.log(goodString instanceof String) // false\nconsole.log(Object.prototype.toString.call(goodString)) // [object String]\n\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst badString = new String('I\\'ve been a naughty string')\nconsole.log(typeof badString) // object\nconsole.log(badString instanceof String) // true\nconsole.log(Object.prototype.toString.call(badString)) // [object String]\n\nconst isPrimitiveString = value => typeof value === 'string'\nconsole.log(isPrimitiveString(goodString)) // true\nconsole.log(isPrimitiveString(badString)) // false\n\nconst isObjectWrappedString = value => value instanceof String\nconsole.log(isObjectWrappedString(goodString)) // false\nconsole.log(isObjectWrappedString(badString)) // true\n\nconst isString = value => typeof value === 'string' || value instanceof String\nconsole.log(isString(goodString)) // true\nconsole.log(isString(badString)) // true\n\nfunction isStringAlternative(value) {\n  return Object.prototype.toString.call(badString) === '[object String]'\n}\nconsole.log(isStringAlternative(goodString)) // true\nconsole.log(isStringAlternative(badString)) // true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-conversion",children:"String Conversion"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"x"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"String(x)"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"'undefined'"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"null"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"'null'"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"boolean"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"false"})," \u2192 ",(0,t.jsx)(e.code,{children:"'false'"}),", ",(0,t.jsx)(e.code,{children:"true"})," \u2192 ",(0,t.jsx)(e.code,{children:"'true'"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"number"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"123"})," \u2192 ",(0,t.jsx)(e.code,{children:"'123'"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"bigint"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"123n"})," \u2192 ",(0,t.jsx)(e.code,{children:"'123'"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"string"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"x"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"symbol"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Symbol('abc')"})," \u2192 ",(0,t.jsx)(e.code,{children:"'Symbol(abc)'"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"object"})}),(0,t.jsxs)(e.td,{children:["Configurable (",(0,t.jsx)(e.code,{children:"toPrimitive"}),"/",(0,t.jsx)(e.code,{children:"toStringTag"}),"/",(0,t.jsx)(e.code,{children:"toString()"}),")"]})]})]})]}),"\n",(0,t.jsx)(e.h4,{id:"string-unicode",children:"String Unicode"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// eslint-disable-next-line no-self-compare\nconst truthy = 'z' === 'z' // true\nconst truthy = '\\x7A' === 'z' // true\nconst truthy = '\\u007A' === 'z' // true\nconst truthy = '\\u{7A}' === 'z' // true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-char-code",children:"String Char Code"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.charAt(index)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.charCodeAt(index)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.fromCharCode(charCode)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.codePointAt(index)"}),": \u6b63\u786e\u5904\u7406 4 \u5b57\u8282\u5b58\u50a8\u5b57\u7b26."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.fromCodePoint(codePoint)"}),": \u6b63\u786e\u5904\u7406 4 \u5b57\u8282\u5b58\u50a8\u5b57\u7b26."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function is32Bit(c) {\n  return c.codePointAt(0) > 0xFFFF\n}\n\nconst truthy = String.fromCodePoint(0x78, 0x1F680, 0x79) === 'x\\uD83D\\uDE80y'\n\nconst after = before.charAt(0).toUpperCase() + before.slice(1)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-slice-and-merge",children:"String Slice and Merge"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.slice()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.substring()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.substr()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.split(separator)"}),": \u9009\u62e9\u5272\u65ad\u7b26, \u8fd4\u56de\u5b57\u7b26\u4e32\u6570\u7ec4."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Array<string>.join(separator)"}),": \u5c06\u5b57\u7b26\u4e32\u6570\u7ec4\u8fde\u63a5\u6210\u5b57\u7b26\u4e32."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'const stringValue = \'hello world\'\nconsole.log(stringValue.slice(3)) // "lo world"\nconsole.log(stringValue.substring(3)) // "lo world"\nconsole.log(stringValue.substr(3)) // "lo world"\nconsole.log(stringValue.slice(3, 8)) // "lo wo"\nconsole.log(stringValue.substring(3, 8)) // "lo wo"\nconsole.log(stringValue.substr(3, 8)) // "lo world"\nconsole.log(stringValue.slice(-3)) // "rld"\nconsole.log(stringValue.substring(-3)) // "hello world"\nconsole.log(stringValue.substr(-3)) // "rld"\nconsole.log(stringValue.slice(3, -4)) // "lo w"\nconsole.log(stringValue.substring(3, -4)) // "hel"\nconsole.log(stringValue.substr(3, -4)) // "" (empty string)\n'})}),"\n",(0,t.jsx)(e.h4,{id:"string-query",children:"String Query"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.includes(substr)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.startsWith(substr)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.endsWith(substr)"}),"."]}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u53c2\u6570 n \u65f6, endsWith \u9488\u5bf9\u524d n \u4e2a\u5b57\u7b26, \u5176\u4ed6\u4e24\u4e2a\u65b9\u6cd5\u9488\u5bf9\u4ece\u7b2c n \u4e2a\u4f4d\u7f6e\u76f4\u5230\u5b57\u7b26\u4e32\u7ed3\u675f."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const s = 'Hello world!'\n\ns.startsWith('world', 6) // true\ns.endsWith('Hello', 5) // true\ns.includes('Hello', 6) // false\n\n// Arrays difference\n;[\n  [1, 2, 3, 4, 5],\n  [5, 2, 10],\n].reduce((a, b) => a.filter(c => !b.includes(c)))\n// [1, 3, 4]\n\n// Arrays intersection\n;[\n  [1, 2, 3],\n  [101, 2, 1, 10],\n  [2, 1],\n].reduce((a, b) => a.filter(c => b.includes(c)))\n// [1, 2]\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.match(RegExp): string[] | null"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.matchAll(RegExp): string[] | null"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"interface RegExpMatchArray extends Array<string> {\n  index: number\n  input: string\n  groups: Record<string, string> | undefined\n}\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.search(string | RegExp): number"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"'a2b'.search(/\\d/)\n// 1\n'a2b'.search('[0-9]')\n// 1\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-replace",children:"String Replace"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.replace(string | RegExp, replaceValue | replacerFunction)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.replaceAll(string | RegExp, replaceValue | replacerFunction)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'// eslint-disable-next-line prefer-regex-literals\nconst regexp = new RegExp(\'foo[a-z]*\', \'g\')\nconst str = \'table football, foosball\'\nconst matches = str.matchAll(regexp)\n\nfor (const match of matches) {\n  console.log(\n    `Found ${match[0]} start=${match.index} end=${\n      match.index + match[0].length\n    }.`\n  )\n}\n// expected output: "Found football start=6 end=14."\n// expected output: "Found foosball start=16 end=24."\n\n// matches iterator is exhausted after the for..of iteration\n// Call matchAll again to create a new iterator\nArray.from(str.matchAll(regexp), m => m[0])\n// Array [ "football", "foosball" ]\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"'aabbcc'.replaceAll('b', '.')\n// => 'aa..cc'\n\n'aabbcc'.replaceAll(/b/g, '.')\n// => 'aa..cc'\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-pad",children:"String Pad"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.repeat(times)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"'hello'.repeat(2) // \"hellohello\"\n'na'.repeat(2.9) // \"nana\"\n\n'na'.repeat(-0.9) // \"\"\n'na'.repeat(-1) // RangeError\n\n'na'.repeat(Number.NaN) // \"\"\n'na'.repeat(Number.POSITIVE_INFINITY) // RangeError\n\n'na'.repeat('na') // \"\"\n'na'.repeat('3') // \"nanana\"\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.padStart(len, paddingStr)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.padEnd(len, paddingStr)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"'1'.padStart(10, '0') // \"0000000001\"\n'12'.padStart(10, '0') // \"0000000012\"\n'123456'.padStart(10, '0') // \"0000123456\"\n\n'12'.padStart(10, 'YYYY-MM-DD') // \"YYYY-MM-12\"\n'09-12'.padStart(10, 'YYYY-MM-DD') // \"YYYY-09-12\"\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-trim",children:"String Trim"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.trimLeft()"}),"/",(0,t.jsx)(e.code,{children:"string.trimStart()"}),": remove start whitespace."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"string.trimRight()"}),"/",(0,t.jsx)(e.code,{children:"string.trimEnd()"}),": remove end whitespace."]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"string-template-literals",children:"String Template Literals"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"str"})," \u8868\u793a\u6a21\u677f\u5b57\u7b26\u4e32:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u666e\u901a\u5b57\u7b26\u4e32\n;`In JavaScript '\\n' is a line-feed.``\\`Yo\\` World!``In JavaScript this is // \u591a\u884c\u5b57\u7b26\u4e32\n not legal.``${\n  x // \u5f15\u7528\u53d8\u91cf\n} + ${y * 2} = ${x + y * 2}``${obj.x + obj.y}``foo ${\n  fn() // \u8c03\u7528\u51fd\u6570\n} bar`\n"})}),"\n",(0,t.jsx)(e.h4,{id:"tagged-templates-literals",children:"Tagged Templates Literals"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function boldify(parts, ...insertedParts) {\n  return parts\n    .map((s, i) => {\n      if (i === insertedParts.length)\n        return s\n      return `${s}<strong>${insertedParts[i]}</strong>`\n    })\n    .join('')\n}\n\nconst name = 'Sabertaz'\nconsole.log(boldify`Hi, my name is ${name}!`)\n// => \"Hi, my name is <strong>Sabertaz</strong>!\"\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function template(strings, ...keys) {\n  return function (...values) {\n    const dict = values[values.length - 1] || {}\n    const result = [strings[0]]\n    keys.forEach((key, i) => {\n      const value = Number.isInteger(key) ? values[key] : dict[key]\n      result.push(value, strings[i + 1])\n    })\n    return result.join('')\n  }\n}\n\nconst t1Closure = template`${0}${1}${0}!`\nt1Closure('Y', 'A') // \"YAY!\"\nconst t2Closure = template`${0} ${'foo'}!`\nt2Closure('Hello', { foo: 'World' }) // \"Hello World!\"\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u7f16\u8bd1\u6a21\u677f (\u5c0f\u578b\u6a21\u677f\u5f15\u64ce):"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function compile(template) {\n  const evalExpr = /<%=(.+?)%>/g\n  const expr = /<%([\\s\\S]+?)%>/g\n\n  template = template\n    .replace(evalExpr, '`); \\n  echo( $1 ); \\n  echo(`')\n    .replace(expr, '`); \\n $1 \\n  echo(`')\n\n  template = `echo(\\`${template}\\`);`\n\n  const script = `(function parse(data){\n      let output = \"\";\n\n      function echo(html){\n        output += html;\n      }\n\n      ${template}\n\n      return output;\n    })`\n\n  return script\n}\n\nconst template = `\n<ul>\n  <% for(let i=0; i < data.supplies.length; i++) { %>\n    <li><%= data.supplies[i] %></li>\n  <% } %>\n</ul>\n`\nconst parse = compile(template)\ndiv.innerHTML = parse({ supplies: ['broom', 'mop', 'cleaner'] })\n// => <ul>\n// =>   <li>broom</li>\n// =>   <li>mop</li>\n// =>   <li>cleaner</li>\n// => </ul>\n\n// \u4e0b\u9762\u7684hashTemplate\u51fd\u6570\n// \u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6a21\u677f\u5904\u7406\u51fd\u6570\nconst libraryHtml = hashTemplate`\n  <ul>\n    #for book in ${myBooks}\n      <li><i>#{book.title}</i> by #{book.author}</li>\n    #end\n  </ul>\n`\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u56fd\u9645\u5316\u5904\u7406:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'i18n`Welcome to ${siteName}, you are visitor number ${visitorNumber}!`\n// "\u6b22\u8fce\u8bbf\u95eexxx, \u60a8\u662f\u7b2cxxxx\u4f4d\u8bbf\u95ee\u8005\uff01"\n'})}),"\n",(0,t.jsx)(e.p,{children:"XSS protection:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const message = SaferHTML`<p>${sender} has sent you a message.</p>`\n\nfunction SaferHTML(templateString, ...expressions) {\n  let s = templateString[0]\n\n  for (let i = 0; i < expressions.length; i++) {\n    const expression = String(expressions[i])\n\n    // Escape special characters in the substitution.\n    s += expression\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n\n    // Don't escape special characters in the template.\n    s += templateString[i + 1]\n  }\n\n  return s\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd0\u884c\u4ee3\u7801:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"jsx`\n  <div>\n    <input\n      ref='input'\n      onChange='${this.handleChange}'\n      defaultValue='${this.state.value}' />\n      ${this.state.value}\n   </div>\n`\n\njava`\nclass HelloWorldApp {\n  public static void main(String[] args) {\n    System.out.println(\"Hello World!\"); // Display the string.\n  }\n}\n`\nHelloWorldApp.main()\n"})}),"\n",(0,t.jsx)(e.h4,{id:"raw-string",children:"Raw String"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"console.log(`\\u00A9`) // \xa9\nconsole.log(String.raw`\\u00A9`) // \\u00A9\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'console.log(`first line\\nsecond line`)\n// first line\n// second line\nconsole.log(String.raw`first line\\nsecond line`)\n// "first line\\nsecond line"\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function printRaw(strings) {\n  console.log('Actual characters:')\n\n  for (const string of strings)\n    console.log(string)\n\n  console.log('Escaped characters;')\n\n  for (const rawString of strings.raw)\n    console.log(rawString)\n}\n\nprintRaw`\\u00A9${'and'}\\n`\n// Actual characters:\n// \xa9\n// (\u6362\u884c\u7b26)\n// Escaped characters:\n// \\u00A9\n// \\n\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-utils",children:"String Utils"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function ucWords(string) {\n  return string.toLowerCase().replace(/\\b[a-z]/g, l => l.toUpperCase())\n}\n\nfunction ucFirst(string) {\n  return string[0].toUpperCase() + string.substr(1)\n}\n\nfunction studlyCase(string) {\n  return string\n    .replace('-', ' ')\n    .replace('_', ' ')\n    .split(' ')\n    .map(str => str[0].toUpperCase() + str.substr(1).toLowerCase())\n    .join('')\n}\n\nfunction snakeCase(string, glue = '_') {\n  return string\n    .replace(/\\W+/g, ' ')\n    .split(/ |\\B(?=[A-Z])/)\n    .map(word => word.toLowerCase())\n    .join(glue)\n}\n\nfunction kebabCase(string) {\n  return snakeCase(string, '-')\n}\n\nfunction objectToQueryString(obj) {\n  return Object.keys(obj)\n    .reduce((carry, key) => {\n      if (obj[key] || obj[key] === 0)\n        return `${carry}${key}=${obj[key]}&`\n\n      return carry\n    }, '')\n    .replace(/&+$/, '')\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"symbol",children:"Symbol"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["A Symbol is a ",(0,t.jsx)(e.strong,{children:"unique"})," and ",(0,t.jsx)(e.strong,{children:"immutable"})," primitive value\nand may be used as the key of an Object property."]}),"\n",(0,t.jsx)(e.li,{children:"Symbols don't auto-convert to strings and can't convert to numbers."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Symbol.for(key)"})," create global Symbol registry."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// eslint-disable-next-line symbol-description\nconst genericSymbol = Symbol()\n// eslint-disable-next-line symbol-description\nconst otherGenericSymbol = Symbol()\nconsole.log(genericSymbol === otherGenericSymbol) // false\n\nconst fooSymbol = Symbol('foo')\nconst otherFooSymbol = Symbol('foo')\nconsole.log(fooSymbol === otherFooSymbol) // false\n\nconst fooGlobalSymbol = Symbol.for('foobar') // \u521b\u5efa\u65b0\u7b26\u53f7\nconst otherFooGlobalSymbol = Symbol.for('foobar') // \u91cd\u7528\u5df2\u6709\u7b26\u53f7\nconsole.log(fooGlobalSymbol === otherFooGlobalSymbol) // true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"symbol-conversion",children:"Symbol Conversion"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Convert To"}),(0,t.jsx)(e.th,{children:"Explicit Conversion"}),(0,t.jsx)(e.th,{children:"Coercion (Implicit Conversion)"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"boolean"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Boolean(sym)"})," \u2192 OK"]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"!sym"})," \u2192 OK"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"number"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Number(sym)"})," \u2192 TypeError"]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"sym * 2"})," \u2192 TypeError"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"string"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"String(sym)"})," \u2192 OK"]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"'' + sym"})," \u2192 TypeError"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"sym.toString()"})," \u2192 OK"]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"${sym}"})," \u2192 TypeError"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"object"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Object(sym)"})," \u2192 OK"]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Object.keys(sym)"})," \u2192 OK"]})]})]})]}),"\n",(0,t.jsx)(e.h4,{id:"built-in-symbol-methods",children:"Built-in Symbol Methods"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.a,{href:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Symbol#static_properties",children:"Symbol methods"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.iterator]()"}),": ",(0,t.jsx)(e.code,{children:"for of"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.asyncIterator]()"}),": ",(0,t.jsx)(e.code,{children:"for await of"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.match/replace/search/split](target)"}),": ",(0,t.jsx)(e.code,{children:"string.match/replace/search/split(classWithSymbolFunction)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.hasInstance](instance)"}),": ",(0,t.jsx)(e.code,{children:"instance of"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.species]()"}),": constructor for making derived objects."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.toPrimitive](hint)"}),": \u5f3a\u5236\u7c7b\u578b\u8f6c\u6362."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.toStringTag]()"}),": string used by ",(0,t.jsx)(e.code,{children:"Object.prototype.toString()"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"iterator"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const arr = ['a', 'b', 'c']\nconst iter = arr[Symbol.iterator]()\n\niter.next() // { value: 'a', done: false }\niter.next() // { value: 'b', done: false }\niter.next() // { value: 'c', done: false }\niter.next() // { value: undefined, done: true }\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"hasInstance"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Bar {}\nclass Baz extends Bar {\n  static [Symbol.hasInstance](instance) {\n    return false\n  }\n}\n\nconst b = new Baz()\n\nconsole.log(Bar[Symbol.hasInstance](b)) // true\nconsole.log(b instanceof Bar) // true\nconsole.log(Baz[Symbol.hasInstance](b)) // false\nconsole.log(b instanceof Baz) // false\n\nconst ReferenceType = {\n  [Symbol.hasInstance](value) {\n    return (\n      value !== null\n      && (typeof value === 'object' || typeof value === 'function')\n    )\n  },\n}\n\nconst obj1 = {}\nconsole.log(obj1 instanceof Object) // true\nconsole.log(obj1 instanceof ReferenceType) // true\n\nconst obj2 = Object.create(null)\nconsole.log(obj2 instanceof Object) // false\nconsole.log(obj2 instanceof ReferenceType) // true\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"species"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class MyClass {\n  static get [Symbol.species]() {\n    return this\n  }\n\n  constructor(value) {\n    this.value = value\n  }\n\n  clone() {\n    return new this.constructor[Symbol.species](this.value)\n  }\n}\n\nclass MyDerivedClass1 extends MyClass {\n  // empty\n}\n\nclass MyDerivedClass2 extends MyClass {\n  static get [Symbol.species]() {\n    return MyClass\n  }\n}\n\nconst instance1 = new MyDerivedClass1('foo')\nconst instance2 = new MyDerivedClass2('bar')\nconst clone1 = instance1.clone()\nconst clone2 = instance2.clone()\n\nconsole.log(clone1 instanceof MyClass) // true\nconsole.log(clone1 instanceof MyDerivedClass1) // true\nconsole.log(clone2 instanceof MyClass) // true\nconsole.log(clone2 instanceof MyDerivedClass2) // false\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"toPrimitive"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Temperature {\n  constructor(degrees) {\n    this.degrees = degrees\n  }\n\n  [Symbol.toPrimitive](hint) {\n    switch (hint) {\n      case 'string':\n        return `${this.degrees}\\u00B0` // degrees symbol\n      case 'number':\n        return this.degrees\n      case 'default':\n        return `${this.degrees} degrees`\n    }\n  }\n}\n\nconst freezing = new Temperature(32)\n\nconsole.log(`${freezing}!`) // \"32 degrees!\"\nconsole.log(freezing / 2) // 16\nconsole.log(String(freezing)) // \"32\uc9f8\"\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"toStringTag"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Person {\n  constructor(name) {\n    this.name = name\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Person'\n  }\n}\n\nconst me = new Person('Me')\n\nconsole.log(me.toString()) // \"[object Person]\"\nconsole.log(Object.prototype.toString.call(me)) // \"[object Person]\"\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Value"}),(0,t.jsxs)(e.th,{children:[(0,t.jsx)(e.code,{children:"toString"})," Tag"]})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"undefined"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Undefined"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"null"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Null"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Array object"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Array"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"string object"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"String"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"arguments"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Arguments"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"callable"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Function"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"error object"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Error"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"boolean object"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Boolean"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"number object"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Number"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"date object"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Date"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"regular expression object"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"RegExp"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"(Otherwise)"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object"})})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"bigint",children:"Bigint"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Decimal: ",(0,t.jsx)(e.code,{children:"123n"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Binary: ",(0,t.jsx)(e.code,{children:"0b1101n"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Octal: ",(0,t.jsx)(e.code,{children:"0o777n"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Hexadecimal: ",(0,t.jsx)(e.code,{children:"0xFFn"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"/**\n * Takes a bigint as an argument and returns a bigint\n */\nfunction nthPrime(nth) {\n  if (typeof nth !== 'bigint')\n    throw new TypeError('Not bigint')\n\n  function isPrime(p) {\n    for (let i = 2n; i < p; i++) {\n      if (p % i === 0n)\n        return false\n    }\n\n    return true\n  }\n\n  for (let i = 2n; ; i++) {\n    if (isPrime(i)) {\n      if (--nth === 0n)\n        return i\n    }\n  }\n}\n\nassert.deepEqual(\n  [1n, 2n, 3n, 4n, 5n].map(nth => nthPrime(nth)),\n  [2n, 3n, 5n, 7n, 11n]\n)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"bigint-conversion",children:"Bigint Conversion"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"x"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"BigInt(x)"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:"Throws TypeError"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"null"})}),(0,t.jsx)(e.td,{children:"Throws TypeError"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"boolean"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"false"})," \u2192 ",(0,t.jsx)(e.code,{children:"0n"}),", ",(0,t.jsx)(e.code,{children:"true"})," \u2192 ",(0,t.jsx)(e.code,{children:"1n"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"number"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"123"})," \u2192 ",(0,t.jsx)(e.code,{children:"123n"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{children:"Non-integer \u2192 throws RangeError"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"bigint"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"x"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"string"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"'123'"})," \u2192 ",(0,t.jsx)(e.code,{children:"123n"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{children:"Unparsable \u2192 throws SyntaxError"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"symbol"})}),(0,t.jsx)(e.td,{children:"Throws TypeError"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"object"})}),(0,t.jsxs)(e.td,{children:["Configurable (",(0,t.jsx)(e.code,{children:"[Symbol.toPrimitive]()"}),"/",(0,t.jsx)(e.code,{children:"valueOf()"}),")"]})]})]})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"BigInt(undefined)\n// TypeError: Cannot convert undefined to a BigInt\nBigInt(null)\n// TypeError: Cannot convert null to a BigInt\nBigInt('abc')\n// SyntaxError: Cannot convert abc to a BigInt\nBigInt('123n')\n// SyntaxError: Cannot convert 123n to a BigInt\nBigInt('123')\n// 123n\nBigInt('0xFF')\n// 255n\nBigInt('0b1101')\n// 13n\nBigInt('0o777')\n// 511n\nBigInt(123.45)\n// RangeError: The number 123.45 cannot be converted to a BigInt\nBigInt(123)\n// 123n\nBigInt({\n  valueOf() {\n    return 123n\n  },\n})\n// 123n\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Convert To"}),(0,t.jsx)(e.th,{children:"Explicit Conversion"}),(0,t.jsx)(e.th,{children:"Coercion (Implicit Conversion)"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"boolean"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Boolean(0n)"})," \u2192 ",(0,t.jsx)(e.code,{children:"false"})]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"!0n"})," \u2192 ",(0,t.jsx)(e.code,{children:"true"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Boolean(int)"})," \u2192 ",(0,t.jsx)(e.code,{children:"true"})]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"!int"})," \u2192 ",(0,t.jsx)(e.code,{children:"false"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"number"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"Number(7n)"})," \u2192 ",(0,t.jsx)(e.code,{children:"7"})]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"+int"})," \u2192 ",(0,t.jsx)(e.code,{children:"TypeError"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"string"})}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"String(7n)"})," \u2192 ",(0,t.jsx)(e.code,{children:"'7'"})]}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"''+7n"})," \u2192 ",(0,t.jsx)(e.code,{children:"'7'"})]})]})]})]}),"\n",(0,t.jsx)(e.h4,{id:"bigint-static-properties",children:"Bigint Static Properties"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"BigInt.asIntN(width, theInt)"}),":\nCasts theInt to width bits (signed)."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"BigInt.asUintN(width, theInt)"}),":\nCasts theInt to width bits (unsigned)."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const uint64a = BigInt.asUintN(64, 12345n)\nconst uint64b = BigInt.asUintN(64, 67890n)\nconst result = BigInt.asUintN(64, uint64a * uint64b)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"wrapper-objects-for-primitives",children:"Wrapper Objects for Primitives"}),"\n",(0,t.jsx)(e.p,{children:"Using the wrapper function without the new keyword\nis a useful way of coercing a value into a primitive type."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Not recommended (primitive object wrapper):\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst objectType = typeof new String(37) // object\n\n// Safe (type coercion with wrapper function):\nconst stringType = typeof String(37) // string\n\n// Primitive strings:\n// eslint-disable-next-line no-self-compare\nconst truthy = '37' === '37' // true\n\n// Object-wrapped string:\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst falsy = new String(37) === '37' // false\n\n// Type-coerced string:\nconst truthy = String(37) === '37' // true\n\n// BAD!\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst falseObject = new Boolean(false)\nconst result = falseObject && true\nconsole.log(result) // true\nconsole.log(typeof falseObject) // object\nconsole.log(falseObject instanceof Boolean) // true\n\nconst prim = true\nassert.equal(typeof prim, 'boolean')\nassert.equal(prim instanceof Boolean, false)\n\n// eslint-disable-next-line unicorn/new-for-builtins\nconst wrapped = Object(prim)\nassert.equal(typeof wrapped, 'object')\nassert.equal(wrapped instanceof Boolean, true)\nassert.equal(wrapped.valueOf(), prim) // unwrap\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Box and Unbox"})," for primitive values:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u81ea\u52a8\u521b\u5efa\u7684\u539f\u59cb\u503c\u5305\u88c5\u5bf9\u8c61\u53ef\u4ee5\u8ba9\u539f\u59cb\u503c\u62e5\u6709\u5bf9\u8c61\u7684\u884c\u4e3a."}),"\n",(0,t.jsx)(e.li,{children:"\u81ea\u52a8\u521b\u5efa\u7684\u539f\u59cb\u503c\u5305\u88c5\u5bf9\u8c61\u53ea\u5b58\u5728\u4e8e\u8bbf\u95ee\u5b83\u7684\u90a3\u884c\u4ee3\u7801\u6267\u884c\u671f\u95f4."}),"\n",(0,t.jsxs)(e.li,{children:["\u5e38\u6570\u503c",(0,t.jsx)(e.strong,{children:"\u52a0\u62ec\u53f7"}),"\u53ef\u8f6c\u5316\u4e3a\u5bf9\u8c61."]}),"\n",(0,t.jsx)(e.li,{children:"\u53ef\u4ee5\u5bf9 primitive values \u8fdb\u884c ES6 \u89e3\u6784\u8bed\u6cd5."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const s1 = 'some text'\nconst s2 = s1.substring(2) // Call method on primitive string.\n// let _s1 = new String(s1);\n// const s2 = _s1.substring(2);\n// _s1 = null;\n\nconst s3 = 'some text'\ns3.color = 'red'\nconsole.log(s3.color) // undefined\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// primitive string\nconst greet = 'Hello there'\n// primitive is converted to an object\n// in order to use the split() method\nconst hello = greet.split(' ')[0] // \"Hello\"\n// attempting to augment a primitive is not an error\ngreet.smile = true\n// but it doesn't actually work\nconst undef = typeof greet.smile // \"undefined\"\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0d\u4f7f\u7528 new \u5173\u952e\u5b57,\u5305\u88c5\u7c7b\u6784\u9020\u51fd\u6570\u8fd4\u56de\u503c\u4e3a\u57fa\u672c\u7c7b\u578b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'const numberType = typeof Number(1) // "number"\nconst numberType = typeof Number(\'1\') // "number"\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst numberType = typeof Number(new Number()) // "number"\nconst stringType = typeof String(1) // "string"\nconst booleanType = typeof Boolean(1) // "boolean"\n'})}),"\n",(0,t.jsx)(e.h2,{id:"reference-values",children:"Reference Values"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Object e.g Date, RegExp."}),"\n",(0,t.jsx)(e.li,{children:"Function."}),"\n",(0,t.jsx)(e.li,{children:"Array."}),"\n",(0,t.jsx)(e.li,{children:"Map."}),"\n",(0,t.jsx)(e.li,{children:"Set."}),"\n",(0,t.jsx)(e.li,{children:"WeakMap."}),"\n",(0,t.jsx)(e.li,{children:"WeakSet."}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"array",children:"Array"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4e0e Object \u540c\u6e90."}),"\n",(0,t.jsxs)(e.li,{children:["\u5173\u8054\u6570\u7ec4: ",(0,t.jsx)(e.code,{children:'arrayName["string"] = value;'})," \u5b9e\u9645\u4e3a Array \u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027",(0,t.jsx)(e.code,{children:"{string:value}"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u7f13\u5b58\u6570\u7ec4\u957f\u5ea6:",(0,t.jsx)(e.code,{children:"int l = list.length"}),"(\u8bbf\u95ee",(0,t.jsx)(e.code,{children:"length"}),"\u9020\u6210\u8fd0\u7b97)."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[]"}),"\u6570\u7ec4, ",(0,t.jsx)(e.code,{children:"{}"}),"\u5bf9\u8c61."]}),"\n",(0,t.jsx)(e.li,{children:"\u6570\u7ec4\u5728\u6570\u503c\u8fd0\u7b97\u73af\u5883\u4e2d\u8f6c\u5316\u4e3a 0 (\u7a7a\u6570\u7ec4)/ num (\u5355\u4e00\u5143\u7d20\u6570\u7ec4)/NaN (\u591a\u5143\u7d20\u6570\u7ec4/NaN \u6570\u7ec4)."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const array = [...Array.from({ length: 5 }).keys()] // => [0, 1, 2, 3, 4]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-length",children:"Array Length"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6570\u7ec4\u4e0b\u6807\u6ee1\u8db3 [0, 2^32-1) \u5373\u53ef"}),"\n",(0,t.jsx)(e.li,{children:"\u8fd0\u7528\u5927\u4e8e length \u7684\u4e0b\u6807, length \u81ea\u52a8\u589e\u5927, \u4e0d\u4f1a\u53d1\u751f\u6570\u7ec4\u8fb9\u754c\u9519\u8bef"}),"\n",(0,t.jsx)(e.li,{children:"length \u7b49\u4e8e \u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u6574\u6570\u5c5e\u6027\u540d+1, length \u4e0d\u4e00\u5b9a\u7b49\u4e8e \u6570\u7ec4\u4e2d\u6709\u6548\u5143\u7d20\u4e2a\u6570"}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"array-literals",children:"Array Literals"}),"\n",(0,t.jsx)(e.p,{children:"\u4e0d\u4f7f\u7528\u6784\u9020\u51fd\u6570,\u4f7f\u7528\u6570\u7ec4\u5b57\u9762\u91cf\u521b\u5efa\u6570\u7ec4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const arr1 = Array.from({ length: 3 }) // \u6570\u7ec4\u957f\u5ea6\nconst arr2 = Array.from({ length: 3.14 }) // RangeError\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"if (typeof Array.isArray === 'undefined') {\n  Array.isArray = function (arg) {\n    // \u5176\u4f59\u5bf9\u8c61\u8fd4\u56de\u503c [object Object/Number/String/Boolean]\n    return Object.prototype.toString.call(arg) === '[object Array]'\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-of",children:"Array Of"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"Array.of(1) // [1]\nArray.of(1, 2, 3) // [1, 2, 3]\nArray.of(undefined) // [undefined]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-from",children:"Array From"}),"\n",(0,t.jsxs)(e.p,{children:["\u5f3a\u5927\u7684",(0,t.jsx)(e.strong,{children:"\u51fd\u6570\u5f0f"}),"\u65b9\u6cd5:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f2a\u6570\u7ec4\u5bf9\u8c61 (Array-like object)."}),"\n",(0,t.jsx)(e.li,{children:"\u53ef\u679a\u4e3e\u5bf9\u8c61 (Iterable object)."}),"\n",(0,t.jsx)(e.li,{children:"\u6d45\u514b\u9686\u6570\u7ec4 (Shallow Clone)."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"map"})," \u51fd\u6570."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"interface ArrayLike<T> {\n  length: number\n  [n: number]: T\n}\n\ninterface Array {\n  from: (<T>(iterable: Iterable<T> | ArrayLike<T>) => T[]) & (<T, U>(\n    iterable: Iterable<T> | ArrayLike<T>,\n    mapFunc: (v: T, i: number) => U,\n    thisArg?: any\n  ) => U[])\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Set\n// Map\n\n// NodeList \u5bf9\u8c61\nconst ps = document.querySelectorAll('p')\nArray.from(ps).forEach((p) => {\n  console.log(p)\n})\n\n// arguments \u5bf9\u8c61\nfunction foo() {\n  // eslint-disable-next-line prefer-rest-params\n  const args = Array.from(arguments)\n  // ...\n}\n\nArray.from('hello')\n// => ['h', 'e', 'l', 'l', 'o']\n\nconst namesSet = new Set(['a', 'b'])\nArray.from(namesSet) // ['a', 'b']\n\n// \u514b\u9686\u6570\u7ec4\nArray.from([1, 2, 3])\n// => [1, 2, 3]\n\nArray.from(arrayLike, x => x * x)\n// =>\nArray.from(arrayLike).map(x => x * x)\n\nArray.from([1, 2, 3], x => x * x)\n// [1, 4, 9]\n\n// random array generation\nArray.from(Array.from({ length: 5 }).keys())\n// [0, 1, 2, 3, 4]\n\n// Typed array initialization\nArray.from<T>({ length: maxSize }).fill(initValue)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-fill",children:"Array Fill"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const numbers = [1, 2, 3, 4]\nnumbers.fill(1, 2)\nconsole.log(numbers.toString()) // 1, 2, 1, 1\nnumbers.fill(0, 1, 3)\nconsole.log(numbers.toString()) // 1, 0, 0, 1\nnumbers.fill(1)\nconsole.log(numbers.toString()) // 1, 1, 1, 1\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-copywithin",children:"Array CopyWithin"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"copyWithin(dest, start, end)"}),", \u66ff\u6362\u6570\u7ec4\u5143\u7d20, ",(0,t.jsx)(e.strong,{children:"\u4fee\u6539\u539f\u6570\u7ec4"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";[1, 2, 3, 4, 5].copyWithin(0, 3)\n// => [4, 5, 3, 4, 5]\n;[1, 2, 3, 4, 5].copyWithin(0, -2, -1)\n// -2\u76f8\u5f53\u4e8e3\u53f7\u4f4d, -1\u76f8\u5f53\u4e8e4\u53f7\u4f4d\n// => [4, 2, 3, 4, 5]\n\n// \u5c062\u53f7\u4f4d\u5230\u6570\u7ec4\u7ed3\u675f, \u590d\u5236\u52300\u53f7\u4f4d\nconst i32a = new Int32Array([1, 2, 3, 4, 5])\ni32a.copyWithin(0, 2)\n// => Int32Array [3, 4, 5, 4, 5]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-stack",children:"Array Stack"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"arr.unshift(value) // \u6dfb\u52a0\u6570\u7ec4\u9996\u5143\u7d20\narr.push(value) // \u6dfb\u52a0\u6570\u7ec4\u5c3e\u5143\u7d20\narr.shift() // \u5220\u9664\u6570\u7ec4\u9996\u5143\u7d20\narr.pop() // \u5220\u9664\u6570\u7ec4\u5c3e\u5143\u7d20\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-slice-and-merge",children:"Array Slice and Merge"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"slice \u4e0d\u6539\u53d8\u539f\u6570\u7ec4, splice \u6539\u53d8\u539f\u6570\u7ec4."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";[].slice(start, end) // [start] - [end - 1]\n;[].splice(startIndex, lengthToDelete, insertElements) // \u529f\u80fd\u5f3a\u5927\u7684\u591a\u6001\u65b9\u6cd5\n;[].concat(otherArray)\n;[].join(separator)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-query",children:"Array Query"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";[].at(index) // ES2022\n;[].includes(element) // boolean.\n;[].find(callback) // element.\n;[].findIndex(callback) // element index.\n;[].indexOf(element) // -1 or other.\n;[].lastIndexOf(element) // -1 or other.\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// console.log([NaN].indexOf(NaN));\n// -1\n\nconsole.log([Number.NaN].includes(Number.NaN))\n// true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-element-filter",children:"Array Element Filter"}),"\n",(0,t.jsx)(e.p,{children:"\u76f8\u5f53\u4e8e Haskell \u4e2d\u7684 List Filter:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1]\nconst filterResult = numbers.filter((item, index, array) => item > 2)\nconsole.log(filterResult) // 3,4,5,4,3\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-boolean-filter",children:"Array Boolean Filter"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Array.every(filer)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Array.some(filer)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1]\nconst everyResult = numbers.every((item, index, array) => item > 2)\nconst someResult = numbers.some((item, index, array) => item > 2)\nconsole.log(everyResult) // false\nconsole.log(someResult) // true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-with",children:"Array With"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/with",children:"Array.prototype.with"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const arr = [1, 2, 3, 4, 5]\nconsole.log(arr.with(2, 6)) // [1, 2, 6, 4, 5]\nconsole.log(arr) // [1, 2, 3, 4, 5]\n\nconst arr = [1, 2, 3, 4, 5]\nconsole.log(arr.with(2, 6).map(x => x ** 2)) // [1, 4, 36, 16, 25]\n\nconst frameworks = ['Nuxt', 'Remix', 'SvelteKit', 'Ember']\nconsole.log(frameworks.with(-1, 'React'))\n// \u2705 Returns a copy with the change: ['Nuxt', 'Remix', 'SvelteKit', 'React'].\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-map",children:"Array Map"}),"\n",(0,t.jsx)(e.p,{children:"\u76f8\u5f53\u4e8e Haskell \u4e2d\u7684 List Map:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";[].map(item => item + 1) // map over\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-flat",children:"Array Flat"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"[2, [2, 2]] => [2, 2, 2]"})}),"\n",(0,t.jsx)(e.h4,{id:"array-flatmap",children:"Array FlatMap"}),"\n",(0,t.jsx)(e.p,{children:"map + flat."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function flattenDeep(arr) {\n  return Array.isArray(arr)\n    ? arr.reduce((a, b) => a.concat(flattenDeep(b)), [])\n    : [arr]\n}\n\nflattenDeep([1, [[2], [3, [4]], 5]])\n// => [1, 2, 3, 4, 5]\n\n// ES2019\n;[1, [2, [3, [4]], 5]].flat(Number.POSITIVE_INFINITY)\n// => [1, 2, 3, 4, 5]\n\nfunction flattenDeep(arr) {\n  return arr.flatMap((subArray, index) =>\n    Array.isArray(subArray) ? flattenDeep(subArray) : subArray\n  )\n}\n\nflattenDeep([1, [[2], [3, [4]], 5]])\n// => [1, 2, 3, 4, 5]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-reduce",children:"Array Reduce"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"reduce"}),"/",(0,t.jsx)(e.code,{children:"reduceRight"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Accumulator: initial value, otherwise ",(0,t.jsx)(e.code,{children:"array[0]"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Current value: ",(0,t.jsx)(e.code,{children:"array[0]"}),", otherwise ",(0,t.jsx)(e.code,{children:"array[1]"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Implement array sets manipulation (",(0,t.jsx)(e.code,{children:"reduce"}),"/",(0,t.jsx)(e.code,{children:"filter"}),"/",(0,t.jsx)(e.code,{children:"includes"}),")."]}),"\n",(0,t.jsxs)(e.li,{children:["Implement ",(0,t.jsx)(e.code,{children:"XXXBy"})," functional methods."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";[].reduce(\n  (previous, current, currentIndex, arr) => current + previous,\n  initial\n) // fold function\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Implement ",(0,t.jsx)(e.code,{children:"groupBy"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const groupByLength = ['one', 'two', 'three'].reduce(\n  (acc, current, _index, _array) => {\n    const key = current.length\n    ;(acc[key] || (acc[key] = [])).push(current)\n    return acc\n  },\n  {}\n)\n// {3: [\"one\", \"two\"], 5: [\"three\"]}\n\nconst groupByFunction = [1.3, 2.1, 2.4].reduce(\n  (acc, current, _index, _array) => {\n    const key = Math.floor(current)\n    ;(acc[key] || (acc[key] = [])).push(current)\n    return acc\n  },\n  {}\n)\n// {1: [1.3], 2: [2.1, 2.4]}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-traversal",children:"Array Traversal"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"array.forEach((val) => {}) // \u904d\u5386\u6570\u7ec4\u6240\u6709\u5143\u7d20.\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-sort",children:"Array Sort"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"toExchange"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"return 1"}),": a, b \u4ea4\u6362\u4f4d\u7f6e."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"return -1"}),": a, b \u4e0d\u4ea4\u6362\u4f4d\u7f6e."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"arr.sort(toExchange)\nstrings.sort((a, b) => a.localeCompare(b))\nstrings.sort((a, b) => new Intl.Collator('en').compare(a, b))\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-reverse",children:"Array Reverse"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";[].reverse()\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Tips\n// \u53cd\u8f6c\u5b57\u7b26\u4e32\nconst reverseStr = normalizedStr.split('').reverse().join('')\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-spread",children:"Array Spread"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Shallow Clone."}),"\n",(0,t.jsx)(e.li,{children:"Iterable Consumer."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"arr2.push(...arr1)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = { x: 1, y: 2, z: 3 }\n\nobj[Symbol.iterator] = function* () {\n  yield 1\n  yield 2\n  yield 3\n}\n\nconst array = [...obj] // print [1, 2, 3]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"array-deep-clone",children:"Array Deep Clone"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const nestedArray = [1, [2], 3]\nconst arrayCopy = JSON.parse(JSON.stringify(nestedArray))\n\n// Make some changes\narrayCopy[0] = '1' // change shallow element\narrayCopy[1][0] = '3' // change nested element\nconsole.log(arrayCopy) // [ '1', [ '3' ], 3 ]\n\n// Good: Nested array NOT affected\nconsole.log(nestedArray) //  1, [ 2 ], 3 ]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"typed-array",children:"Typed Array"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.a,{href:"https://exploringjs.com/es6/ch_typed-arrays.html",children:(0,t.jsx)(e.code,{children:"Typed Array"})}),"\n\u662f ",(0,t.jsx)(e.code,{children:"ArrayBuffer"})," (\u7528\u4e8e Web GL \u9ad8\u6548\u7387\u5185\u5b58\u64cd\u4f5c) \u5176\u4e2d\u4e00\u79cd\u89c6\u56fe:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"File."}),"\n",(0,t.jsx)(e.li,{children:"XMLHttpRequest."}),"\n",(0,t.jsx)(e.li,{children:"Fetch."}),"\n",(0,t.jsx)(e.li,{children:"Web Worker."}),"\n",(0,t.jsx)(e.li,{children:"WebSocket."}),"\n",(0,t.jsx)(e.li,{children:"Canvas."}),"\n",(0,t.jsx)(e.li,{children:"WebGL."}),"\n",(0,t.jsx)(e.li,{children:"Web Audio."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5e94\u8be5\u8fd4\u56de\u7684\u6570\u7ec4\u7c7b\u578b\n// \u5176\u4f59\u53c2\u6570\u662f\u5e94\u8be5\u62fc\u63a5\u5728\u4e00\u8d77\u7684\u5b9a\u578b\u6570\u7ec4\nfunction typedArrayConcat(TypedArrayConstructor, ...typedArrays) {\n  // \u8ba1\u7b97\u6240\u6709\u6570\u7ec4\u4e2d\u5305\u542b\u7684\u5143\u7d20\u603b\u6570\n  const numElements = typedArrays.reduce((x, y) => (x.length || x) + y.length)\n  // \u6309\u7167\u63d0\u4f9b\u7684\u7c7b\u578b\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4, \u4e3a\u6240\u6709\u5143\u7d20\u7559\u51fa\u7a7a\u95f4\n  const resultArray = new TypedArrayConstructor(numElements)\n  // \u4f9d\u6b21\u8f6c\u79fb\u6570\u7ec4\n  let currentOffset = 0\n  typedArrays.forEach((x) => {\n    resultArray.set(x, currentOffset)\n    currentOffset += x.length\n  })\n  return resultArray\n}\n\nconst concatArray = typedArrayConcat(\n  Int32Array,\n  Int8Array.of(1, 2, 3),\n  Int16Array.of(4, 5, 6),\n  Float32Array.of(7, 8, 9)\n)\n\nconsole.log(concatArray) // [1, 2, 3, 4, 5, 6, 7, 8, 9]\nconsole.log(concatArray instanceof Int32Array) // true\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const view = new Int16Array([25, 50])\nconsole.log(view instanceof Int16Array) // true\n// eslint-disable-next-line unicorn/no-instanceof-array\nconsole.log(view instanceof Array) // false\nconsole.log(Array.isArray(view)) // false\n"})}),"\n",(0,t.jsx)(e.h3,{id:"map",children:"Map"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"size"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"has()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"get()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"set()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"delete()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"clear()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"keys()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"values()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"entries()"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const map = new Map([\n  // You define a map via an array of 2-element arrays. The first\n  // element of each nested array is the key, and the 2nd is the value\n  ['name', 'Jean-Luc Picard'],\n  ['age', 59],\n  ['rank', 'Captain'],\n])\n\n// To get the value associated with a given `key` in a map, you\n// need to call `map.get(key)`. Using `map.key` will **not** work.\nmap.get('name') // 'Jean-Luc Picard'\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const map = new Map([])\n\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst n1 = new Number(5)\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst n2 = new Number(5)\n\nmap.set(n1, 'One')\nmap.set(n2, 'Two')\n\n// `n1` and `n2` are objects, so `n1 !== n2`. That means the map has\n// separate keys for `n1` and `n2`.\nmap.get(n1) // 'One'\nmap.get(n2) // 'Two'\nmap.get(5) // undefined\n\n// If you were to do this with an object, `n2` would overwrite `n1`\nconst obj = {}\nobj[n1] = 'One'\nobj[n2] = 'Two'\n\nconst two1 = obj[n1] // 'Two'\nconst two2 = obj[5] // 'Two'\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const objectClone = new Map(Object.entries(object))\nconst arrayClone = new Map(Array.from(map.entries))\nconst map = new Map([\n  ['name', 'Jean-Luc Picard'],\n  ['age', 59],\n  ['rank', 'Captain'],\n])\n\n// The `for/of` loop can loop through iterators\nfor (const key of map.keys())\n  console.log(key) // 'name', 'age', 'rank'\n\nfor (const value of map.values())\n  console.log(value) // 'Jean-Luc Picard', 59, 'Captain'\n\nfor (const [key, value] of map.entries()) {\n  console.log(key) // 'name', 'age', 'rank'\n  console.log(value) // 'Jean-Luc Picard', 59, 'Captain'\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"set",children:"Set"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"size"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"has()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"add()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"delete()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"clear()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"keys()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"values()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"entries()"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class XSet extends Set {\n  union(...sets) {\n    return XSet.union(this, ...sets)\n  }\n\n  intersection(...sets) {\n    return XSet.intersection(this, ...sets)\n  }\n\n  difference(set) {\n    return XSet.difference(this, set)\n  }\n\n  symmetricDifference(set) {\n    return XSet.symmetricDifference(this, set)\n  }\n\n  cartesianProduct(set) {\n    return XSet.cartesianProduct(this, set)\n  }\n\n  powerSet() {\n    return XSet.powerSet(this)\n  }\n\n  // \u8fd4\u56de\u4e24\u4e2a\u6216\u66f4\u591a\u96c6\u5408\u7684\u5e76\u96c6\n  // new Set([...setA, ...setB]);\n  static union(a, ...bSets) {\n    const unionSet = new XSet(a)\n\n    for (const b of bSets) {\n      for (const bValue of b)\n        unionSet.add(bValue)\n    }\n\n    return unionSet\n  }\n\n  // \u8fd4\u56de\u4e24\u4e2a\u6216\u66f4\u591a\u96c6\u5408\u7684\u4ea4\u96c6\n  // new Set([...setA].filter(x => setB.has(x)))\n  static intersection(a, ...bSets) {\n    const intersectionSet = new XSet(a)\n\n    for (const aValue of intersectionSet) {\n      for (const b of bSets) {\n        if (!b.has(aValue))\n          intersectionSet.delete(aValue)\n      }\n    }\n\n    return intersectionSet\n  }\n\n  // \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408\u7684\u5dee\u96c6\n  // new Set([...setA].filter(x => !setB.has(x)))\n  static difference(a, b) {\n    const differenceSet = new XSet(a)\n\n    for (const bValue of b) {\n      if (a.has(bValue))\n        differenceSet.delete(bValue)\n    }\n\n    return differenceSet\n  }\n\n  // \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408\u7684\u5bf9\u79f0\u5dee\u96c6\n  static symmetricDifference(a, b) {\n    // \u6309\u7167\u5b9a\u4e49, \u5bf9\u79f0\u5dee\u96c6\u53ef\u4ee5\u8868\u8fbe\u4e3a:\n    return a.union(b).difference(a.intersection(b))\n  }\n\n  // \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408 (\u6570\u7ec4\u5bf9\u5f62\u5f0f) \u7684\u7b1b\u5361\u513f\u79ef\n  // \u5fc5\u987b\u8fd4\u56de\u6570\u7ec4\u96c6\u5408, \u56e0\u4e3a\u7b1b\u5361\u513f\u79ef\u53ef\u80fd\u5305\u542b\u76f8\u540c\u503c\u7684\u5bf9\n  static cartesianProduct(a, b) {\n    const cartesianProductSet = new XSet()\n\n    for (const aValue of a) {\n      for (const bValue of b)\n        cartesianProductSet.add([aValue, bValue])\n    }\n\n    return cartesianProductSet\n  }\n\n  // \u8fd4\u56de\u4e00\u4e2a\u96c6\u5408\u7684\u5e42\u96c6\n  static powerSet(a) {\n    const powerSet = new XSet().add(new XSet())\n\n    for (const aValue of a) {\n      for (const set of new XSet(powerSet))\n        powerSet.add(new XSet(set).add(aValue))\n    }\n\n    return powerSet\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"weakmap-and-weakset",children:"WeakMap and WeakSet"}),"\n",(0,t.jsxs)(e.p,{children:["WeakMap \u7ed3\u6784\u4e0e Map \u7ed3\u6784\u57fa\u672c\u7c7b\u4f3c,\n\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f WeakMap \u53ea\u63a5\u53d7",(0,t.jsx)(e.strong,{children:"\u975e null \u5bf9\u8c61"}),"\u4f5c\u4e3a\u952e\u540d:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5f31\u952e: \u952e\u540d\u6784\u5efa\u7684\u5f15\u7528",(0,t.jsx)(e.strong,{children:"\u65e0\u6cd5\u963b\u6b62\u5bf9\u8c61\u6267\u884c\u5783\u573e\u56de\u6536"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u4e0d\u53ef\u8fed\u4ee3\u952e: \u952e/\u503c\u968f\u65f6\u53ef\u80fd\u88ab\u5783\u573e\u56de\u6536, \u65e0\u9700\u63d0\u4f9b\u8fed\u4ee3\u80fd\u529b, \u65e0 ",(0,t.jsx)(e.code,{children:"clear()"})," \u65b9\u6cd5."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5b83\u7684\u952e\u6240\u5bf9\u5e94\u7684\u5bf9\u8c61\u53ef\u80fd\u4f1a\u5728\u5c06\u6765\u6d88\u5931.\n\u4e00\u4e2a\u5bf9\u5e94 DOM \u5143\u7d20\u7684 WeakMap \u7ed3\u6784,\n\u5f53\u67d0\u4e2a DOM \u5143\u7d20\u88ab\u6e05\u9664,\n\u5176\u6240\u5bf9\u5e94\u7684 WeakMap \u8bb0\u5f55\u5c31\u4f1a\u81ea\u52a8\u88ab\u79fb\u9664."}),"\n",(0,t.jsxs)(e.p,{children:["\u6709\u65f6\u5019\u6211\u4eec\u4f1a\u628a\u5bf9\u8c61\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u7684\u952e\u7528\u6765\u5b58\u653e\u5c5e\u6027\u503c,\n\u666e\u901a\u96c6\u5408\u7c7b\u578b\u6bd4\u5982\u7b80\u5355\u5bf9\u8c61 (Object/Map/Set) \u4f1a\u963b\u6b62\u5783\u573e\u56de\u6536\u5668\u5bf9\u8fd9\u4e9b\u4f5c\u4e3a\u5c5e\u6027\u952e\u5b58\u5728\u7684\u5bf9\u8c61\u7684\u56de\u6536,\n\u6709\u9020\u6210\u5185\u5b58\u6cc4\u6f0f\u7684\u5371\u9669,\nWeakMap/WeakSet \u5219\u66f4\u52a0",(0,t.jsx)(e.strong,{children:"\u5185\u5b58\u5b89\u5168"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Caching computed results."}),"\n",(0,t.jsx)(e.li,{children:"Managing listeners."}),"\n",(0,t.jsx)(e.li,{children:"Keeping private data."}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"date",children:"Date"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/you-dont-need/You-Dont-Need-Momentjs",children:"Date and Temporal API CheatSheet"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://css-tricks.com/everything-you-need-to-know-about-date-in-javascript",children:"Definitive Guide"})}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const now = new Date()\nnow.getFullYear() // 1-n\nnow.getMonth() // Warn: 0-11\nnow.getDate() // 1-n\nnow.getDay() // Warn: 0-6\nnow.getHours()\nnow.getSeconds()\nnow.toString()\nnow.toDateString()\nnow.toTimeString()\nnow.toUTCString()\nnow.toLocaleString()\nnow.toLocaleDateString()\nnow.toLocaleTimeString()\n\nfunction daysOfMonth(year, month) {\n  // `0` for last month of next month\n  return new Date(year, month + 1, 0).getDate()\n}\n\nfunction prevYear(year) {\n  return new Date(year - 1, 0).getFullYear()\n}\n\nfunction nextYear(year) {\n  return new Date(year + 1, 0).getFullYear()\n}\n\nfunction prevMonth(year, month) {\n  return new Date(year, month - 1).getMonth()\n}\n\nfunction nextMonth(year, month) {\n  return new Date(year, month + 1).getMonth()\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function getDateItemList(year, month) {\n  const days = daysOfMonth(year, month)\n  const currentDateItemList = [...Array.from({ length: days }).keys()].map((index) => {\n    return DateItem(year, month, 1 + index)\n  })\n\n  const firstDayItem = DateItem(year, month, 1)\n  const firstDayWeekday = firstDayItem.day\n  const lastMonthDays = daysOfMonth(year, month - 1)\n  const prefixDays = firstDayWeekday === 0 ? 7 : firstDayWeekday\n  const prefixFirstDay = lastMonthDays - prefixDays + 1\n  const prefixYear = prevYear(year)\n  const prefixMonth = prevMonth(year, month)\n  const prefixDateItemList = [...Array.from({ length: prefixDays }).keys()].map((index) => {\n    return DateItem(prefixYear, prefixMonth, prefixFirstDay + index)\n  })\n\n  const lastDayItem = DateItem(year, month, days)\n  const lastDayWeekday = lastDayItem.day\n  const suffixDays = lastDayWeekday === 6 ? 7 : 6 - lastDayWeekday\n  const suffixYear = nextYear(year)\n  const suffixMonth = nextMonth(year, month)\n  const suffixDateItemList = [...Array.from({ length: suffixDays }).keys()].map((index) => {\n    return DateItem(suffixYear, suffixMonth, 1 + index)\n  })\n\n  const dateItemList = [\n    ...prefixDateItemList,\n    ...currentDateItemList,\n    ...suffixDateItemList,\n  ]\n\n  return dateItemList\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"temporal",children:"Temporal"}),"\n",(0,t.jsx)(e.h4,{id:"temporal-basis",children:"Temporal Basis"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"Temporal.ZonedDateTime.from({\n  year,\n  month,\n  day,\n  timeZone: Temporal.Now.timeZone(),\n})\n\nTemporal.ZonedDateTime.from({\n  year,\n  month,\n  day,\n  hour,\n  minute,\n  timeZone: Temporal.Now.timeZone(),\n})\n\nconst second = Temporal.Now.zonedDateTimeISO().second\nconst hour = Temporal.Now.zonedDateTimeISO().hour\nconst day = Temporal.Now.zonedDateTimeISO().day\n\nTemporal.Now.zonedDateTimeISO().with({ second: 30 })\nTemporal.Now.zonedDateTimeISO().with({ hour: 13 })\nTemporal.Now.zonedDateTimeISO().with({ day: 1 })\nTemporal.Now.zonedDateTimeISO().withPlainTime(\n  new Temporal.PlainTime(23, 59, 59, 999, 999, 999)\n)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"temporal-range",children:"Temporal Range"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const dayOfWeek = Temporal.Now.zonedDateTimeISO().dayOfWeek\nconst dayOfYear = Temporal.Now.zonedDateTimeISO().dayOfYear\nconst daysInMonth = new Temporal.PlainYearMonth(2012, 2).daysInMonth\nconst daysInMonth = Temporal.PlainYearMonth.from('2012-02').daysInMonth\nconst weekOfYear = Temporal.Now.zonedDateTimeISO().weekOfYear\nconst weekOfYear = Temporal.PlainDate.from({\n  day: 31,\n  month: 12,\n  year: Temporal.Now.plainDateISO(),\n}).weekOfYear\nconst inLeapYear = Temporal.PlainDate.from('2000-01-01').inLeapYear\n\nTemporal.Now.zonedDateTimeISO().add(Temporal.Duration.from({ days: 7 }))\nTemporal.Now.zonedDateTimeISO().subtract(Temporal.Duration.from({ days: 14 }))\nTemporal.Now.zonedDateTimeISO()\n  .with({ month: 1, day: 1 })\n  .add(Temporal.Duration.from({ days: 256 }))\nTemporal.Now.zonedDateTimeISO()\n  .with({ month: 1, day: 1 })\n  .add(Temporal.Duration.from({ weeks: 23 }))\n\nTemporal.Instant.fromEpochMilliseconds(Math.max.apply(null, dateArrays))\nTemporal.Instant.fromEpochMilliseconds(Math.min.apply(null, dateArrays))\n"})}),"\n",(0,t.jsx)(e.h4,{id:"temporal-display",children:"Temporal Display"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"new Intl.DateTimeFormat('en-GB', {\n  dateStyle: 'full',\n  timeStyle: 'medium',\n}).format(Temporal.Now.zonedDateTimeISO())\nnew Intl.DateTimeFormat('de-DE', { weekday: 'short', hour: 'numeric' }).format(\n  Temporal.Now.zonedDateTimeISO()\n)\n\nTemporal.PlainDate.from('2007-01-27').until('2007-01-29')\nTemporal.PlainDate.from('2007-01-27')\n  .since('2007-01-29')\n  .total({ unit: 'millisecond' })\nTemporal.PlainDate.from('2007-01-27').since('2007-01-29').total({ unit: 'day' })\n"})}),"\n",(0,t.jsx)(e.h4,{id:"temporal-query",children:"Temporal Query"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const isBefore = Temporal.PlainDate.compare('2010-10-20', '2010-10-21') === -1\nconst isAfter = Temporal.PlainDate.compare('2010-10-20', '2010-10-19') === 1\nconst isEqual = Temporal.PlainDate.from('2010-10-20').equals('2010-10-21')\nconst isEqual = Temporal.PlainDate.from('2010-10-20').equals('2010-10-20')\nconst isEqual\n  = Temporal.PlainDate.from('2010-10-20').month\n  === Temporal.PlainDate.from('2010-10-21').month\n\nconst isPlainTime = Temporal.Now.plainTimeISO() instanceof Temporal.PlainTime\nconst isPlainDate = Temporal.Now.plainDateISO() instanceof Temporal.PlainDate\nconst isPlainDateTime\n  = Temporal.Now.plainDateTimeISO() instanceof Temporal.PlainDateTime\nconst isZonedDateTime\n  = Temporal.Now.zonedDateTimeISO() instanceof Temporal.ZonedDateTime\n"})}),"\n",(0,t.jsx)(e.h2,{id:"variable",children:"Variable"}),"\n",(0,t.jsx)(e.h3,{id:"variable-hoisting",children:"Variable Hoisting"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u4e00\u65b9\u9762\u89c4\u5b9a, ",(0,t.jsx)(e.code,{children:"var"}),"/",(0,t.jsx)(e.code,{children:"function"})," \u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cf,\n\u4f9d\u65e7\u662f\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027, \u610f\u5473\u7740\u4f1a",(0,t.jsx)(e.code,{children:"Hoisting"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u53e6\u4e00\u65b9\u9762\u89c4\u5b9a, ",(0,t.jsx)(e.code,{children:"let"}),"/",(0,t.jsx)(e.code,{children:"const"}),"/",(0,t.jsx)(e.code,{children:"class"})," \u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cf,\n\u4e0d\u5c5e\u4e8e\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027, \u610f\u5473\u7740\u4e0d\u4f1a",(0,t.jsx)(e.code,{children:"Hoisting"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"var"})," \u53ea\u6709\u51fd\u6570\u4f5c\u7528\u57df, ",(0,t.jsx)(e.code,{children:"let"}),"/",(0,t.jsx)(e.code,{children:"const"})," \u62e5\u6709\u5757\u7ea7\u4f5c\u7528\u57df."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"var"})," \u8868\u8fbe\u5f0f\u548c ",(0,t.jsx)(e.code,{children:"function"})," \u58f0\u660e\u90fd\u5c06\u4f1a\u88ab\u63d0\u5347\u5230\u5f53\u524d\u4f5c\u7528\u57df (",(0,t.jsx)(e.strong,{children:"\u5168\u5c40\u4f5c\u7528\u57df/\u51fd\u6570\u4f5c\u7528\u57df"}),") \u9876\u90e8,\n\u5176\u4f59\u8868\u8fbe\u5f0f\u987a\u5e8f\u4e0d\u53d8."]}),"\n"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{}),(0,t.jsx)(e.th,{children:"Hoisting"}),(0,t.jsx)(e.th,{children:"Scope"}),(0,t.jsx)(e.th,{children:"Creates Global Properties"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"var"})}),(0,t.jsx)(e.td,{children:"Declaration"}),(0,t.jsx)(e.td,{children:"Function"}),(0,t.jsx)(e.td,{children:"Yes"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"let"})}),(0,t.jsx)(e.td,{children:"Temporal dead zone"}),(0,t.jsx)(e.td,{children:"Block"}),(0,t.jsx)(e.td,{children:"No"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"const"})}),(0,t.jsx)(e.td,{children:"Temporal dead zone"}),(0,t.jsx)(e.td,{children:"Block"}),(0,t.jsx)(e.td,{children:"No"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"class"})}),(0,t.jsx)(e.td,{children:"Temporal dead zone"}),(0,t.jsx)(e.td,{children:"Block"}),(0,t.jsx)(e.td,{children:"No"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"function"})}),(0,t.jsx)(e.td,{children:"Complete"}),(0,t.jsx)(e.td,{children:"Block"}),(0,t.jsx)(e.td,{children:"Yes"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"import"})}),(0,t.jsx)(e.td,{children:"Complete"}),(0,t.jsx)(e.td,{children:"Module-global"}),(0,t.jsx)(e.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u6211\u4eec\u77e5\u9053\u8fd9\u4e2a\u884c\u4e0d\u901a (\u5047\u8bbe\u6ca1\u6709\u672a\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf)\nfunction example() {\n  console.log(notDefined) // => throws a ReferenceError\n}\n\n// \u5728\u5f15\u7528\u53d8\u91cf\u540e\u521b\u5efa\u53d8\u91cf\u58f0\u660e\u5c06\u4f1a\u56e0\u53d8\u91cf\u63d0\u5347\u800c\u8d77\u4f5c\u7528.\n// \u6ce8\u610f: \u771f\u6b63\u7684\u503c `true` \u4e0d\u4f1a\u88ab\u63d0\u5347.\nfunction example() {\n  console.log(declaredButNotAssigned) // => undefined\n  var declaredButNotAssigned = true\n}\n\n// \u89e3\u91ca\u5668\u5c06\u53d8\u91cf\u63d0\u5347\u5230\u51fd\u6570\u7684\u9876\u90e8\n// \u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u5c06\u4e0a\u8fb9\u7684\u4f8b\u5b50\u91cd\u5199\u4e3a:\nfunction example() {\n  let declaredButNotAssigned\n  console.log(declaredButNotAssigned) // => undefined\n  declaredButNotAssigned = true\n}\n\n// \u4f7f\u7528 const \u548c let\nfunction example() {\n  console.log(declaredButNotAssigned) // => throws a ReferenceError\n  console.log(typeof declaredButNotAssigned) // => throws a ReferenceError\n  const declaredButNotAssigned = true\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function example() {\n  console.log(named) // => undefined\n\n  named() // => TypeError named is not a function\n\n  superPower() // => ReferenceError superPower is not defined\n\n  var named = function superPower() {\n    console.log('Flying')\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"let-variable",children:"Let Variable"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5757\u7ea7\u4f5c\u7528\u57df\u5185\u5b9a\u4e49\u7684\u53d8\u91cf/\u51fd\u6570, \u5728\u5757\u7ea7\u4f5c\u7528\u57df\u5916 ReferenceError."}),"\n",(0,t.jsx)(e.li,{children:"\u4e0d\u5b58\u5728\u53d8\u91cf\u63d0\u5347, \u5bfc\u81f4\u6682\u65f6\u6027\u6b7b\u533a (Temporal Dead Zone)."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"let"})," variable in ",(0,t.jsx)(e.code,{children:"for-loop"})," closure,\nevery closure for each loop\nbinds the block-scoped variable."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const a = 1\n\nb = 3 // temporal dead zone: throw reference error\n\nlet b = 2\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"let"})," \u53d8\u91cf\u62e5\u6709\u5757\u7ea7\u4f5c\u7528\u57df (\u6bcf\u4e2a ",(0,t.jsx)(e.code,{children:"setTimeout"})," \u5f15\u7528\u7684\u90fd\u662f\u4e0d\u540c\u7684\u53d8\u91cf\u5b9e\u4f8b):"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// for (var i = 0; i < 5; ++i) {\n//   setTimeout(() => console.log(i), 0);\n// }\n// Output 5, 5, 5, 5, 5.\n// \u6240\u6709\u7684 i \u90fd\u662f\u540c\u4e00\u4e2a\u53d8\u91cf, \u8f93\u51fa\u540c\u4e00\u4e2a\u6700\u7ec8\u503c.\n\nfor (let i = 0; i < 5; ++i)\n  setTimeout(() => console.log(i), 0)\n\n// Output: 0, 1, 2, 3, 4.\n// JavaScript \u5f15\u64ce\u4f1a\u4e3a\u6bcf\u4e2a\u8fed\u4ee3\u5faa\u73af\u58f0\u660e\u4e00\u4e2a\u65b0\u7684\u8fed\u4ee3\u53d8\u91cf.\n// \u6bcf\u4e2a setTimeout \u5f15\u7528\u7684\u90fd\u662f\u4e0d\u540c\u7684\u53d8\u91cf\u5b9e\u4f8b.\n"})}),"\n",(0,t.jsx)(e.h3,{id:"const-variable",children:"Const Variable"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"const \u4e00\u65e6\u58f0\u660e\u53d8\u91cf, \u5c31\u5fc5\u987b\u7acb\u5373\u521d\u59cb\u5316, \u4e0d\u80fd\u7559\u5230\u4ee5\u540e\u8d4b\u503c."}),"\n",(0,t.jsxs)(e.li,{children:["\u5f15\u7528\u4e00\u4e2a",(0,t.jsx)(e.code,{children:"Reference"}),"\u53d8\u91cf\u65f6, \u53ea\u8868\u793a\u6b64\u53d8\u91cf\u5730\u5740\u4e0d\u53ef\u53d8, \u4f46\u6240\u5f15\u7528\u53d8\u91cf\u7684\u503c/\u5c5e\u6027\u53ef\u53d8\n(",(0,t.jsx)(e.code,{children:"xxx *const"}),", \u5373",(0,t.jsx)(e.code,{children:"const"}),"\u6307\u9488, \u6307\u5411\u4e00\u4e2a\u53d8\u91cf)."]}),"\n",(0,t.jsx)(e.li,{children:"\u5757\u7ea7\u4f5c\u7528\u57df."}),"\n",(0,t.jsx)(e.li,{children:"\u4e0d\u5b58\u5728\u53d8\u91cf\u63d0\u5347, \u5bfc\u81f4\u6682\u65f6\u6027\u6b7b\u533a (Temporal Dead Zone)."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const f = () => g()\nconst g = () => 123\n\n// We call f() after g() was declared:\nassert.equal(f(), 123)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"funcDecl()\n\nconst MY_STR = 'abc'\nfunction funcDecl() {\n  assert.throws(() => MY_STR, ReferenceError)\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"type-detection",children:"Type Detection"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function typeOf(o) {\n  const _toString = Object.prototype.toString\n  const _type = {\n    'undefined': 'undefined',\n    'number': 'number',\n    'boolean': 'boolean',\n    'string': 'string',\n    '[object Function]': 'function',\n    '[object GeneratorFunction]': 'function',\n    '[object Array]': 'array',\n    '[object Date]': 'date',\n    '[object RegExp]': 'regexp',\n    '[object Error]': 'error',\n    '[object JSON]': 'json',\n  }\n\n  return _type[typeof o] || _type[_toString.call(o)] || (o ? 'object' : 'null')\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function type(item) {\n  const reTypeOf = /^\\[object\\s(.*?)\\]$/\n\n  return Object.prototype.toString\n    .call(item)\n    .replace(reTypeOf, '$1')\n    .toLowerCase()\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"null-detection",children:"Null Detection"}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0d\u5e94\u4f7f\u7528 typeof \u68c0\u6d4b null, \u5e94\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"==="}),"/",(0,t.jsx)(e.code,{children:"!=="}),"."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"/*\n * ECMAScript \u6807\u51c6\u7684\u91cd\u5927 bug\n */\nconst objectType = typeof null // => object\n"})}),"\n",(0,t.jsx)(e.h4,{id:"property-detection",children:"Property Detection"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u7531\u4e8e\u5c5e\u6027\u503c\u53ef\u80fd\u4e3a\u96f6\u503c\u503c\u8868\u8fbe\u5f0f, \u4e0d\u5e94\u4f7f\u7528\u96f6\u503c\u8868\u8fbe\u5f0f(",(0,t.jsx)(e.code,{children:"0"}),"/",(0,t.jsx)(e.code,{children:"NaN"}),"/",(0,t.jsx)(e.code,{children:"''"}),"/",(0,t.jsx)(e.code,{children:"null"}),"/",(0,t.jsx)(e.code,{children:"undefined"}),") \u68c0\u6d4b\u5c5e\u6027\u503c."]}),"\n",(0,t.jsxs)(e.li,{children:["\u5e94\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"for in"})," \u8fdb\u884c\u5c5e\u6027\u68c0\u6d4b."]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"custom-object-detection",children:"Custom Object Detection"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"object instanceof Constructor"}),":\n\u5728\u539f\u578b\u94fe\u4e0a\u67e5\u627e",(0,t.jsx)(e.strong,{children:"\u6784\u9020\u5668\u7684\u539f\u578b\u5bf9\u8c61"})," (",(0,t.jsx)(e.code,{children:"Constructor.prototype"}),")."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"prop in object"}),": \u67e5\u627e\u539f\u578b\u94fe\u5c5e\u6027\u540d."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"/**\n * L \u8868\u793a\u5de6\u8868\u8fbe\u5f0f, R \u8868\u793a\u53f3\u8868\u8fbe\u5f0f: L \u4e3a\u53d8\u91cf, R \u4e3a\u7c7b\u578b.\n */\nfunction instanceOf(L, R) {\n  const prototype = R.prototype\n  let chain = L[[proto]]\n\n  while (true) {\n    if (chain === null)\n      return false\n\n    if (prototype === chain)\n      return true\n\n    chain = chain[[proto]]\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"type-conversion",children:"Type Conversion"}),"\n",(0,t.jsx)(e.h4,{id:"type-conversion-context",children:"Type Conversion Context"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5b57\u7b26\u4e32 -> \u6574\u6570: ",(0,t.jsx)(e.code,{children:"+string"}),"/",(0,t.jsx)(e.code,{children:"Number(string)"}),"/",(0,t.jsx)(e.code,{children:"parseInt(string, arg1)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["any -> ",(0,t.jsx)(e.code,{children:"bool"}),": ",(0,t.jsx)(e.code,{children:"!!any"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["const -> ",(0,t.jsx)(e.code,{children:"object"}),": ",(0,t.jsx)(e.code,{children:"(const)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"parseInt(str, base)"}),":","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9047\u5230\u975e\u6570\u5b57\u5b57\u7b26\u7acb\u5373\u505c\u6b62\u8fd0\u884c, \u8fd4\u56de\u5f53\u524d\u8f6c\u5316\u503c."}),"\n",(0,t.jsx)(e.li,{children:"\u5c06 0 \u5f00\u5934\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a\u516b\u8fdb\u5236\u6570, 0x \u5f00\u5934\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a\u5341\u516d\u8fdb\u5236\u6570."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"boolean"}),"\u5728",(0,t.jsx)(e.code,{children:"\u6570\u503c\u8fd0\u7b97"}),"\u73af\u5883\u4e2d true => 1, false => 0."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"\u6570\u7ec4"}),"\u5728",(0,t.jsx)(e.code,{children:"\u6570\u503c\u8fd0\u7b97"}),"\u73af\u5883\u4e2d\u8f6c\u5316\u4e3a 0 (\u7a7a\u6570\u7ec4)/num (\u5355\u4e00\u5143\u7d20\u6570\u7ec4)/NaN (\u591a\u5143\u7d20\u6570\u7ec4/NaN \u6570\u7ec4)."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"\u5bf9\u8c61"}),"\u5728",(0,t.jsx)(e.code,{children:"\u903b\u8f91\u8fd0\u7b97"}),"\u73af\u5883\u4e2d\u8f6c\u5316\u4e3a true , \u5305\u62ec false \u7684\u5c01\u88c5\u5bf9\u8c61."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"\u5bf9\u8c61"}),"\u5728",(0,t.jsx)(e.code,{children:"\u6570\u503c\u8fd0\u7b97"}),"\u73af\u5883\u4e2d\u5148\u5229\u7528 valueOf(object), \u518d\u5229\u7528 toString() \u8f6c\u5316\u4e3a\u6570\u5b57, \u82e5\u8f6c\u5316\u5931\u8d25, \u5219\u8fd4\u56de NaN."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"\u5bf9\u8c61"}),"\u4e0e",(0,t.jsx)(e.code,{children:"\u6570\u503c"}),"\u52a0\u53f7\u8fd0\u7b97: \u5148\u6570\u503c\u52a0, (",(0,t.jsx)(e.strong,{children:"\u5931\u8d25\u540e"}),")\u518d\u5b57\u7b26\u4e32\u52a0."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// good\nconst totalScore = String(this.reviewScore)\n\n// good\nconst val = Number(inputValue)\n\n// good\nconst val = Number.parseInt(inputValue, 10)\n\n// good\nconst hasAge = Boolean(age)\n\n// best\nconst hasAge = !!age\n"})}),"\n",(0,t.jsx)(e.h4,{id:"type-conversion-algorithms",children:"Type Conversion Algorithms"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function ToString(argument) {\n  if (argument === undefined) {\n    return 'undefined'\n  } else if (argument === null) {\n    return 'null'\n  } else if (argument === true) {\n    return 'true'\n  } else if (argument === false) {\n    return 'false'\n  } else if (TypeOf(argument) === 'number') {\n    return Number.toString(argument)\n  } else if (TypeOf(argument) === 'string') {\n    return argument\n  } else if (TypeOf(argument) === 'symbol') {\n    return Symbol.toString(argument)\n  } else if (TypeOf(argument) === 'bigint') {\n    return BigInt.toString(argument)\n  } else {\n    // argument is an object\n    const primValue = ToPrimitive(argument, 'string')\n    return ToString(primValue)\n  }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function ToPropertyKey(argument) {\n  const key = ToPrimitive(argument, 'string') // (A)\n\n  if (TypeOf(key) === 'symbol')\n    return key\n\n  return ToString(key)\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function ToNumeric(value) {\n  const primValue = ToPrimitive(value, 'number')\n\n  if (TypeOf(primValue) === 'bigint')\n    return primValue\n\n  return ToNumber(primValue)\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function ToNumber(argument) {\n  if (argument === undefined) {\n    return Number.NaN\n  } else if (argument === null) {\n    return +0\n  } else if (argument === true) {\n    return 1\n  } else if (argument === false) {\n    return +0\n  } else if (TypeOf(argument) === 'number') {\n    return argument\n  } else if (TypeOf(argument) === 'string') {\n    return parseTheString(argument) // not shown here\n  } else if (TypeOf(argument) === 'symbol') {\n    throw new TypeError('Failed!')\n  } else if (TypeOf(argument) === 'bigint') {\n    throw new TypeError('Failed!')\n  } else {\n    // argument is an object\n    const primValue = ToPrimitive(argument, 'number')\n    return ToNumber(primValue)\n  }\n}\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"ToPrimitive"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[Symbol.toPrimitive]()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"toString()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"valueOf()"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"/**\n * @param input input string\n * @param hint Which type is preferred for the result string, number etc.\n */\nfunction ToPrimitive(\n  input: any,\n  hint: 'string' | 'number' | 'default' = 'default'\n) {\n  if (TypeOf(input) === 'object') {\n    const exoticToPrim = input[Symbol.toPrimitive] // (A)\n\n    if (exoticToPrim !== undefined) {\n      const result = exoticToPrim.call(input, hint)\n\n      if (TypeOf(result) !== 'object')\n        return result\n\n      throw new TypeError('[Symbol.toPrimitive]() failed!')\n    }\n\n    if (hint === 'default')\n      hint = 'number'\n\n    return OrdinaryToPrimitive(input, hint)\n  } else {\n    // input is already primitive\n    return input\n  }\n}\n\nfunction OrdinaryToPrimitive(O: object, hint: 'string' | 'number') {\n  const methodNames\n    = hint === 'string' ? ['toString', 'valueOf'] : ['valueOf', 'toString']\n\n  for (const name of methodNames) {\n    const method = O[name]\n\n    if (IsCallable(method)) {\n      const result = method.call(O)\n\n      if (TypeOf(result) !== 'object')\n        return result\n    }\n  }\n\n  throw new TypeError('Conversion failed!')\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"operators",children:"Operators"}),"\n",(0,t.jsx)(e.h3,{id:"loose-comparison",children:"Loose Comparison"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"=="})," \u4e0e ",(0,t.jsx)(e.code,{children:"!="})," ",(0,t.jsx)(e.a,{href:"https://mp.weixin.qq.com/s/05m6vw__X4P7gwgKcGlhzw",children:"loose comparison"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Type conversion first, then comparison."}),"\n",(0,t.jsxs)(e.li,{children:["Return comparison between ",(0,t.jsx)(e.code,{children:"ToNumber(x)"})," and ",(0,t.jsx)(e.code,{children:"ToPrimitive(y)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"/** Loose equality (==) */\nfunction abstractEqualityComparison(x, y) {\n  if (TypeOf(x) === TypeOf(y)) {\n    // Use strict equality (===)\n    return strictEqualityComparison(x, y)\n  }\n\n  // Comparing null with undefined\n  if (x === null && y === undefined)\n    return true\n\n  if (x === undefined && y === null)\n    return true\n\n  // Comparing a number and a string\n  if (TypeOf(x) === 'number' && TypeOf(y) === 'string')\n    return abstractEqualityComparison(x, Number(y))\n\n  if (TypeOf(x) === 'string' && TypeOf(y) === 'number')\n    return abstractEqualityComparison(Number(x), y)\n\n  // Comparing a bigint and a string\n  if (TypeOf(x) === 'bigint' && TypeOf(y) === 'string') {\n    const n = StringToBigInt(y)\n\n    if (Number.isNaN(n))\n      return false\n\n    return abstractEqualityComparison(x, n)\n  }\n  if (TypeOf(x) === 'string' && TypeOf(y) === 'bigint')\n    return abstractEqualityComparison(y, x)\n\n  // Comparing a boolean with a non-boolean\n  if (TypeOf(x) === 'boolean')\n    return abstractEqualityComparison(Number(x), y)\n\n  if (TypeOf(y) === 'boolean')\n    return abstractEqualityComparison(x, Number(y))\n\n  // Comparing an object with a primitive\n  // (other than undefined, null, a boolean)\n  if (\n    ['string', 'number', 'bigint', 'symbol'].includes(TypeOf(x))\n    && TypeOf(y) === 'object'\n  ) {\n    return abstractEqualityComparison(x, ToPrimitive(y))\n  }\n\n  if (\n    TypeOf(x) === 'object'\n    && ['string', 'number', 'bigint', 'symbol'].includes(TypeOf(y))\n  ) {\n    return abstractEqualityComparison(ToPrimitive(x), y)\n  }\n\n  // Comparing a bigint with a number\n  if (\n    (TypeOf(x) === 'bigint' && TypeOf(y) === 'number')\n    || (TypeOf(x) === 'number' && TypeOf(y) === 'bigint')\n  ) {\n    if (\n      [Number.NaN, +Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY].includes(x)\n      || [Number.NaN, +Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY].includes(y)\n    ) {\n      return false\n    }\n\n    if (isSameMathematicalValue(x, y))\n      return true\n    else\n      return false\n  }\n\n  return false\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"strict-comparison",children:"Strict Comparison"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"==="})," \u4e0e ",(0,t.jsx)(e.code,{children:"!=="}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Strings: same length, same characters in corresponding positions."}),"\n",(0,t.jsx)(e.li,{children:"Numbers: numerically equal."}),"\n",(0,t.jsx)(e.li,{children:"Objects: refer to same Object."}),"\n",(0,t.jsxs)(e.li,{children:["Positive and negative ",(0,t.jsx)(e.code,{children:"0"})," are equal to one another."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"NaN"})," is not equal to anything, including ",(0,t.jsx)(e.code,{children:"NaN"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"null"})," and ",(0,t.jsx)(e.code,{children:"undefined"})," types are not equal with ",(0,t.jsx)(e.code,{children:"==="}),", but equal with ",(0,t.jsx)(e.code,{children:"=="}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const true1 = 0 == false // true\nconst false1 = 0 === false // false\nconst true2 = 1 == '1' // true\nconst false2 = 1 === '1' // false\nconst true3 = undefined == null // true\nconst false3 = undefined === null // false\nconst true4 = '0' == false // true\nconst false4 = '0' === false // false\n// eslint-disable-next-line no-self-compare\nconst false5 = [] == [] // false, refer different objects in memory\n// eslint-disable-next-line no-self-compare\nconst false6 = [] === [] // false, refer different objects in memory\n// eslint-disable-next-line no-self-compare\nconst false7 = {} == {} // false, refer different objects in memory\n// eslint-disable-next-line no-self-compare\nconst false8 = {} === {} // false, refer different objects in memory\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Object.is"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Case 1: Evaluation result is the same as using ===\nObject.is(25, 25) // true\nObject.is('foo', 'foo') // true\nObject.is('foo', 'bar') // false\nObject.is(null, null) // true\nObject.is(undefined, undefined) // true\nObject.is(window, window) // true\nObject.is([], []) // false\nconst foo = { a: 1 }\nconst bar = { a: 1 }\nObject.is(foo, foo) // true\nObject.is(foo, bar) // false: different reference pointers.\n\n// Case 2: Signed zero\nObject.is(0, -0) // false\nObject.is(+0, -0) // false\nObject.is(-0, -0) // true\nObject.is(0n, -0n) // true\n\n// Case 3: NaN\nObject.is(Number.NaN, 0 / 0) // true\nObject.is(Number.NaN, Number.NaN) // true\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"if (!Object.is) {\n  Object.defineProperty(Object, 'is', {\n    value: (x, y) => {\n      // SameValue algorithm\n      if (x === y) {\n        // return true if x and y are not 0, OR\n        // if x and y are both 0 of the same sign.\n        // This checks for cases 1 and 2 above.\n        return x !== 0 || 1 / x === 1 / y\n      } else {\n        // return true if both x AND y evaluate to NaN.\n        // The only possibility for a variable to not be strictly equal to itself\n        // is when that variable evaluates to NaN (example: Number.NaN, 0/0, NaN).\n        // This checks for case 3.\n        // eslint-disable-next-line no-self-compare\n        return x !== x && y !== y\n      }\n    },\n  })\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"conditional-expression",children:"Conditional Expression"}),"\n",(0,t.jsx)(e.p,{children:"\u517b\u6210\u4f7f\u7528\u5206\u53f7\u7ed3\u675f\u53e5\u5b50\u7684\u4e60\u60ef, \u9700\u5206\u884c\u663e\u793a\u7684\u8bed\u53e5\u5fc5\u987b\u786e\u4fdd\u5355\u884c\u4e0d\u4f1a\u5f62\u6210\u5b8c\u6574\u8bed\u4e49:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const i = a ? 1 : b ? 2 : c ? 3 : 4\n"})}),"\n",(0,t.jsx)(e.h3,{id:"add-operator",children:"Add Operator"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"a + b"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5982\u679c\u6709\u4e00\u4e2a\u662f\u5bf9\u8c61, \u5219\u9075\u5faa\u5bf9\u8c61\u5bf9\u539f\u59cb\u503c\u7684\u8f6c\u6362\u8fc7\u7a0b:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Date \u5bf9\u8c61\u76f4\u63a5\u8c03\u7528 toString \u5b8c\u6210\u8f6c\u6362."}),"\n",(0,t.jsx)(e.li,{children:"\u5176\u4ed6\u5bf9\u8c61\u901a\u8fc7 valueOf \u8f6c\u5316,\n\u5982\u679c\u8f6c\u6362\u4e0d\u6210\u529f\u5219\u8c03\u7528 toString."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:"\u5982\u679c\u4e24\u4e2a\u90fd\u662f\u5bf9\u8c61, \u4e24\u4e2a\u5bf9\u8c61\u90fd\u9075\u5faa\u6b65\u9aa4 1 \u8f6c\u6362\u5230\u5b57\u7b26\u4e32."}),"\n",(0,t.jsx)(e.li,{children:"\u4e24\u4e2a\u6570\u5b57, \u8fdb\u884c\u7b97\u6570\u8fd0\u7b97."}),"\n",(0,t.jsx)(e.li,{children:"\u4e24\u4e2a\u5b57\u7b26\u4e32, \u76f4\u63a5\u62fc\u63a5."}),"\n",(0,t.jsx)(e.li,{children:"\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e00\u4e2a\u6570\u5b57, \u76f4\u63a5\u62fc\u63a5\u4e3a\u5b57\u7b26\u4e32."}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"dot-operator",children:"Dot Operator"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"."})," \u4f18\u5148\u7ea7\u9ad8\u4e8e ",(0,t.jsx)(e.code,{children:"="}),":\n",(0,t.jsx)(e.code,{children:"el.data"})," \u4f18\u5148\u6c42\u503c, \u5f15\u7528 ",(0,t.jsx)(e.code,{children:"old"}),", \u6307\u5411 ",(0,t.jsx)(e.code,{children:"old.data"}),".\n",(0,t.jsx)(e.code,{children:"5"})," => ",(0,t.jsx)(e.code,{children:"el"}),", ",(0,t.jsx)(e.code,{children:"5"})," => ",(0,t.jsx)(e.code,{children:"el.data"})," (",(0,t.jsx)(e.code,{children:"old.data"}),")."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"let el = { data: 1 }\nconst old = el\n\nel.data = el = 5\nconsole.log(el) // 5\nconsole.log(el.data) // undefined\nconsole.log(old) // { data: 5 }\nconsole.log(old.data) // 5\n"})}),"\n",(0,t.jsx)(e.h3,{id:"logical-operator",children:"Logical Operator"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Optional Chaining Operator ",(0,t.jsx)(e.code,{children:"?."}),":\nLegible property chains that don't throw an error\nif a requested reference is missing."]}),"\n",(0,t.jsxs)(e.li,{children:["Nullish coalescing operator ",(0,t.jsx)(e.code,{children:"??"}),":\nBinary operator.\nIf the value of left side expression is ",(0,t.jsx)(e.code,{children:"null"})," or ",(0,t.jsx)(e.code,{children:"undefined"}),",\nright side of the operator is evaluated."]}),"\n",(0,t.jsxs)(e.li,{children:["Logical assignment operators: ",(0,t.jsx)(e.code,{children:"&&="}),", ",(0,t.jsx)(e.code,{children:"||="}),", ",(0,t.jsx)(e.code,{children:"??="}),"."]}),"\n"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Assignment Operator"}),(0,t.jsx)(e.th,{children:"Equivalent To"}),(0,t.jsxs)(e.th,{children:["Only Assigns When ",(0,t.jsx)(e.code,{children:"a"})]})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"a ||= b"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"a || (a = b)"})}),(0,t.jsx)(e.td,{children:"Falsy"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"a &&= b"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"a && (a = b)"})}),(0,t.jsx)(e.td,{children:"Truthy"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"a ??= b"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"a ?? (a = b)"})}),(0,t.jsx)(e.td,{children:"Nullish"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"delete-operator",children:"Delete Operator"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"delete"})," operator returns a boolean value:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"true"})," on a successful deletion."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"false"})," on a failed deletion:\n",(0,t.jsx)(e.code,{children:"var"}),"/",(0,t.jsx)(e.code,{children:"let"}),"/",(0,t.jsx)(e.code,{children:"const"})," variables cannot be deleted using ",(0,t.jsx)(e.code,{children:"delete"})," operator."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const name = 'Lydia'\nage = 21\n\n// eslint-disable-next-line no-delete-var\nconsole.log(delete name) // false\n// eslint-disable-next-line no-delete-var\nconsole.log(delete age) // true\n"})}),"\n",(0,t.jsx)(e.h3,{id:"operator-reference",children:"Operator Reference"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.joshwcomeau.com/operator-lookup",children:"Operator Lookup"})}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"destructuring-pattern-matching",children:"Destructuring Pattern Matching"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u5efa\u8bae\u53ea\u8981\u6709\u53ef\u80fd, \u5c31\u4e0d\u8981\u5728\u6a21\u5f0f\u4e2d\u653e\u7f6e\u5706\u62ec\u53f7"}),"."]}),"\n",(0,t.jsx)(e.li,{children:"\u8d4b\u503c\u8bed\u53e5\u7684\u975e\u6a21\u5f0f\u90e8\u5206, \u53ef\u4ee5\u4f7f\u7528\u5706\u62ec\u53f7."}),"\n",(0,t.jsxs)(e.li,{children:["Every time access value via ",(0,t.jsx)(e.code,{children:"."}),":\nstop and think whether use destructuring instead."]}),"\n",(0,t.jsx)(e.li,{children:"Destructure as early as possible."}),"\n",(0,t.jsx)(e.li,{children:"Remember to include default values, especially in nested destructuring."}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"destructuring-default-value",children:"Destructuring Default Value"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"ES6 \u5185\u90e8\u4f7f\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26 (===), \u5224\u65ad\u4e00\u4e2a\u4f4d\u7f6e\u662f\u5426\u6709\u503c. \u82e5\u6b64\u4f4d\u7f6e\u65e0\u503c, \u5219\u4f7f\u7528\u9ed8\u8ba4\u503c."}),"\n",(0,t.jsx)(e.li,{children:"\u5982\u679c\u4e00\u4e2a\u6570\u7ec4\u6210\u5458\u4e0d\u4e25\u683c\u7b49\u4e8e undefined, \u9ed8\u8ba4\u503c\u4e0d\u4f1a\u751f\u6548."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const [x = 1] = [undefined]\nconsole.log(x) // 1\n\nconst [x = 1] = [null]\nconsole.log(x) // null\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"let [x = 1, y = x] = [] // x=1; y=1\nlet [x = 1, y = x] = [2] // x=2; y=2\nlet [x = 1, y = x] = [1, 2] // x=1; y=2\nlet [x = y, y = 1] = [] // ReferenceError\n"})}),"\n",(0,t.jsx)(e.h3,{id:"object-destructuring",children:"Object Destructuring"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u89e3\u6784\u8d4b\u503c\u7684\u89c4\u5219: \u53ea\u8981\u7b49\u53f7\u53f3\u8fb9\u7684\u503c\u4e0d\u662f\u5bf9\u8c61, \u5c31\u5148\u5c06\u5176",(0,t.jsx)(e.strong,{children:"\u8f6c\u4e3a\u5bf9\u8c61"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"undefined"}),"/",(0,t.jsx)(e.code,{children:"null"})," \u65e0\u6cd5\u8f6c\u5316\u4e3a\u5bf9\u8c61:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const { prop: x } = undefined // TypeError\nconst { prop: y } = null // TypeError\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const { bar, foo } = { foo: 'aaa', bar: 'bbb' }\nconsole.log(foo) // \"aaa\"\nconsole.log(bar) // \"bbb\"\n\nconst { baz } = { foo: 'aaa', bar: 'bbb' }\nconsole.log(baz) // undefined\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u771f\u6b63\u88ab\u8d4b\u503c\u7684\u662f\u540e\u8005, \u800c\u4e0d\u662f\u524d\u8005:"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const { foo: baz } = { foo: 'aaa', bar: 'bbb' }\nconsole.log(baz) // \"aaa\"\n\nconst { first: f, last: l } = { first: 'hello', last: 'world' }\nconsole.log(f) // 'hello'\nconsole.log(l) // 'world'\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Left-hand side of a normal assignment:"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = {}\n;[first, ...obj.prop] = ['a', 'b', 'c']\n// first = 'a'; obj.prop = ['b', 'c']\n\nconst arr = []\n;({ bar: arr[0] } = { bar: true })\nconsole.log(arr) // [true]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"json-object-destructuring",children:"JSON Object Destructuring"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const jsonData = {\n  id: 42,\n  status: 'OK',\n  data: [867, 5309],\n}\n\nconst { id, status, data: number } = jsonData\n\nconsole.log(id, status, number)\n// 42, \"OK\", [867, 5309]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"import-destructuring",children:"Import Destructuring"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const { SourceMapConsumer, SourceNode } = require('source-map')\n"})}),"\n",(0,t.jsx)(e.h4,{id:"number-and-boolean-destructuring",children:"Number and Boolean Destructuring"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"number"}),"/",(0,t.jsx)(e.code,{children:"boolean"})," \u4f1a\u81ea\u52a8\u6784\u9020\u539f\u59cb\u503c\u5305\u88c5\u5bf9\u8c61:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"let { toString: s } = 123\nconst truthy = s === Number.prototype.toString // true\n\nlet { toString: s } = true\nconst truthy = s === Boolean.prototype.toString // true\n"})}),"\n",(0,t.jsx)(e.h3,{id:"iterator-destructuring",children:"Iterator Destructuring"}),"\n",(0,t.jsx)(e.p,{children:"\u7b49\u53f7\u53f3\u8fb9\u5fc5\u987b\u4e3a\u6570\u7ec4\u7b49\u5b9e\u73b0\u4e86 Iterator \u63a5\u53e3\u7684\u5bf9\u8c61, \u5426\u5219\u62a5\u9519:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Array."}),"\n",(0,t.jsx)(e.li,{children:"Set."}),"\n",(0,t.jsx)(e.li,{children:"Generator function."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const [foo, [[bar], baz]] = [1, [[2], 3]]\nconsole.log(foo) // 1\nconsole.log(bar) // 2\nconsole.log(baz) // 3\n\nconst [, , third] = ['foo', 'bar', 'baz']\nconsole.log(third) // \"baz\"\n\nconst [x, , y] = [1, 2, 3]\nconsole.log(x) // 1\nconsole.log(y) // 3\n\nconst [head, ...tail] = [1, 2, 3, 4]\nconsole.log(head) // 1\nconsole.log(tail) // [2, 3, 4]\n\nconst [x, y, ...z] = ['a']\nconsole.log(x) // \"a\"\nconsole.log(y) // undefined\nconsole.log(z) // []\n\n// Generator \u51fd\u6570\nfunction* fibs() {\n  let a = 0\n  let b = 1\n\n  while (true) {\n    yield a\n    ;[a, b] = [b, a + b]\n  }\n}\n\nconst [first, second, third, fourth, fifth, sixth] = fibs()\nconsole.log(sixth) // 5\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Left-hand side of a normal assignment:"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"let x = 1\nlet y = 2\n;[x, y] = [y, x]\n"})}),"\n",(0,t.jsx)(e.h4,{id:"map-and-list-destructuring",children:"Map and List Destructuring"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"for index in Iterable<T>"}),": key."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"for [key, value] of Iterable<T>"}),": entry."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const map = new Map()\nmap.set('first', 'hello')\nmap.set('second', 'world')\n\nfor (const [key, value] of map)\n  console.log(`${key} is ${value}`)\n\n// first is hello\n// second is world\n\n// \u83b7\u53d6\u952e\u540d\nfor (const [key] of map) {\n  // ...\n}\n\n// \u83b7\u53d6\u952e\u503c\nfor (const [, value] of map) {\n  // ...\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"string-destructuring",children:"String Destructuring"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'const [a, b, c, d, e] = \'hello\'\nconsole.log(a) // "h"\nconsole.log(b) // "e"\nconsole.log(c) // "l"\nconsole.log(d) // "l"\nconsole.log(e) // "o"\n\nconst { length: len } = \'hello\'\nconsole.log(len) // 5\n'})}),"\n",(0,t.jsx)(e.h3,{id:"function-parameters-destructuring",children:"Function Parameters Destructuring"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u53ef\u7528\u4e8e\u5de5\u5382 (",(0,t.jsx)(e.code,{children:"factory"}),") / \u8bbe\u7f6e (",(0,t.jsx)(e.code,{children:"options"}),") \u6a21\u5f0f\u4f20\u53c2\u4e00\u822c\u4e3a ",(0,t.jsx)(e.code,{children:"options"})," \u5bf9\u8c61,"]}),"\n",(0,t.jsx)(e.li,{children:"\u5177\u6709\u56fa\u5b9a\u7684\u5c5e\u6027\u540d."}),"\n",(0,t.jsx)(e.li,{children:"\u4e00\u6b21\u6027\u5b9a\u4e49\u591a\u4e2a\u53c2\u6570."}),"\n",(0,t.jsx)(e.li,{children:"\u4e00\u6b21\u6027\u5b9a\u4e49\u591a\u4e2a\u53c2\u6570\u7684\u9ed8\u8ba4\u503c."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u53c2\u6570\u662f\u4e00\u7ec4\u6709\u6b21\u5e8f\u7684\u503c\nfunction f1([x, y, z]) {}\nf1([1, 2, 3])\n\n// \u53c2\u6570\u662f\u4e00\u7ec4\u65e0\u6b21\u5e8f\u7684\u503c\nfunction f2({ x, y, z }) {}\nf2({ z: 3, y: 2, x: 1 })\n\n// \u53ef\u7701\u7565 const foo = config.foo || 'default foo';\njQuery.ajax = function (\n  url,\n  {\n    async = true,\n    beforeSend = function () {},\n    cache = true,\n    complete = function () {},\n    crossDomain = false,\n    global = true,\n    // ... more config\n  }\n) {\n  // ... do stuff\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"function-return-value-destructuring",children:"Function Return Value Destructuring"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd4\u56de\u591a\u4e2a\u503c:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\nfunction example1() {\n  return [1, 2, 3]\n}\n\nconst [a, b, c] = example1()\n\n// \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\nfunction example2() {\n  return {\n    foo: 1,\n    bar: 2,\n  }\n}\n\nconst { foo, bar } = example2()\n"})}),"\n",(0,t.jsx)(e.h2,{id:"control-flow",children:"Control Flow"}),"\n",(0,t.jsx)(e.h3,{id:"switch-case-statement",children:"Switch Case Statement"}),"\n",(0,t.jsxs)(e.p,{children:["\u7528 ",(0,t.jsx)(e.code,{children:"Strategy Pattern"})," \u4ee3\u66ff ",(0,t.jsx)(e.code,{children:"switch"}),"/",(0,t.jsx)(e.code,{children:"case"})," \u8bed\u53e5:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function doAction(action) {\n  const actions = {\n    hack() {\n      return 'hack'\n    },\n\n    slash() {\n      return 'slash'\n    },\n\n    run() {\n      return 'run'\n    },\n  }\n\n  if (typeof actions[action] !== 'function')\n    throw new TypeError('Invalid action.')\n\n  // \u95ed\u5305\u65b9\u6cd5\u96c6\n  return actions[action]()\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"object",children:"Object"}),"\n",(0,t.jsx)(e.h3,{id:"oop-features",children:"OOP Features"}),"\n",(0,t.jsx)(e.p,{children:"\u5171\u7528\u65b9\u6cd5, \u5355\u72ec\u5c5e\u6027, \u5c01\u88c5\u7ec6\u8282:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u539f\u578b\u4ee3\u7406 (\u4eab\u5143\u6a21\u5f0f): \u5229\u7528\u4eab\u5143\u6a21\u5f0f\u5171\u4eab\u516c\u6709\u5c5e\u6027\u4e0e\u901a\u7528\u65b9\u6cd5."}),"\n",(0,t.jsx)(e.li,{children:"\u5b9e\u4f8b\u72b6\u6001 (\u539f\u578b\u514b\u9686): \u5229\u7528\u539f\u578b\u514b\u9686\u62e5\u6709\u5404\u81ea\u5c5e\u6027\u503c."}),"\n",(0,t.jsx)(e.li,{children:"\u5c01\u88c5\u6027 (\u95ed\u5305\u5f0f\u7ee7\u627f): \u5229\u7528\u95ed\u5305\u65b9\u6cd5\u5b9e\u73b0\u5c5e\u6027\u79c1\u6709\u5316."}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"prototype-chain",children:"Prototype Chain"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"\u539f\u578b\u94fe",src:r(4031).A+"",title:"\u539f\u578b\u94fe",width:"520",height:"586"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5b9e\u4f8b\u5316\u5bf9\u8c61\u4ec5\u6709\u5c5e\u6027",(0,t.jsx)(e.code,{children:"__proto__"}),", \u6ca1\u6709\u5c5e\u6027",(0,t.jsx)(e.code,{children:"prototype"}),", \u51fd\u6570\u624d\u5177\u6709\u5c5e\u6027 ",(0,t.jsx)(e.code,{children:"prototype"})," (\u6307\u5411\u5f15\u64ce\u4e3a\u5176\u81ea\u52a8\u521b\u5efa\u7684\u539f\u578b\u5bf9\u8c61):\n",(0,t.jsx)(e.code,{children:"Instance.__proto__ === Constructor.prototype"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u6240\u6709\u5f15\u7528\u7c7b\u578b (\u5305\u62ec\u5bf9\u8c61/\u6570\u7ec4/\u51fd\u6570/\u6784\u9020\u51fd\u6570) \u90fd\u6709\u5c5e\u6027",(0,t.jsx)(e.code,{children:"__proto__"}),"(\u9690\u5f0f\u539f\u578b)."]}),"\n",(0,t.jsxs)(e.li,{children:["\u6240\u6709\u51fd\u6570/\u6784\u9020\u51fd\u6570\u7684 ",(0,t.jsx)(e.code,{children:"__proto__"})," \u90fd\u6307\u5411 ",(0,t.jsx)(e.code,{children:"Function.prototype"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u9664",(0,t.jsx)(e.code,{children:"Object.prototype.__proto__"}),"\u6307\u5411 null \u5916, \u5176\u4f59\u51fd\u6570/\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u7684",(0,t.jsx)(e.code,{children:"__proto__"})," \u90fd\u6307\u5411 ",(0,t.jsx)(e.code,{children:"Object.prototype"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u9664",(0,t.jsx)(e.code,{children:"Object.create()"}),"\u5916, \u6240\u65b0\u5efa\u5bf9\u8c61\u7684 ",(0,t.jsx)(e.code,{children:"__proto__"})," \u6307\u5411\u6784\u9020\u8be5\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u7684",(0,t.jsx)(e.code,{children:"\u539f\u578b\u5bf9\u8c61(prototype)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u9664",(0,t.jsx)(e.code,{children:"typeof Function.prototype"})," \u4e3a 'function' \u5916, \u5176\u4f59\u51fd\u6570/\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u90fd\u4e3a '\u5bf9\u8c61'(",(0,t.jsx)(e.code,{children:"typeof"})," \u4e3a 'object')."]}),"\n",(0,t.jsxs)(e.li,{children:["\u5148\u6709",(0,t.jsx)(e.code,{children:"Object.prototype"}),"(\u539f\u578b\u94fe\u9876\u7aef),\n",(0,t.jsx)(e.code,{children:"Function.prototype"})," \u7ee7\u627f",(0,t.jsx)(e.code,{children:"Object.prototype"}),"\u800c\u4ea7\u751f,\n\u6700\u540e",(0,t.jsx)(e.code,{children:"Object/Function/Array/\u5176\u5b83\u6784\u9020\u51fd\u6570"}),"\u7ee7\u627f",(0,t.jsx)(e.code,{children:"Function.prototype"}),"\u800c\u4ea7\u751f."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// True because of `Object` is `function Object()` and inherited from `Function.prototype`\n// Object has its own `prototype` property refer to `Object.prototype`\nconst truthy = Object[[proto]] === Function.prototype\n\n// True because of `Array` is `function Array()` and inherited from `Function.prototype`\n// Array has its own `prototype` property refer to `Array.prototype`\nconst truthy = Array[[proto]] === Function.prototype\n\n// True because of Function is `function Function()` and inherited from `Function.prototype`\n// Function has its own `prototype` property refer to `Function.prototype`\nconst truthy = Function[[proto]] === Function.prototype\n\n// True because of Object.prototype is the top of inheritance chains (null is Object.prototype.__proto__)\n// all `object/function/array instance`.__proto__......__proto__ refer to Object.prototype\nconst truthy = Function[[proto]][[proto]] === Object.prototype\n\n// True:\nconst truthy = Object instanceof Function\nconst truthy = Function instanceof Object\n"})}),"\n",(0,t.jsx)(e.admonition,{title:"Prototype Chain",type:"tip",children:(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.__proto__"})," -> ",(0,t.jsx)(e.code,{children:"Function.prototype"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Function.prototype.__proto__"})," -> ",(0,t.jsx)(e.code,{children:"Object.prototype"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.prototype.__proto__"})," -> ",(0,t.jsx)(e.code,{children:"null"}),"."]}),"\n"]})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"__proto__"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[[proto]]"})," getter is ",(0,t.jsx)(e.code,{children:"Object.getPrototypeOf(object)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"[[proto]]"})," setter is ",(0,t.jsx)(e.code,{children:"Object.setPrototypeOf(object, prototype)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Foo(value) {\n  this.val = value\n}\n\n// Auto create FooPrototype\n// Foo.prototype -> FooPrototype\n// FooPrototype.constructor -> [function Foo]\n// foo.__proto__ -> FooPrototype\nconst foo = new Foo(2)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Person() {}\nconst person1 = new Person()\nconst person2 = new Person()\n\nconsole.log(person1 !== Person) // true\nconsole.log(person1 !== Person.prototype) // true\nconsole.log(Person.prototype !== Person) // true\n\n// eslint-disable-next-line no-proto, no-restricted-properties\nconsole.log(person1.__proto__ === Person.prototype) // true\n// eslint-disable-next-line no-proto, no-restricted-properties\nconsole.log(person1.__proto__.constructor === Person) // true\n// eslint-disable-next-line no-proto, no-restricted-properties\nconsole.log(person1.__proto__ === person2.__proto__) // true\n\n// eslint-disable-next-line no-prototype-builtins\nconsole.log(Person.prototype.isPrototypeOf(person1)) // true\n// eslint-disable-next-line no-prototype-builtins\nconsole.log(Person.prototype.isPrototypeOf(person2)) // true\nconsole.log(Object.getPrototypeOf(person1) === Person.prototype) // true\n\nconsole.log(person1 instanceof Person) // true\nconsole.log(person1 instanceof Object) // true\nconsole.log(Person.prototype instanceof Object) // true\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0b\u9762\u4e94\u79cd\u64cd\u4f5c (\u65b9\u6cd5/\u5c5e\u6027/\u8fd0\u7b97\u7b26) \u53ef\u4ee5\u89e6\u53d1 JS \u5f15\u64ce\u8bfb\u53d6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b,\n\u53ef\u4ee5\u89e6\u53d1 ",(0,t.jsx)(e.code,{children:"getPrototypeOf()"})," \u4ee3\u7406\u65b9\u6cd5\u7684\u8fd0\u884c:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = {}\nconst p = new Proxy(obj, {\n  getPrototypeOf(target) {\n    return Array.prototype\n  },\n})\n\nconsole.log(\n  Object.getPrototypeOf(p) === Array.prototype, // true\n  Reflect.getPrototypeOf(p) === Array.prototype, // true\n  // eslint-disable-next-line no-prototype-builtins\n  Array.prototype.isPrototypeOf(p), // true\n  // eslint-disable-next-line no-proto, no-restricted-properties\n  p.__proto__ === Array.prototype, // true\n  // eslint-disable-next-line unicorn/no-instanceof-array\n  p instanceof Array // true\n)\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Set the inherited property will ",(0,t.jsx)(e.strong,{children:"create own property"}),"\n(",(0,t.jsx)(e.strong,{children:"overrides"})," value of inherited property):"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const proto = {\n  protoProp: 'a',\n}\n\nconst obj = {\n  __proto__: proto,\n  objProp: 'b',\n}\n\n// In the beginning, obj has one own property:\nassert.deepEqual(Object.keys(obj), ['objProp'])\n\nobj.protoProp = 'x'\n\n// Created a new own property:\nassert.deepEqual(Object.keys(obj), ['objProp', 'protoProp'])\n\n// The inherited property itself is unchanged:\nassert.equal(proto.protoProp, 'a')\n\n// The own property overrides the inherited property:\nassert.equal(obj.protoProp, 'x')\n"})}),"\n",(0,t.jsx)(e.h3,{id:"object-conversion",children:"Object Conversion"}),"\n",(0,t.jsx)(e.p,{children:"\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u76f4\u63a5\u8f6c\u6362\u4e3a true (\u5305\u88c5\u7c7b\u578b\u4e5f\u4e00\u6837), \u4e0d\u8c03\u7528 valueOf \u548c toString."}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5bf9\u8c61\u8f6c\u6362\u4e3a\u6570\u5b57:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5982\u679c\u5bf9\u8c61\u5177\u6709 valueOf \u65b9\u6cd5 (\u8fd4\u56de\u539f\u59cb\u503c),\n\u5219\u5c06\u8be5\u539f\u59cb\u503c\u8f6c\u6362\u4e3a\u6570\u5b57 (\u8f6c\u6362\u5931\u8d25\u4f1a\u8fd4\u56de NaN), \u5e76\u8fd4\u56de\u8fd9\u4e2a\u6570\u5b57."}),"\n",(0,t.jsx)(e.li,{children:"\u5982\u679c\u5bf9\u8c61\u5177\u6709 toString \u65b9\u6cd5 (\u8fd4\u56de\u539f\u59cb\u503c),\n\u5219\u5c06\u8be5\u539f\u59cb\u503c\u8f6c\u6362\u4e3a\u6570\u5b57 (\u8f6c\u6362\u5931\u8d25\u4f1a\u8fd4\u56de NaN), \u5e76\u8fd4\u56de\u8fd9\u4e2a\u6570\u5b57."}),"\n",(0,t.jsxs)(e.li,{children:["\u8f6c\u6362\u5931\u8d25, \u629b\u51fa ",(0,t.jsx)(e.code,{children:"TypeError"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5982\u679c\u5bf9\u8c61\u5177\u6709 toString \u65b9\u6cd5 (\u8fd4\u56de\u539f\u59cb\u503c),\n\u5219\u5c06\u8be5\u539f\u59cb\u503c\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32, \u5e76\u8fd4\u56de\u8be5\u5b57\u7b26\u4e32."}),"\n",(0,t.jsx)(e.li,{children:"\u5982\u679c\u5bf9\u8c61\u5177\u6709 valueOf \u65b9\u6cd5 (\u8fd4\u56de\u539f\u59cb\u503c),\n\u5219\u5c06\u8be5\u539f\u59cb\u503c\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32, \u5e76\u8fd4\u56de\u8be5\u5b57\u7b26\u4e32."}),"\n",(0,t.jsxs)(e.li,{children:["\u8f6c\u6362\u5931\u8d25, \u629b\u51fa ",(0,t.jsx)(e.code,{children:"TypeError"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"x"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.code,{children:"Object(x)"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"{}"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"null"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"{}"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"boolean"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"new Boolean(x)"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"number"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"new Number(x)"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"bigint"})}),(0,t.jsxs)(e.td,{children:["An instance of BigInt (",(0,t.jsx)(e.code,{children:"new"})," throws ",(0,t.jsx)(e.code,{children:"TypeError"}),")"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"string"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"new String(x)"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"symbol"})}),(0,t.jsxs)(e.td,{children:["An instance of Symbol (",(0,t.jsx)(e.code,{children:"new"})," throws ",(0,t.jsx)(e.code,{children:"TypeError"}),")"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"object"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"x"})})]})]})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u4fdd\u5b58\u539f\u59cb\u7684valueOf\nconst valueOf = Object.prototype.valueOf\nconst toString = Object.prototype.toString\n\n// \u6dfb\u52a0valueOf\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.valueOf = function () {\n  console.log('valueOf')\n  return valueOf.call(this)\n}\n// \u6dfb\u52a0toString\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.toString = function () {\n  console.log('toString')\n  return toString.call(this)\n}\nconst a = {}\n// eslint-disable-next-line no-new-wrappers, unicorn/new-for-builtins\nconst b = new Boolean(false)\n\nif (a)\n  console.log(1)\n\nif (b)\n  console.log(2)\n\n// output:\n// 1\n// 2\n// \u672a\u8c03\u7528valueOf\u548ctoString, \u7b26\u5408 [\u5bf9\u8c61\u5230\u5e03\u5c14\u503c] \u7684\u8f6c\u6362\u89c4\u5219\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u4fdd\u5b58\u539f\u59cb\u7684valueOf\nconst valueOf = Object.prototype.valueOf\nconst toString = Object.prototype.toString\n\n// \u6dfb\u52a0valueOf\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.valueOf = function () {\n  console.log('valueOf')\n  return valueOf.call(this)\n}\n// \u6dfb\u52a0toString\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.toString = function () {\n  console.log('toString')\n  return toString.call(this)\n}\n\nlet a = {}\nconsole.log(++a)\n\n// output:\n// valueOf\n// toString\n// NaN\n// 1. valueOf\u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\u672c\u8eab, \u4e0d\u662f\u539f\u59cb\u503c, \u7ee7\u7eed\u6267\u884c\n// 2. toString\u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u201d[object Object]\u201d, \u662f\u539f\u59cb\u503c(\u5b57\u7b26\u4e32), \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6570\u5b57NaN\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u4fdd\u5b58\u539f\u59cb\u7684valueOf\nconst valueOf = Object.prototype.valueOf\nconst toString = Object.prototype.toString\n\n// \u6dfb\u52a0valueOf\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.valueOf = function () {\n  console.log('valueOf')\n  return '1' // \u5f3a\u5236\u8fd4\u56de\u539f\u59cb\u503c\n}\n// \u6dfb\u52a0toString\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.toString = function () {\n  console.log('toString')\n  return toString.call(this)\n}\n\nlet a = {}\nconsole.log(++a)\n\n// output:\n// valueOf\n// 2\n// valueOf \u8fd4\u56de\u539f\u59cb\u503c(\u5b57\u7b26\u4e32), \u76f4\u63a5\u5c06\u8be5\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6570\u5b57, \u5f97\u5230 1\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u4fdd\u5b58\u539f\u59cb\u7684valueOf\nconst valueOf = Object.prototype.valueOf\nconst toString = Object.prototype.toString\n\n// \u6dfb\u52a0valueOf\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.valueOf = function () {\n  console.log('valueOf')\n  return valueOf.call(this)\n}\n// \u6dfb\u52a0toString\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.toString = function () {\n  console.log('toString')\n  return toString.call(this)\n}\n\nconst a = {}\nalert(a)\n\n// output:\n// toString\n// \u5f39\u51fa \"[object Object]\"\n// \u8c03\u7528toString\u65b9\u6cd5, \u8fd4\u56de\u4e86\u5b57\u7b26\u4e32\u201d[object Object]\u201d, \u5bf9\u8c61\u6700\u7ec8\u8f6c\u6362\u4e3a\u8be5\u5b57\u7b26\u4e32\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u4fdd\u5b58\u539f\u59cb\u7684valueOf\nconst valueOf = Object.prototype.valueOf\nconst toString = Object.prototype.toString\n\n// \u6dfb\u52a0valueOf\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.valueOf = function () {\n  console.log('valueOf')\n  return valueOf.call(this)\n}\n// \u6dfb\u52a0toString\u65e5\u5fd7\n// eslint-disable-next-line no-extend-native\nObject.prototype.toString = function () {\n  console.log('toString')\n  return this\n}\n\nconst a = {}\nalert(a)\n\n// output:\n// toString\n// valueOf\n// Uncaught TypeError: Cannot convert object to primitive value\n// \u8c03\u7528toString\u65b9\u6cd5, \u8fd4\u56de\u7684\u4e0d\u662f primitive value, \u7ee7\u7eed\u6267\u884c\n// \u8c03\u7528valueOf\u65b9\u6cd5, \u8fd4\u56de\u7684\u4e0d\u662f primitive value, \u7ee7\u7eed\u6267\u884c\n// \u629b\u51fa TypeError\n"})}),"\n",(0,t.jsx)(e.h3,{id:"object-constructor",children:"Object Constructor"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9996\u5b57\u6bcd\u5927\u5199."}),"\n",(0,t.jsxs)(e.li,{children:["\u6240\u6709\u51fd\u6570 (\u5305\u62ec\u6784\u9020\u51fd\u6570) \u6709 ",(0,t.jsx)(e.code,{children:"prototype"})," \u5c5e\u6027."]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"object-literal-creation",children:"Object Literal Creation"}),"\n",(0,t.jsxs)(e.p,{children:["\u5bf9\u8c61\u5b57\u9762\u91cf\u7531 ",(0,t.jsx)(e.code,{children:"Object"})," \u6784\u9020\u51fd\u6570\u9690\u5f0f\u6784\u9020;"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = {\n  name: 'sabertazimi',\n}\n\nconsole.log(obj[[proto]] === Object.prototype) // true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"object-new-constructor",children:"Object New Constructor"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"new"})," \u6784\u9020\u51fd\u6570\u4f5c\u7528\u539f\u7406\u5982\u4e0b:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5f62\u6210\u539f\u578b\u94fe: \u9690\u5f0f\u539f\u578b\u6307\u5411\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61 ",(0,t.jsx)(e.code,{children:"obj.__proto__ = constructor.prototype"})]}),"\n",(0,t.jsxs)(e.li,{children:["\u6784\u9020\u51fd\u6570\u5bf9\u8c61 (Constructor) \u4e0e\u539f\u578b\u5bf9\u8c61 (Prototype) \u4e4b\u95f4\u5f62\u6210\u95ed\u73af:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Constructor.prototype = Prototype"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Prototype.constructor = Constructor"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function newInstance(constructor, ...args) {\n  // var this = Object.create(Person.prototype);\n  // this.__proto__ = F.prototype\n  // F.prototype = Person.prototype\n  // \u5373 this.__proto__ = Person.prototype;\n  const obj = {}\n  obj[[proto]] = constructor.prototype\n  constructor.apply(obj, args)\n  return obj\n}\n\n// =>\nconst instance = new Constructor(arguments)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Employee(name) {\n  this.name = name\n  this.getName = function () {\n    return this.name\n  }\n}\n\nconst employee = newInstance(Employee, 'Jack')\n// =>\nconst employee = new Employee('Jack')\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"new.target"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Foo() {\n  if (!new.target)\n    throw new Error('Foo() must be called with new')\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Waffle() {\n  // \u5f53\u672a\u4f7f\u7528 `new` \u5173\u952e\u5b57\u65f6, `this` \u6307\u5411\u5168\u5c40\u5bf9\u8c61\n  if (!(this instanceof Waffle))\n    return new Waffle()\n\n  // \u6b63\u5e38\u6784\u9020\u51fd\u6570\n  this.tastes = 'yummy'\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"object-create-constructor",children:"Object Create Constructor"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u539f\u578b\u5f0f\u7ee7\u627f\u975e\u5e38\u9002\u5408\u4e0d\u9700\u8981\u5355\u72ec\u521b\u5efa\u6784\u9020\u51fd\u6570, \u4f46\u4ecd\u7136\u9700\u8981\u5728\u5bf9\u8c61\u95f4\u5171\u4eab\u4fe1\u606f\u7684\u573a\u5408."}),"\n",(0,t.jsx)(e.li,{children:"\u5c5e\u6027\u4e2d\u5305\u542b\u7684\u5f15\u7528\u503c\u59cb\u7ec8\u4f1a\u5728\u76f8\u5173\u5bf9\u8c61\u95f4\u5171\u4eab."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"Object.create = function (o) {\n  if (arguments.length > 1) {\n    throw new Error(\n      'Object.create implementation only accepts the first parameter.'\n    )\n  }\n\n  function F() {}\n  F.prototype = o\n  return new F()\n}\n// 1. `F.prototype === o`.\n// 2. `new F()` lead to `f.__proto__ === F.prototype`.\n// Finally: `f.__proto__ === o`.\n"})}),"\n",(0,t.jsx)(e.h4,{id:"constructor-return-value",children:"Constructor Return Value"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u8fd4\u56de ",(0,t.jsx)(e.code,{children:"this"})," \u6216 user-defined literal object."]}),"\n",(0,t.jsxs)(e.li,{children:["\u5f53\u8fd4\u56de\u503c\u4e3a",(0,t.jsx)(e.strong,{children:"\u57fa\u672c\u7c7b\u578b"}),"\u65f6, \u4ecd\u7136\u53ef\u5f97\u5230 ",(0,t.jsx)(e.code,{children:"this"})," \u6307\u9488\u6307\u5411\u7684\u539f\u6709\u5bf9\u8c61."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const ObjectMaker = function () {\n  this.name = 'This is it'\n  // user-defined literal object\n  // \u76f4\u63a5\u5ffd\u7565 this.name.\n  const that = {}\n  that.name = 'And that\\'s that'\n  return that\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const MyClass = function () {\n  this.name = 'sven'\n  return 'anne' // \u8fd4\u56de string.\n}\nconst obj = new MyClass()\nconsole.log(obj.name) // \u8f93\u51fa: sven .\n"})}),"\n",(0,t.jsx)(e.h4,{id:"constructor-instance-detection",children:"Constructor Instance Detection"}),"\n",(0,t.jsxs)(e.p,{children:["\u82e5\u5728\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe (",(0,t.jsx)(e.code,{children:"__proto__"}),") \u4e2d\u80fd\u627e\u5230\u6784\u9020\u51fd\u6570\u7684 ",(0,t.jsx)(e.code,{children:"prototype"})," \u5c5e\u6027 (Prototype \u5bf9\u8c61),\n\u5219\u8fd4\u56de",(0,t.jsx)(e.code,{children:"true"}),", \u5426\u5219\u8fd4\u56de",(0,t.jsx)(e.code,{children:"false"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// true only if\n// 1. Foo.__proto__ === Bar.prototype\n// 2. Foo.__proto__......__proto__ === Bar.prototype\nconsole.log(Foo instanceof Bar)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"object-property-descriptor",children:"Object Property Descriptor"}),"\n",(0,t.jsx)(e.h4,{id:"property-descriptor-definition",children:"Property Descriptor Definition"}),"\n",(0,t.jsx)(e.p,{children:"\u5bf9\u8c61\u7684\u5c5e\u6027\u63cf\u8ff0\u7b26:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.defineProperty(O, Prop, descriptor)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.defineProperties(O, descriptors)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u6570\u636e\u63cf\u8ff0\u7b26:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"value"}),": \u5c5e\u6027\u503c, \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"writable"}),": \u662f\u5426\u662f\u53ea\u8bfb property, \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"false"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"enumerable"}),": \u662f\u5426\u53ef\u4ee5\u88ab\u679a\u4e3e (",(0,t.jsx)(e.code,{children:"for in"}),"), \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"false"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"configurable"}),": \u662f\u5426\u53ef\u4ee5\u88ab\u5220\u9664\u4e0e\u4fee\u6539 descriptor, \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5b58\u53d6\u63cf\u8ff0\u7b26:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"get"}),": \u8fd4\u56de property \u503c\u7684\u65b9\u6cd5, \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"set"}),": \u4e3a property \u8bbe\u7f6e\u503c\u7684\u65b9\u6cd5, \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"enumerable"}),": \u662f\u5426\u53ef\u4ee5\u88ab\u679a\u4e3e (",(0,t.jsx)(e.code,{children:"for in"}),"), \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"false"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"configurable"}),": \u662f\u5426\u53ef\u4ee5\u88ab\u5220\u9664\u4e0e\u4fee\u6539 descriptor, \u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"interface DataPropertyDescriptor {\n  value?: any\n  writable?: boolean\n  enumerable?: boolean\n  configurable?: boolean\n}\n\ninterface AccessorPropertyDescriptor {\n  get?: (this: any) => any\n  set?: (this: any, v: any) => void\n  enumerable?: boolean\n  configurable?: boolean\n}\n\ntype PropertyDescriptor = DataPropertyDescriptor | AccessorPropertyDescriptor\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"Object.defineProperty(o, 'age', {\n  value: 24,\n  writable: true,\n  enumerable: true,\n  configurable: true,\n})\n\nObject.defineProperty(o, 'sex', {\n  value: 'male',\n  writable: false, //  \u4e0d\u53ef\u8d4b\u503c\n  enumerable: false, //  \u4e0d\u53ef\u904d\u5386/\u679a\u4e3e\n  configurable: false,\n})\n\nObject.defineProperties(o, {\n  age: {\n    value: 24,\n    writable: true,\n    enumerable: true,\n    configurable: true,\n  },\n  sex: {\n    value: 'male',\n    writable: false,\n    enumerable: false,\n    configurable: false,\n  },\n})\n\nObject.defineProperties(o, {\n  kind: {\n    value: 'Plate 1x3',\n    writable: true,\n    enumerable: true,\n    configurable: true,\n  },\n  color: {\n    value: 'yellow',\n    writable: true,\n    enumerable: true,\n    configurable: true,\n  },\n  description: {\n    get() {\n      return `${this.kind} (${this.color})`\n    },\n    enumerable: true,\n    configurable: true,\n  },\n})\n"})}),"\n",(0,t.jsx)(e.p,{children:"Object keys (excluding Symbols) are strings under the hood,\nobject keys are automatically converted into strings:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = { 1: 'a', 2: 'b', 3: 'c' }\nconst set = new Set([1, 2, 3, 4, 5])\nObject.hasOwn(obj, '1') // true\nObject.hasOwn(obj, 1) // true\nset.has('1') // false\nset.has(1) // true\n\nconst a = {}\nconst b = { key: 'b' }\nconst c = { key: 'c' }\na[b] = 123\na[c] = 456\nconsole.log(a[b]) // a[\"[object Object]\"] = 456\n"})}),"\n",(0,t.jsx)(e.p,{children:"Object keys \u904d\u5386\u987a\u5e8f:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9996\u5148\u904d\u5386\u6240\u6709\u6570\u503c\u952e, \u6309\u7167\u6570\u503c\u5347\u5e8f\u6392\u5217."}),"\n",(0,t.jsx)(e.li,{children:"\u5176\u6b21\u904d\u5386\u6240\u6709\u5b57\u7b26\u4e32\u952e, \u6309\u7167\u52a0\u5165\u65f6\u95f4\u5347\u5e8f\u6392\u5217."}),"\n",(0,t.jsxs)(e.li,{children:["\u6700\u540e\u904d\u5386\u6240\u6709 ",(0,t.jsx)(e.code,{children:"Symbol"})," \u952e, \u6309\u7167\u52a0\u5165\u65f6\u95f4\u5347\u5e8f\u6392\u5217."]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"property-descriptor-functions",children:"Property Descriptor Functions"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.create(prototype[, descriptors])"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const o = Object.create({\n  say() {\n    alert(this.name)\n  },\n  name: 'Byron',\n})\n\nconst obj = Object.create(Object.prototype, {\n  kind: {\n    value: 'Plate 1x3',\n    writable: true,\n    enumerable: true,\n    configurable: true,\n  },\n  color: {\n    value: 'yellow',\n    writable: true,\n    enumerable: true,\n    configurable: true,\n  },\n  description: {\n    get() {\n      return `${this.kind} (${this.color})`\n    },\n    enumerable: true,\n    configurable: true,\n  },\n})\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.getOwnPropertyDescriptor(object, property)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.getOwnPropertyDescriptors(object)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n\nconst clone = Object.create(\n  Object.getPrototypeOf(obj),\n  Object.getOwnPropertyDescriptors(obj)\n)\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.hasOwn(object, property)"}),": Boolean."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"in"})," operator: \u68c0\u6d4b\u5b9e\u4f8b\u53ca\u5176\u539f\u578b\u94fe\u4e0a\u6240\u6709\u5c5e\u6027\u540d."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Arrays\nconst trees = ['redwood', 'bay', 'cedar', 'oak', 'maple']\nconst truthy = 0 in trees\nconst truthy = 3 in trees\nconst falsy = 6 in trees\nconst falsy = 'bay' in trees\nconst truthy = 'length' in trees\nconst truthy = Symbol.iterator in trees\n\n// Predefined objects\nconst truthy = 'PI' in Math\n\n// Custom objects\nconst car = { make: 'Honda', model: 'Accord', year: 1998 }\nconst truthy = 'make' in car\nconst truthy = 'model' in car\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"for...in"}),": \u83b7\u53d6\u5b9e\u4f8b\u53ca\u5176\u539f\u578b\u94fe\u4e0a\u6240\u6709\u53ef\u679a\u4e3e\u5c5e\u6027\u540d."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.getOwnPropertySymbols(object)"}),": \u83b7\u53d6\u5b9e\u4f8b\u4e0a Symbol \u5c5e\u6027\u540d."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.getOwnPropertyNames(object)"}),": \u83b7\u53d6\u5b9e\u4f8b\u4e0a\u975e Symbol \u5c5e\u6027\u540d (\u5305\u62ec\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u540d)."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.keys(object)"}),": \u83b7\u53d6\u5b9e\u4f8b\u4e0a\u53ef\u679a\u4e3e\u5c5e\u6027\u540d."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const k1 = Symbol('k1')\nconst k2 = Symbol('k2')\nconst o = {\n  1: 1,\n  first: 'first',\n  [k1]: 'sym2',\n  second: 'second',\n  0: 0,\n}\no[k2] = 'sym2'\no[3] = 3\no.third = 'third'\no[2] = 2\n\nconsole.log(Object.getOwnPropertyNames(o))\n// ['0', '1', '2', '3', 'first', 'second', 'third']\nconsole.log(Object.getOwnPropertySymbols(o))\n// [Symbol(k1), Symbol(k2)]\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Person() {}\nPerson.prototype.name = 'Nicholas'\nPerson.prototype.age = 29\nPerson.prototype.job = 'Software Engineer'\nPerson.prototype.sayName = function () {\n  console.log(this.name)\n}\n\nconst keys = Object.keys(Person.prototype)\nconsole.log(keys) // 'name, age, job, sayName'\n\nconst p1 = new Person()\np1.name = 'Rob'\np1.age = 31\nconst p1keys = Object.keys(p1)\nconsole.log(p1keys) // '[name, age]'\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.values(O)"}),":\nobject own enumerable property values."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.entries(O)"}),":\nobject own enumerable ",(0,t.jsx)(e.strong,{children:"string-keyed"})," property ",(0,t.jsx)(e.code,{children:"[key, value]"})," pairs."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.fromEntries()"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const score = {\n  saber: 42,\n  todd: 19,\n  ken: 4,\n  gan: 41,\n}\n\nObject.keys(score).map(k => score[k])\n// => [ 42, 19, 4, 41 ]\n\nObject.values(score)\n// => [ 42, 19, 4, 41 ]\n\nObject.entries(score)\n/**\n * =>\n * [\n * [ 'saber', 42 ],\n * [ 'todd', 19 ],\n * [ 'ken', 4 ],\n * [ 'gan', 41 ],\n * ]\n */\n\nfunction findKey(object, callback, thisValue) {\n  for (const [key, value] of Object.entries(object)) {\n    if (callback.call(thisValue, value, key, object))\n      return key\n  }\n\n  return undefined\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const object = { x: 42, y: 50, abc: 9001 }\nconst result = Object.fromEntries(\n  Object.entries(object)\n    .filter(([key, value]) => key.length === 1)\n    .map(([key, value]) => [key, value * 2])\n)\n\nconst map = new Map(Object.entries(object))\nconst objectCopy = Object.fromEntries(map)\n\nfunction pick(object, ...keys) {\n  const filteredEntries = Object.entries(object).filter(([key, _value]) =>\n    keys.includes(key)\n  )\n\n  return Object.fromEntries(filteredEntries)\n}\n\nfunction invert(object) {\n  const mappedEntries = Object.entries(object).map(([key, value]) => [\n    value,\n    key,\n  ])\n\n  return Object.fromEntries(mappedEntries)\n}\n\nfunction mapObject(object, callback, thisValue) {\n  const mappedEntries = Object.entries(object).map(([key, value]) => {\n    const mappedValue = callback.call(thisValue, value, key, object)\n    return [key, mappedValue]\n  })\n\n  return Object.fromEntries(mappedEntries)\n}\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.th,{children:["Operation (",(0,t.jsx)(e.strong,{children:"Only Enumerable"}),")"]}),(0,t.jsx)(e.th,{children:"String Key"}),(0,t.jsx)(e.th,{children:"Symbol Key"}),(0,t.jsx)(e.th,{children:"Inherited"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.keys()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.values()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.entries()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.assign()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Spreading ",(0,t.jsx)(e.code,{children:"{...x}"})]}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"JSON.stringify()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"for...in"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"}),(0,t.jsx)(e.td,{children:"\u2714"})]})]})]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.th,{children:["Operation (",(0,t.jsx)(e.strong,{children:"Include Non-enumerable"}),")"]}),(0,t.jsx)(e.th,{children:"String Key"}),(0,t.jsx)(e.th,{children:"Symbol Key"}),(0,t.jsx)(e.th,{children:"Inherited"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.getOwnPropertyNames()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.getOwnPropertySymbols()"})}),(0,t.jsx)(e.td,{children:"\u2718"}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.getOwnPropertyDescriptors()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Reflect.ownKeys()"})}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2714"}),(0,t.jsx)(e.td,{children:"\u2718"})]})]})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.preventExtensions(O)"}),"/",(0,t.jsx)(e.code,{children:"Object.isExtensible(O)"}),":\n\u4e0d\u53ef\u65b0\u589e\u5c5e\u6027, \u53ef\u5220\u9664/\u4fee\u6539\u5c5e\u6027."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.seal(O)"}),"/",(0,t.jsx)(e.code,{children:"Object.isSealed(O)"}),":\n\u8bbe\u7f6e ",(0,t.jsx)(e.code,{children:"configurable"})," \u4e3a false (\u4e0d\u53ef\u5220\u9664, \u4e0d\u53ef\u4fee\u6539 descriptor), \u53ef\u4fee\u6539\u5c5e\u6027."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Object.freeze(O)"}),"/",(0,t.jsx)(e.code,{children:"Object.isFrozen(O)"}),":\n\u4e0d\u53ef\u65b0\u589e/\u5220\u9664/\u4fee\u6539\u5c5e\u6027 (Shallow)."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = Object.freeze({ foo: {} })\n\nobj.bar = 123\n// TypeError: Can't add property bar, object is not extensible\n\nobj.foo = {}\n// TypeError: Cannot assign to read only property 'foo' of #<Object>\n\nobj.foo.qux = 'abc'\nconsole.log(obj.foo.qux)\n// 'abc'\n"})}),"\n",(0,t.jsx)(e.h3,{id:"private-property-and-method",children:"Private Property and Method"}),"\n",(0,t.jsx)(e.h4,{id:"private-property",children:"Private Property"}),"\n",(0,t.jsx)(e.p,{children:"\u5b9e\u73b0\u65b9\u5f0f: \u95ed\u5305"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Gadget() {\n  // private member\n  const name = 'iPod'\n  // public function\n  this.getName = function () {\n    return name\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"private-method",children:"Private Method"}),"\n",(0,t.jsxs)(e.p,{children:["getter: \u8fd4\u56de\u57fa\u672c\u7c7b\u578b\u503c/",(0,t.jsx)(e.strong,{children:"\u5f15\u7528"}),"\u7c7b\u578b",(0,t.jsx)(e.strong,{children:"\u6df1\u62f7\u8d1d"}),"(POLA \u6700\u4f4e\u6388\u6743\u539f\u5219)."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Gadget() {\n  // private member\n  const pref = {}\n  // public function\n  this.getPref = function () {\n    return pref.clone()\n  }\n}\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5373\u4f7f\u51fd\u6570\u6a21\u5f0f + \u63ed\u793a\u6a21\u5f0f"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5b9e\u73b0\u79c1\u6709\u5c5e\u6027\u4e0e\u79c1\u6709\u65b9\u6cd5."}),"\n",(0,t.jsx)(e.li,{children:"\u63d0\u4f9b\u79c1\u6709\u65b9\u6cd5\u7684\u516c\u5171(\u8bfb/\u6267\u884c not \u5199)\u63a5\u53e3,\u516c\u5171\u63a5\u53e3\u53d1\u751f\u610f\u5916,\u79c1\u6709\u65b9\u6cd5\u4ecd\u5b89\u5168."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u533f\u540d\u5373\u65f6\u51fd\u6570\u6a21\u5f0f.\nconst obj = (function () {\n  // private member\n  const name = 'tazimi'\n  // private method\n  const getName = function getName() {\n    return name\n  }\n  // \u95ed\u5305\n  return {\n    // \u516c\u5171\u63a5\u53e3 - \u79c1\u6709\u65b9\u6cd5\n    getName,\n  }\n})()\n"})}),"\n",(0,t.jsx)(e.h3,{id:"static-property-and-method",children:"Static Property and Method"}),"\n",(0,t.jsx)(e.h4,{id:"static-property",children:"Static Property"}),"\n",(0,t.jsx)(e.p,{children:"\u5b9e\u73b0\u65b9\u5f0f: \u95ed\u5305/\u539f\u578b\u4ee3\u7406"}),"\n",(0,t.jsx)(e.h4,{id:"static-method",children:"Static Method"}),"\n",(0,t.jsx)(e.p,{children:"\u76f4\u63a5\u5411\u6784\u9020\u51fd\u6570\u6dfb\u52a0\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"Object.isArray = function () {}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"object-property",children:"Object Property"}),"\n",(0,t.jsx)(e.p,{children:"\u7f16\u5199\u51fd\u6570\u65f6,\u4e00\u822c\u7528[]\u8bbf\u95ee\u5bf9\u8c61\u5c5e\u6027"}),"\n",(0,t.jsx)(e.h3,{id:"object-method",children:"Object Method"}),"\n",(0,t.jsx)(e.p,{children:"\u4e3a prototype \u6dfb\u52a0\u65b9\u6cd5,\u53ef\u4ee5\u901a\u8fc7\u5b9e\u73b0\u8bed\u6cd5\u7cd6 method()\u7b80\u5316\u4ee3\u7801(\u94fe\u6a21\u5f0f)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"if (typeof Function.prototype.method !== 'function') {\n  // eslint-disable-next-line no-extend-native\n  Function.prototype.method = function (name, implementation) {\n    this.prototype[name] = implementation\n    return this\n  }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const Person = function (name) {\n  this.name = name\n}\n  .method('getName', function () {\n    return this.name\n  })\n  .method('setName', function (name) {\n    this.name = name\n    return this\n  })\n"})}),"\n",(0,t.jsx)(e.h3,{id:"object-clone",children:"Object Clone"}),"\n",(0,t.jsx)(e.h4,{id:"object-shallow-clone",children:"Object Shallow Clone"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Object.assign"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Enumerable: ",(0,t.jsx)(e.strong,{children:"\u53ef\u679a\u4e3e"}),"\u5c5e\u6027\u6269\u5c55."]}),"\n",(0,t.jsxs)(e.li,{children:["Own: ",(0,t.jsx)(e.strong,{children:"\u81ea\u6709"}),"\u5c5e\u6027\u6269\u5c55."]}),"\n",(0,t.jsxs)(e.li,{children:["Shallow: ",(0,t.jsx)(e.strong,{children:"\u6d45\u62f7\u8d1d"}),"\u6269\u5c55."]}),"\n",(0,t.jsxs)(e.li,{children:["Trigger ",(0,t.jsx)(e.code,{children:"sourceObj.set"})," and change ",(0,t.jsx)(e.code,{children:"sourceObj"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const dest = {}\nconst src = { a: {} }\nObject.assign(dest, src)\n\n// \u6d45\u590d\u5236\u610f\u5473\u7740\u53ea\u4f1a\u590d\u5236\u5bf9\u8c61\u7684\u5f15\u7528\nconsole.log(dest) // { a :{} }\nconsole.log(dest.a === src.a) // true\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"..."})," object spread syntax:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Enumerable: ",(0,t.jsx)(e.strong,{children:"\u53ef\u679a\u4e3e"}),"\u5c5e\u6027\u6269\u5c55."]}),"\n",(0,t.jsxs)(e.li,{children:["Own: ",(0,t.jsx)(e.strong,{children:"\u81ea\u6709"}),"\u5c5e\u6027\u6269\u5c55."]}),"\n",(0,t.jsxs)(e.li,{children:["Shallow: ",(0,t.jsx)(e.strong,{children:"\u6d45\u62f7\u8d1d"}),"\u6269\u5c55."]}),"\n",(0,t.jsxs)(e.li,{children:["Not copy prototype (",(0,t.jsx)(e.code,{children:"__proto__"}),")."]}),"\n",(0,t.jsx)(e.li,{children:"Not copy getter and setter."}),"\n",(0,t.jsxs)(e.li,{children:["Not trigger ",(0,t.jsx)(e.code,{children:"sourceObj.set"})," and not change ",(0,t.jsx)(e.code,{children:"sourceObj"})," (create new properties)."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Shallow copy\nconst foo = { a: 1 }\nconst bar = { b: 2, c: { d: 3 } }\nconst foobar = { ...foo, ...bar }\nconsole.log(foobar.c === bar.c) // true\n\n// Not copy prototype (`__proto__`)\nclass MyClass {}\nconst original = new MyClass()\nassert.equal(original instanceof MyClass, true)\nconst copy = { ...original }\nassert.equal(copy instanceof MyClass, false)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"object-deep-clone",children:"Object Deep Clone"}),"\n",(0,t.jsx)(e.p,{children:"Recursively copy all properties of an object:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function deepClone(original) {\n  if (Array.isArray(original)) {\n    return original.map(elem => deepClone(elem))\n  } else if (typeof original === 'object' && original !== null) {\n    return Object.fromEntries(\n      Object.entries(original).map(([key, value]) => [key, deepClone(value)])\n    )\n  } else {\n    // Primitive value: atomic, no need to copy\n    return original\n  }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function deepUpdate(original, keys, value) {\n  if (keys.length === 0)\n    return value\n\n  const currentKey = keys[0]\n\n  if (Array.isArray(original)) {\n    return original.map((v, index) =>\n      index === currentKey ? deepUpdate(v, keys.slice(1), value) : v\n    )\n  } else if (typeof original === 'object' && original !== null) {\n    return Object.fromEntries(\n      Object.entries(original).map(([k, v]) =>\n        k === currentKey ? [k, deepUpdate(v, keys.slice(1), value)] : [k, v]\n      )\n    )\n  } else {\n    // Primitive value\n    return original\n  }\n}\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Using ",(0,t.jsx)(e.code,{children:"JSON.parse(JSON.stringify(obj))"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Not copy prototype (",(0,t.jsx)(e.code,{children:"__proto__"}),")."]}),"\n",(0,t.jsx)(e.li,{children:"Not copy getter and setter."}),"\n",(0,t.jsx)(e.li,{children:"Not copy non-enumerable properties."}),"\n",(0,t.jsx)(e.li,{children:"Not copy Symbol properties."}),"\n",(0,t.jsx)(e.li,{children:"Not copy circular references."}),"\n",(0,t.jsxs)(e.li,{children:["Not copy ",(0,t.jsx)(e.code,{children:"undefined"}),", ",(0,t.jsx)(e.code,{children:"function"}),", ",(0,t.jsx)(e.code,{children:"symbol"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = { a: 1, b: { c: 2 } }\nconst clone = JSON.parse(JSON.stringify(obj))\nconsole.log(clone) // { a: 1, b: { c: 2 } }\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Using ",(0,t.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/structuredClone",children:(0,t.jsx)(e.code,{children:"window.structuredClone()"})}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Create an object with a value and a circular reference to itself.\nconst original = { name: 'MDN' }\noriginal.itself = original\n\n// Clone it\nconst clone = structuredClone(original)\n\nconsole.assert(clone !== original) // the objects are not the same (not same identity)\nconsole.assert(clone.name === 'MDN') // they do have the same values\nconsole.assert(clone.itself === clone) // and the circular reference is preserved\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'const room1 = {\n  people: [\'Alan\', \'Bob\'],\n}\n\nconst room2 = structuredClone(room1)\n\nroom2.people.push(\'Charlie\')\nroom1.people.pop()\n\nconsole.log(room2.people) // ["Alan", "Bob", "Charlie"]\nconsole.log(room1.people) // ["Alan"]\n'})}),"\n",(0,t.jsx)(e.h3,{id:"object-inheritance",children:"Object Inheritance"}),"\n",(0,t.jsx)(e.h4,{id:"prototype-proxy-inheritance",children:"Prototype Proxy Inheritance"}),"\n",(0,t.jsx)(e.p,{children:"\u53ef\u7528\u4e8e\u6240\u6709\u7ee7\u627f\u6a21\u5f0f\u4e2d, \u51cf\u5c11\u5185\u5b58\u6d88\u8017:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const inherit = (function () {\n  // \u51cf\u5c11\u7ee7\u627f\u8fc7\u7a0b\u4e2d\u7236\u7c7b\u7684\u5b9e\u4f8b\u5316,\u51cf\u5c11\u8d44\u6e90\u6d88\u8017\n  // \u5b9e\u4f8b\u5316\u4e00\u4e2a\u7a7a\u7c7b\u6240\u9700\u8d44\u6e90\u66f4\u5c11\n  const F = function () {}\n  return function (C, P) {\n    // c.__proto__ = C.prototype = f\n    // f.__proto__ = F.prototype\n    // F.prototype = P.prototype\n    // c.__proto__.__proto__ = f.__proto__ = P.prototype\n    F.prototype = P.prototype // f.__proto__ = F.prototype = P.prototype\n    C.prototype = new F() // C.prototype = f\n    C.prototype.constructor = C\n    C.super = P.prototype // \u6b64\u53e5\u53ef\u63d0\u9ad8\u4ee3\u7801\u7684\u91cd\u7528\u6027\n  }\n})()\n\nChild.prototype.add = function () {\n  return Child.super.add.call(this)\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"class-simulation-inheritance",children:"Class Simulation Inheritance"}),"\n",(0,t.jsx)(e.p,{children:"\u590d\u5236\u5f0f\u5730\u7ee7\u627f, \u5c06\u4f1a\u6d88\u8017\u5927\u91cf\u5185\u5b58\u5355\u5143:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const classSim = function (Parent, props) {\n  // \u65b0\u7684\u6784\u9020\u51fd\u6570\n  const Child = function (...args) {\n    if (\n      Child.uber\n      && Object.prototype.hasOwnProperty.call(Child.uber, '_construct')\n    ) {\n      Child.uber._construct.apply(this, args)\n    }\n\n    if (Object.prototype.hasOwnProperty.call(Child.prototype, '_construct'))\n      Child.prototype._construct.apply(this, args)\n  }\n\n  // \u7c7b\u5f0f\u7ee7\u627f\n  Parent = Parent || Object\n\n  // \u4ee3\u7406\u6784\u9020\u51fd\u6570F\n  const F = function () {}\n  F.prototype = Parent.prototype\n  Child.prototype = new F()\n  Child.prototype.constructor = Child\n\n  // \u6dfb\u52a0\u5c5e\u6027\u4e0e\u65b9\u6cd5\n  for (const i in props) {\n    if (Object.prototype.hasOwnProperty.call(props, i))\n      Child.prototype[i] = props[i]\n  }\n\n  // return the \"class\"\n  return Child\n}\n\nconst SuperMan = classSim(Man, {\n  _construct(what) {\n    console.log('SuperMan\\'s constructor')\n  },\n  getName() {\n    const name = SuperMan.uber.getName.call(this)\n    return `I am ${name}`\n  },\n})\n"})}),"\n",(0,t.jsx)(e.h4,{id:"composite-inheritance",children:"Composite Inheritance"}),"\n",(0,t.jsxs)(e.p,{children:["\u539f\u578b\u7ee7\u627f (",(0,t.jsx)(e.strong,{children:"\u8bbe\u7f6e\u539f\u578b"}),")\n\u4e0e\u7c7b\u5f0f\u7ee7\u627f (",(0,t.jsx)(e.strong,{children:"\u501f\u7528\u6784\u9020\u51fd\u6570"}),")\n\u7ec4\u5408\u7ee7\u627f\u6a21\u5f0f:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"child.prototype = new Parent(); Child.prototype.constructor = Child"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Parent.apply(this, arguments)"}),": \u501f\u7528\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u9632\u6b62\u5f15\u7528\u7c7b\u578b\u88ab\u8feb\u5171\u4eab."]}),"\n",(0,t.jsx)(e.li,{children:"\u6b64\u6a21\u5f0f\u4f1a\u8c03\u7528\u4e24\u6b21\u7236\u7c7b\u6784\u9020\u51fd\u6570, \u4f7f\u5f97\u5b50\u7c7b\u5c5e\u6027\u7ee7\u627f\u4e24\u6b21, \u5b58\u5728\u4e00\u5b9a\u7684\u6548\u7387\u95ee\u9898."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function Parent(name) {\n  this.name = name || 'Adam'\n}\n// Adding functionality to the prototype\nParent.prototype.say = function () {\n  return this.name\n}\n\n// Child constructor\nfunction Child(...args) {\n  // \u89e3\u51b3\u5f15\u7528\u7c7b\u578b\u5171\u4eab\u95ee\u9898\n  Parent.apply(this, args)\n  this.childName = 'Child Name'\n}\n\n// Child.prototype = Object.create(Parent.prototype);\nChild.prototype = new Parent() // \u8bbe\u7f6e\u539f\u578b\u94fe,\u5efa\u7acb\u7ee7\u627f\u5173\u7cfb\nChild.prototype.constructor = Child // \u4f7f\u5f97 Prototype \u5bf9\u8c61\u4e0e Constructor \u5bf9\u8c61\u5f62\u6210\u95ed\u73af\n"})}),"\n",(0,t.jsx)(e.h3,{id:"class",children:"Class"}),"\n",(0,t.jsx)(e.h4,{id:"class-prototype",children:"Class Prototype"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Class"})," \u5b9a\u4e49\u4e0d\u80fd\u63d0\u5347."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Class"})," \u5177\u6709\u5757\u4f5c\u7528\u57df."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Class"})," \u5185\u90e8\u4e3a\u4e25\u683c\u6a21\u5f0f."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Class"})," \u5185\u90e8\u5b9a\u4e49\u65b9\u6cd5\u4e0d\u53ef\u679a\u4e3e."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Class"})," \u6240\u6709\u65b9\u6cd5 (\u5305\u62ec\u9759\u6001\u65b9\u6cd5\u548c\u5b9e\u4f8b\u65b9\u6cd5) \u90fd\u6ca1\u6709\u539f\u578b\u5bf9\u8c61 ",(0,t.jsx)(e.code,{children:".prototype"}),",\n\u6ca1\u6709 ",(0,t.jsx)(e.code,{children:"[[construct]]"}),", \u4e0d\u80fd\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"new"})," \u8c03\u7528."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Class"})," \u5fc5\u987b\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"new"})," \u8c03\u7528, \u5426\u5219\u4f1a\u62a5\u9519."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"typeof Class"}),": ",(0,t.jsx)(e.code,{children:"function"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class A {\n  constructor(value) {\n    this.val = value\n  }\n}\n\nclass B extends A {\n  constructor(value) {\n    super(value)\n    console.log('New')\n  }\n}\n\nconst b = new B(6)\n\nconsole.log(B[[proto]] === A) // true\nconsole.log(B.prototype.constructor === B) // true\nconsole.log(B.prototype[[proto]] === A.prototype) // true\nconsole.log(b[[proto]] === B.prototype) // true\n\nfunction AA(value) {\n  this.val = value\n}\n\nfunction BB(value) {\n  AA.call(this, value)\n}\n\nBB.prototype = Object.create(AA.prototype)\nBB.prototype.constructor = BB\n\nconst bb = new BB(6)\n\nconsole.log(BB[[proto]] === Function.prototype) // true (not consistence to Class)\nconsole.log(BB.prototype.constructor === BB) // true\nconsole.log(BB.prototype[[proto]] === AA.prototype) // true\nconsole.log(bb[[proto]] === BB.prototype) // true\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{}),(0,t.jsx)(e.th,{children:"Writable"}),(0,t.jsx)(e.th,{children:"Enumerable"}),(0,t.jsx)(e.th,{children:"Configurable"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Foo.prototype"})}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{children:"false"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Foo.prototype.constructor"})}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{children:"true"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Static properties ",(0,t.jsx)(e.code,{children:"Foo.*"})]}),(0,t.jsx)(e.td,{children:"true"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{children:"true"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Prototype properties ",(0,t.jsx)(e.code,{children:"Foo.prototype.*"})]}),(0,t.jsx)(e.td,{children:"true"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{children:"true"})]})]})]}),"\n",(0,t.jsx)(e.h4,{id:"class-inheritance",children:"Class Inheritance"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u9694\u79bb: \u6dfb\u52a0\u5230 ",(0,t.jsx)(e.code,{children:"this"})," \u7684\u6240\u6709\u5c5e\u6027\u90fd\u4f1a\u5b58\u5728\u4e8e\u4e0d\u540c\u7684\u5b9e\u4f8b\u4e0a."]}),"\n",(0,t.jsxs)(e.li,{children:["\u5171\u4eab:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5728\u7c7b\u5757\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u65b9\u6cd5\u90fd\u4f1a\u5b9a\u4e49\u5728\u7c7b\u7684\u539f\u578b\u4e0a."}),"\n",(0,t.jsx)(e.li,{children:"\u9759\u6001\u5c5e\u6027\u5b9a\u4e49\u5728\u7c7b\u672c\u8eab\u4e0a."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Person {\n  constructor() {\n    // \u6dfb\u52a0\u5230 this \u7684\u6240\u6709\u5185\u5bb9\u90fd\u4f1a\u5b58\u5728\u4e8e\u4e0d\u540c\u7684\u5b9e\u4f8b\u4e0a\n    this.locate = () => console.log('instance', this)\n  }\n\n  // \u5728\u7c7b\u5757\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u5185\u5bb9\u90fd\u4f1a\u5b9a\u4e49\u5728\u7c7b\u7684\u539f\u578b\u4e0a\n  locate() {\n    console.log('prototype', this)\n  }\n\n  // \u5b9a\u4e49\u5728\u7c7b\u672c\u8eab\u4e0a\n  static locate() {\n    console.log('class', this)\n  }\n}\n\nconst p = new Person()\np.locate() // instance, Person {}\nPerson.prototype.locate() // prototype, {constructor: ... }\nPerson.locate() // class, class Person {}\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://exploringjs.com/es6/ch_classes.html#_prototype-chains",children:(0,t.jsx)(e.img,{alt:"Class Inheritance",src:r(9945).A+"",width:"1104",height:"717"})})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.th,{children:[(0,t.jsx)(e.code,{children:"Class"})," Definition"]}),(0,t.jsxs)(e.th,{children:[(0,t.jsx)(e.code,{children:"Class"})," Prototype"]}),(0,t.jsxs)(e.th,{children:[(0,t.jsx)(e.code,{children:"Class.prototype"})," Prototype"]})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"C"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Function.prototype"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.prototype"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"C extends null"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Function.prototype"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"null"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"C extends Object"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"Object.prototype"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"C extends B"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"B"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"B.prototype"})})]})]})]}),"\n",(0,t.jsx)(e.admonition,{title:"ES5 vs ES6 Inheritance",type:"tip",children:(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["ES5 \u7ee7\u627f\u5148\u521b\u9020\u5b50\u7c7b\u5b9e\u4f8b\u5bf9\u8c61 ",(0,t.jsx)(e.code,{children:"this"}),",\n\u7136\u540e\u518d\u5c06\u7236\u7c7b\u7684\u5c5e\u6027\u4e0e\u65b9\u6cd5\u6dfb\u52a0\u5230 ",(0,t.jsx)(e.code,{children:"this"})," \u4e0a (",(0,t.jsx)(e.code,{children:"Parent.apply(this)"}),"),\n",(0,t.jsx)(e.strong,{children:"\u5b9e\u4f8b\u5728\u524d\u7ee7\u627f\u5728\u540e"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["ES6 \u7ee7\u627f\u5148\u5c06\u7236\u7c7b\u7684\u5c5e\u6027\u4e0e\u65b9\u6cd5\u6dfb\u52a0\u5230 ",(0,t.jsx)(e.code,{children:"this"})," \u4e0a (\u5fc5\u987b\u5148\u8c03\u7528 ",(0,t.jsx)(e.code,{children:"super()"})," \u65b9\u6cd5),\n\u7136\u540e\u518d\u7528\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570\u4fee\u6539 ",(0,t.jsx)(e.code,{children:"this"}),",\n",(0,t.jsx)(e.strong,{children:"\u7ee7\u627f\u5728\u524d\u5b9e\u4f8b\u5728\u540e"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["ES5 \u7ee7\u627f ",(0,t.jsx)(e.code,{children:"Child.__proto__ === Function.prototype"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["ES6 \u7ee7\u627f ",(0,t.jsx)(e.code,{children:"Child.__proto__ === Parent"}),", \u5b50\u7c7b\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 ",(0,t.jsx)(e.code,{children:"[[proto]]"})," \u5bfb\u5740\u5230\u7236\u7c7b."]}),"\n"]})}),"\n",(0,t.jsx)(e.h5,{id:"super-class",children:"Super Class"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"super"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"super"})," \u53ea\u80fd\u5728\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u548c\u9759\u6001\u65b9\u6cd5\u4e2d\u4f7f\u7528."]}),"\n",(0,t.jsxs)(e.li,{children:["\u4e0d\u80fd\u5355\u72ec\u5f15\u7528 ",(0,t.jsx)(e.code,{children:"super"})," \u5173\u952e\u5b57, \u8981\u4e48\u7528\u5b83\u8c03\u7528\u6784\u9020\u51fd\u6570, \u8981\u4e48\u7528\u5b83\u5f15\u7528\u9759\u6001\u65b9\u6cd5."]}),"\n",(0,t.jsxs)(e.li,{children:["\u8c03\u7528 ",(0,t.jsx)(e.code,{children:"super()"})," \u4f1a\u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570, \u5e76\u5c06\u8fd4\u56de\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9 ",(0,t.jsx)(e.code,{children:"this"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u5728\u7c7b\u6784\u9020\u51fd\u6570\u4e2d, \u4e0d\u80fd\u5728\u8c03\u7528 ",(0,t.jsx)(e.code,{children:"super()"})," \u4e4b\u524d\u5f15\u7528 ",(0,t.jsx)(e.code,{children:"this"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"super()"})," \u7b49\u4ef7\u4e8e\u8c03\u7528\u6784\u9020\u51fd\u6570, \u82e5\u9700\u7ed9\u7236\u7c7b\u6784\u9020\u51fd\u6570\u4f20\u53c2, \u5219\u9700\u624b\u52a8\u4f20\u5165."]}),"\n",(0,t.jsxs)(e.li,{children:["\u82e5\u6ca1\u6709\u663e\u5f0f\u5b9a\u4e49\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570, \u5728\u5b9e\u4f8b\u5316\u6d3e\u751f\u7c7b\u65f6\u4f1a\u81ea\u52a8\u8c03\u7528 ",(0,t.jsx)(e.code,{children:"super()"}),", \u4e14\u4f1a\u81ea\u52a8\u4f20\u5165\u6240\u6709\u4f20\u7ed9\u6d3e\u751f\u7c7b\u7684\u53c2\u6570."]}),"\n",(0,t.jsxs)(e.li,{children:["\u82e5\u663e\u5f0f\u5b9a\u4e49\u4e86\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570, \u5219\u5fc5\u987b\u5728\u5176\u4e2d\u8c03\u7528 ",(0,t.jsx)(e.code,{children:"super()"})," , \u6216\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61."]}),"\n",(0,t.jsxs)(e.li,{children:["\u5b9e\u4f8b\u5316\u65f6\u68c0\u6d4b ",(0,t.jsx)(e.code,{children:"new.target"})," \u662f\u4e0d\u662f\u62bd\u8c61\u57fa\u7c7b, \u53ef\u4ee5\u963b\u6b62\u5bf9\u62bd\u8c61\u57fa\u7c7b\u7684\u5b9e\u4f8b\u5316."]}),"\n"]}),"\n",(0,t.jsx)(e.h5,{id:"abstract-base-class",children:"Abstract Base Class"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Shape {\n  constructor() {\n    if (new.target === Shape)\n      throw new TypeError('This class cannot be instantiated directly.')\n  }\n}\n\nclass Rectangle extends Shape {\n  constructor(length, width) {\n    super()\n    this.length = length\n    this.width = width\n  }\n}\n\nconst x = new Shape() // throws error\nconst y = new Rectangle(3, 4) // no error\nconsole.log(y instanceof Shape) // true\n"})}),"\n",(0,t.jsx)(e.h4,{id:"class-expression",children:"Class Expression"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Anonymous class expression\nconst Person = class {}\n\n// Named class expression\nconst Person = class PersonName {\n  identify() {\n    console.log(Person.name, PersonName.name)\n  }\n}\n\nconst p = new Person()\np.identify() // PersonName PersonName\nconsole.log(Person.name) // PersonName\nconsole.log(PersonName) // ReferenceError: PersonName is not defined\n"})}),"\n",(0,t.jsx)(e.h4,{id:"class-constructor",children:"Class Constructor"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class A {\n  constructor() {\n    console.log(new.target.name)\n  }\n}\n\nclass B extends A {\n  constructor() {\n    super()\n    console.log('New')\n  }\n}\n\nconst a = new A() // logs \"A\"\nconst b = new B() // logs \"B\"\n\nclass C {\n  constructor() {\n    console.log(new.target)\n  }\n}\n\nclass D extends C {\n  constructor() {\n    super()\n    console.log('New')\n  }\n}\n\nconst c = new C() // logs class C{constructor(){console.log(new.target);}}\nconst d = new D() // logs class D extends C{constructor(){super();}}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"class-private-member",children:"Class Private Member"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Private access."}),"\n",(0,t.jsxs)(e.li,{children:["Aren't stored in ",(0,t.jsx)(e.code,{children:".prototype"}),"."]}),"\n",(0,t.jsx)(e.li,{children:"Aren't create instance own properties."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Dong {\n  constructor() {\n    this.#name = 'dog'\n    this.#age = 20\n    this.friend = 'cat'\n  }\n\n  hello() {\n    return `I'm ${this.#name} ${this.#age} years old`\n  }\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"Private member can only be accessed inside body of its class,\ncan\u2019t even access it from a subclass:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class SuperClass {\n  #superProp = 'superProp'\n}\n\nclass SubClass extends SuperClass {\n  getSuperProp() {\n    return this.#superProp\n  }\n}\n// SyntaxError: Private field '#superProp'\n// must be declared in an enclosing class\n\nclass Color {\n  #name\n\n  constructor(name) {\n    this.#name = name\n  }\n\n  static getName(obj) {\n    return obj.#name\n  }\n}\n\nclass Person {\n  #name\n\n  constructor(name) {\n    this.#name = name\n  }\n}\n\n// Can\u2019t access the private slot #name of a Person:\nassert.equal(Color.getName(new Color('green')), 'green')\nassert.throws(() => Color.getName(new Person('Jane')), {\n  name: 'TypeError',\n  message:\n    'Cannot read private member #name from'\n    + ' an object whose class did not declare it',\n})\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Private member never clash,\nthey aren't stored in ",(0,t.jsx)(e.code,{children:".prototype"})," objects and aren't inherited:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class SuperClass {\n  #privateField = 'super'\n\n  getSuperPrivateField() {\n    return this.#privateField\n  }\n}\n\nclass SubClass extends SuperClass {\n  #privateField = 'sub'\n\n  getSubPrivateField() {\n    return this.#privateField\n  }\n}\n\nconst inst = new SubClass()\nassert.equal(inst.getSuperPrivateField(), 'super')\nassert.equal(inst.getSubPrivateField(), 'sub')\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Private member can't be accessed by ",(0,t.jsx)(e.code,{children:"Reflect.ownKeys()"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class InstPrivateClass {\n  #privateField1 = 'private field 1'\n  #privateField2\n  constructor(value) {\n    this.#privateField2 = value\n  }\n}\n\n// No instance properties were created\nconst inst = new InstPrivateClass('constructor argument')\nassert.deepEqual(Reflect.ownKeys(inst), [])\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Private member ",(0,t.jsx)(e.code,{children:"WeakMap"})," polyfill:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function classPrivateFieldGet(receiver, state) {\n  return state.get(receiver)\n}\n\nfunction classPrivateFieldSet(receiver, state, value) {\n  state.set(receiver, value)\n}\n\nconst dongName = new WeakMap()\nconst dongAge = new WeakMap()\n\nclass Dong {\n  constructor() {\n    classPrivateFieldSet(this, dongName, 'dong')\n    classPrivateFieldSet(this, dongAge, 20)\n  }\n\n  hello() {\n    return `I'm ${classPrivateFieldGet(this, dongName)}, ${classPrivateFieldGet(\n      this,\n      dongAge\n    )} years old`\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"class-public-fields",children:"Class Public Fields"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class SuperClass {\n  superProp = console.log('superProp')\n\n  constructor() {\n    console.log('super-constructor')\n  }\n}\n\nclass SubClass extends SuperClass {\n  subProp = console.log('subProp')\n\n  constructor() {\n    console.log('BEFORE super()')\n    super()\n    console.log('AFTER super()')\n  }\n}\n\nconst sub = new SubClass()\n// Output:\n// 'BEFORE super()'\n// 'superProp'\n// 'super-constructor'\n// 'subProp'\n// 'AFTER super()'\n"})}),"\n",(0,t.jsx)(e.h4,{id:"class-static-blocks",children:"Class Static Blocks"}),"\n",(0,t.jsx)(e.p,{children:"Static blocks have access to class private member.\nIts mainly useful whenever set up multiple static fields."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Foo {\n  static #count = 0\n\n  get count() {\n    return Foo.#count\n  }\n\n  static {\n    try {\n      const lastInstances = loadLastInstances()\n      Foo.#count += lastInstances.length\n    } catch {}\n  }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Translator {\n  static translations = {\n    yes: 'ja',\n  }\n\n  static englishWords = []\n  static germanWords = []\n  static {\n    for (const [english, german] of Object.entries(translations)) {\n      this.englishWords.push(english)\n      this.germanWords.push(german)\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class SuperClass {\n  static superField1 = console.log('superField1')\n  static {\n    assert.equal(this, SuperClass)\n    console.log('static block 1 SuperClass')\n  }\n\n  static superField2 = console.log('superField2')\n  static {\n    console.log('static block 2 SuperClass')\n  }\n}\n\nclass SubClass extends SuperClass {\n  static subField1 = console.log('subField1')\n  static {\n    assert.equal(this, SubClass)\n    console.log('static block 1 SubClass')\n  }\n\n  static subField2 = console.log('subField2')\n  static {\n    console.log('static block 2 SubClass')\n  }\n}\n\n// Output:\n// 'superField1'\n// 'static block 1 SuperClass'\n// 'superField2'\n// 'static block 2 SuperClass'\n// 'subField1'\n// 'static block 1 SubClass'\n// 'subField2'\n// 'static block 2 SubClass'\n"})}),"\n",(0,t.jsx)(e.h4,{id:"class-best-practice",children:"Class Best Practice"}),"\n",(0,t.jsxs)(e.p,{children:["Avoid using ",(0,t.jsx)(e.code,{children:"class"})," when:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Singleton:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Only instantiate your class ",(0,t.jsx)(e.strong,{children:"once in a given runtime"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Stateless:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Data structure ",(0,t.jsx)(e.strong,{children:"no need for local state"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Data structure ",(0,t.jsx)(e.strong,{children:"no need for extending"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Redundant:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Minimal public methods."}),"\n",(0,t.jsx)(e.li,{children:"Constructors are only used for dependency injection."}),"\n",(0,t.jsx)(e.li,{children:"Constructors are always called with same arguments."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Want to avoid using ",(0,t.jsx)(e.code,{children:"this"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"global-object",children:"Global Object"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://exploringjs.com/deep-js/ch_global-scope.html",children:(0,t.jsx)(e.img,{alt:"Global Scope",src:r(4262).A+"",width:"1447",height:"823"})})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u7acb\u5373\u51fd\u6570\u6a21\u5f0f:\n// \u6b64\u65f6\u8fd4\u56de\u503c\u4e0d\u662f\u51fd\u6570\u672c\u8eab, \u800c\u662f\u51fd\u6570\u6267\u884c\u540e\u7684 return \u8bed\u53e5\u8fd4\u56de\u503c.\nconst global = (function () {\n  // \u8fd4\u56de\u5168\u5c40\u5bf9\u8c61\n  return this\n})()\n"})}),"\n",(0,t.jsx)(e.p,{children:"Global Object \u5c5e\u6027:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"undefined."}),"\n",(0,t.jsx)(e.li,{children:"NaN."}),"\n",(0,t.jsx)(e.li,{children:"Infinity."}),"\n",(0,t.jsx)(e.li,{children:"Object."}),"\n",(0,t.jsx)(e.li,{children:"Array."}),"\n",(0,t.jsx)(e.li,{children:"Function."}),"\n",(0,t.jsx)(e.li,{children:"Boolean."}),"\n",(0,t.jsx)(e.li,{children:"String."}),"\n",(0,t.jsx)(e.li,{children:"Number."}),"\n",(0,t.jsx)(e.li,{children:"Date."}),"\n",(0,t.jsx)(e.li,{children:"RegExp."}),"\n",(0,t.jsx)(e.li,{children:"Symbol."}),"\n",(0,t.jsx)(e.li,{children:"Error."}),"\n",(0,t.jsx)(e.li,{children:"EvalError."}),"\n",(0,t.jsx)(e.li,{children:"RangeError."}),"\n",(0,t.jsx)(e.li,{children:"ReferenceError."}),"\n",(0,t.jsx)(e.li,{children:"SyntaxError."}),"\n",(0,t.jsx)(e.li,{children:"TypeError."}),"\n",(0,t.jsx)(e.li,{children:"URIError."}),"\n",(0,t.jsx)(e.li,{children:"encodeURI."}),"\n",(0,t.jsx)(e.li,{children:"encodeURIComponent."}),"\n",(0,t.jsx)(e.li,{children:"decodeURI."}),"\n",(0,t.jsx)(e.li,{children:"decodeURIComponent."}),"\n",(0,t.jsx)(e.li,{children:"eval."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";(function () {\n  // Grab browser's default global variables.\n  const iframe = window.document.createElement('iframe')\n  iframe.src = 'about:blank'\n  window.document.body.appendChild(iframe)\n  const browserGlobals = Object.keys(iframe.contentWindow)\n  window.document.body.removeChild(iframe)\n\n  // Get the global variables added at runtime by filtering out the browser's\n  // default global variables from the current window object.\n  const runtimeGlobals = Object.keys(window).filter((key) => {\n    const isFromBrowser = browserGlobals.includes(key)\n    return !isFromBrowser\n  })\n\n  console.log('Runtime globals', runtimeGlobals)\n})()\n"})}),"\n",(0,t.jsx)(e.h2,{id:"function",children:"Function"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u662f\u5bf9\u8c61."}),"\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u63d0\u4f9b\u5c40\u90e8\u4f5c\u7528\u57df."}),"\n",(0,t.jsxs)(e.li,{children:["Object \u662f Function \u7684\u5b9e\u4f8b\u5bf9\u8c61, ",(0,t.jsx)(e.strong,{children:"Function.prototype"}),"\u662f Object \u7684\u5b9e\u4f8b\u5bf9\u8c61."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const truthy = Object[[proto]] === Function.prototype // true\nconst truthy = Function[[proto]] === Function.prototype // true\nconst truthy = Function[[proto]][[proto]] === Object.prototype // true\n"})}),"\n",(0,t.jsx)(e.h3,{id:"implicit-invocation",children:"Implicit Invocation"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Function Invocation"})," \u666e\u901a\u8c03\u7528\u6a21\u5f0f: ",(0,t.jsx)(e.code,{children:"this"})," \u7ed1\u5b9a\u81f3\u5168\u5c40\u5bf9\u8c61/",(0,t.jsx)(e.code,{children:"undefined"})," (",(0,t.jsx)(e.code,{children:"strict mode"}),")","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["setTimeout \u548c setInterval \u4e2d\u4f20\u5165\u7684 Callbacks\n\u4f1a\u81ea\u52a8\u8f6c\u53d8\u4e3a ",(0,t.jsx)(e.code,{children:"Function Invocation"}),",\n",(0,t.jsx)(e.code,{children:"this"})," bind to global/undefined object."]}),"\n",(0,t.jsxs)(e.li,{children:["React Class Component \u4e2d\u4f20\u5165\u7684 Event Handlers\n\u4f1a\u81ea\u52a8\u8f6c\u53d8\u4e3a ",(0,t.jsx)(e.code,{children:"Function Invocation"}),",\n\u9700\u8981\u663e\u5f0f\u5730 ",(0,t.jsx)(e.code,{children:"this.handleClick = this.handleClick.bind(this);"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Method Invocation"})," \u65b9\u6cd5\u8c03\u7528\u6a21\u5f0f: ",(0,t.jsx)(e.code,{children:"this"})," \u7ed1\u5b9a\u81f3\u6b64\u65b9\u6cd5\u6240\u5c5e\u7684\u5bf9\u8c61."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Non-strict mode:\nwindow.identity = 'The Window'\n\nconst object = {\n  identity: 'My Object',\n  getIdentityFunc() {\n    return function () {\n      return this.identity\n    }\n  },\n}\n\n// Function invocation:\n// Anonymous closure function `this` bind to `window`.\nconsole.log(object.getIdentityFunc()()) // 'The Window'\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"add(1, 2) // `this` -> `global`\n\nconst obj = {\n  value: 1,\n  foo() {\n    // \u82e5\u4e0d\u5c06 `this` \u8d4b\u503c\u7ed9 `that`, \u800c\u5728\u5185\u90e8\u51fd\u6570\u4e2d\u76f4\u63a5\u4f7f\u7528 `this.value`,\n    // \u5219\u4f1a\u53d1\u751f\u9519\u8bef: \u5185\u90e8\u51fd\u6570\u7684 `this` \u6307\u5411\u5168\u5c40\u5bf9\u8c61\u800c\u4e0d\u662f `obj`.\n    // eslint-disable-next-line ts/no-this-alias\n    const that = this\n\n    function inner() {\n      return that.value\n    }\n\n    return inner()\n  },\n}\n\nobj.foo() // 1\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"class Hero {\n  constructor(heroName) {\n    this.heroName = heroName\n  }\n\n  logName() {\n    console.log(this.heroName)\n  }\n}\n\nconst batman = new Hero('Batman')\nsetTimeout(batman.logName, 1000)\n// after 1 second logs \"undefined\"\n"})}),"\n",(0,t.jsx)(e.h3,{id:"explicit-invocation",children:"Explicit Invocation"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Apply"}),"/",(0,t.jsx)(e.code,{children:"Bind"}),"/",(0,t.jsx)(e.code,{children:"Call"})," Invocation:\n\u51fd\u6570\u5f15\u7528\u4e0d\u53ef\u4ee5\u6539\u53d8\u51fd\u6570\u5b9a\u4e49\u4f5c\u7528\u57df (scope), \u4f46\u53ef\u4ee5\u6539\u53d8\u51fd\u6570\u6267\u884c\u4f5c\u7528\u57df (context)."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"this.construct = Foo\nthis.construct(options)\n// =>\nFoo.call(this, options)\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"Function.call(contextObj, arg1, arg2, ...)"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"Function.apply(contextArray, [arg1, arg2, ...]/arguments)"})}),"\n",(0,t.jsx)(e.li,{children:"call \u6548\u7387\u9ad8\u4e8e apply."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"window.function.call()\nwindow.function.apply()\n// js\u89e3\u91ca\u5668\u4e34\u65f6\u5c06\u6570\u7ec4/\u5b57\u7b26\u4e32\u5305\u88c5\u6210\u5bf9\u8c61\u539f\u578b.\n;[].arrayStaticFunction.call()\n;[].arrayStaticFunction.apply()\nArray.prototype.arrayStaticFunction.call()\nArray.prototype.arrayStaticFunction.apply()\n''.stringStaticFunction.call()\n''.stringStaticFunction.apply()\nString.prototype.stringStaticFunction.call()\nString.prototype.stringStaticFunction.apply()\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u76f8\u5f53\u4e8e:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"context.function(arguments)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"explicit-bind-invocation",children:"Explicit Bind Invocation"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Change function runtime context (ignore innovation pattern ",(0,t.jsx)(e.code,{children:"function/method/new/call/apply"}),")."]}),"\n",(0,t.jsx)(e.li,{children:"Curry function."}),"\n",(0,t.jsxs)(e.li,{children:["Can't change ",(0,t.jsx)(e.code,{children:"this"})," in arrow function."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const boundFunc = func.bind(context, arg1, arg2, argN)\n"})}),"\n",(0,t.jsx)(e.h4,{id:"explicit-call-and-apply-invocation",children:"Explicit Call and Apply Invocation"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function bind(o, m) {\n  return function (...args) {\n    return m.apply(o, args)\n  }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const one = {\n  name: 'object',\n  say(greet) {\n    return `${greet}, ${this.name}`\n  },\n}\nconst two = { name: 'another object' }\nconst twoSay = bind(two, one.say)\n\ntwoSay('yo') // \"yo, another object\"\n"})}),"\n",(0,t.jsx)(e.h3,{id:"constructor-invocation",children:"Constructor Invocation"}),"\n",(0,t.jsxs)(e.p,{children:["Constructor invocation (",(0,t.jsx)(e.code,{children:"new"})," call):"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"this"})," \u7ed1\u5b9a\u81f3\u4f20\u5165\u7684\u7a7a\u5bf9\u8c61."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"new.target"})," \u5f15\u7528\u6784\u9020\u51fd\u6570."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function newConstructor(Func, ...args) {\n  // 1. \u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\n  const obj = {}\n  // 2. \u65b0\u5bf9\u8c61\u539f\u578b\u6307\u5411\u6784\u9020\u51fd\u6570\u539f\u578b\u5bf9\u8c61\n  obj[[proto]] = Func.prototype\n  // 3. \u5c06\u6784\u5efa\u51fd\u6570\u7684 `this` \u6307\u5411\u65b0\u5bf9\u8c61\n  const result = Func.apply(obj, args)\n  // 4. \u8fd4\u56de\u5bf9\u8c61\n  return result instanceof Object ? result : obj\n}\n"})}),"\n",(0,t.jsx)(e.admonition,{title:"Function Invocation Priority",type:"tip",children:(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"new"})," constructor invocation >\nexplicit invocation >\nimplicit invocation >\ndefault invocation."]})}),"\n",(0,t.jsx)(e.h3,{id:"arrow-function-invocation",children:"Arrow Function Invocation"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["No ",(0,t.jsx)(e.code,{children:"this"})," binding (",(0,t.jsx)(e.strong,{children:"lexical scope"}),"):","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"this"})," defined where arrow function defined (not called)."]}),"\n",(0,t.jsxs)(e.li,{children:["Not suited as method:\n",(0,t.jsx)(e.code,{children:"this"})," in arrow function bound to lexical scope, not bound to method receiver."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"apply"}),"/",(0,t.jsx)(e.code,{children:"call"}),"/",(0,t.jsx)(e.code,{children:"bind"})," can't change ",(0,t.jsx)(e.code,{children:"this"})," in arrow function."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["No ",(0,t.jsx)(e.code,{children:"arguments"})," binding (",(0,t.jsx)(e.strong,{children:"lexical scope"}),")."]}),"\n",(0,t.jsxs)(e.li,{children:["Not suited as ",(0,t.jsx)(e.code,{children:"new"})," constructor:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["No ",(0,t.jsx)(e.code,{children:"super"})," binding (",(0,t.jsx)(e.strong,{children:"lexical scope"}),")."]}),"\n",(0,t.jsxs)(e.li,{children:["No ",(0,t.jsx)(e.code,{children:"new.target"})," binding (",(0,t.jsx)(e.strong,{children:"lexical scope"}),")."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["No ",(0,t.jsx)(e.code,{children:"function.prototype"}),": arrow function ",(0,t.jsx)(e.code,{children:"prototype"})," property is ",(0,t.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["No ",(0,t.jsx)(e.code,{children:"yield"})," binding: \u7bad\u5934\u51fd\u6570\u4e0d\u80fd\u7528\u4f5c Generator \u51fd\u6570."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = {\n  foo() {\n    const inner = () => {\n      return this.value\n    }\n\n    return inner()\n  },\n}\n\nconst func = obj.foo\n\nobj.foo() // `this` in `inner` function refer to `obj`\nfunc() // `this` in `inner` function refer to `window`\n"})}),"\n",(0,t.jsx)(e.h3,{id:"this-binding-invocation",children:"This Binding Invocation"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{}),(0,t.jsxs)(e.th,{children:[(0,t.jsx)(e.code,{children:"function"})," Call"]}),(0,t.jsx)(e.th,{children:"Method Call"}),(0,t.jsxs)(e.th,{children:[(0,t.jsx)(e.code,{children:"new"})," Call"]})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Traditional ",(0,t.jsx)(e.code,{children:"function"})," (sloppy)"]}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"window"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:"instance"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Traditional ",(0,t.jsx)(e.code,{children:"function"})," (strict)"]}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:"instance"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Method (sloppy)"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"window"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Method (strict)"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Generator ",(0,t.jsx)(e.code,{children:"function"})," (sloppy)"]}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"window"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Generator ",(0,t.jsx)(e.code,{children:"function"})," (strict)"]}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Generator method (sloppy)"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"window"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Generator method (strict)"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"undefined"})}),(0,t.jsx)(e.td,{children:"receiver"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["Arrow ",(0,t.jsx)(e.code,{children:"function"})]}),(0,t.jsx)(e.td,{children:"lexical"}),(0,t.jsx)(e.td,{children:"lexical"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Class"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TypeError"})}),(0,t.jsx)(e.td,{children:"SC protocol"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"context-and-scope",children:"Context and Scope"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.a,{href:"https://juejin.cn/post/6844903682283143181",children:"\u6267\u884c\u4e0a\u4e0b\u6587"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u6bcf\u4e2a\u4e0a\u4e0b\u6587\u90fd\u6709\u4e00\u4e2a\u5173\u8054\u7684\u53d8\u91cf\u5bf9\u8c61 (",(0,t.jsx)(e.strong,{children:"Variable Object"}),"),\n\u8fd9\u4e2a\u4e0a\u4e0b\u6587\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u53d8\u91cf\u548c\u51fd\u6570\u90fd\u5b58\u5728\u4e8e\u8fd9\u4e2a\u5bf9\u8c61\u4e0a."]}),"\n",(0,t.jsxs)(e.li,{children:["\u6bcf\u4e2a\u6267\u884c\u73af\u5883\u62e5\u6709\u72ec\u7acb\u7684\u4f5c\u7528\u57df\u94fe, \u4f8b\u5982\u72ec\u7acb",(0,t.jsx)(e.strong,{children:"\u6d3b\u52a8\u5bf9\u8c61"})," -> \u72ec\u7acb\u5168\u5c40\u5bf9\u8c61:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"scope chain"})," -> ",(0,t.jsx)(e.code,{children:"(list) [0]\u6d3b\u52a8\u5bf9\u8c61"})," -> ",(0,t.jsx)(e.code,{children:"[1]\u5168\u5c40\u5bf9\u8c61"}),"."]}),"\n",(0,t.jsx)(e.li,{children:"ES6 Block Scope -> Function Scope -> Global Scope."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\u5168\u5c40\u4e0a\u4e0b\u6587\u4e2d\u5173\u8054\u7684\u53d8\u91cf\u5bf9\u8c61 (",(0,t.jsx)(e.strong,{children:"Variable Object"}),"), \u4f1a\u5728\u4ee3\u7801\u6267\u884c\u671f\u95f4\u59cb\u7ec8\u5b58\u5728."]}),"\n",(0,t.jsxs)(e.li,{children:["\u51fd\u6570\u4e0a\u4e0b\u6587\u5c06\u5176\u6d3b\u52a8\u5bf9\u8c61 (",(0,t.jsx)(e.strong,{children:"Activation Object"}),") \u7528\u4f5c\u53d8\u91cf\u5bf9\u8c61 (",(0,t.jsx)(e.strong,{children:"Variable Object"}),"):","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u6bcf\u6b21\u8fd0\u884c\u65f6,\n\u90fd\u4f1a\u65b0\u5efa\u6267\u884c\u73af\u5883\u4e0a\u4e0b\u6587\u4e0e\u4f5c\u7528\u57df\u94fe,\n\u6267\u884c\u5b8c\u540e\u9500\u6bc1\u4e0a\u4e0b\u6587\u4e0e\u4f5c\u7528\u57df\u94fe."}),"\n",(0,t.jsx)(e.li,{children:"\u5b58\u5728\u95ed\u5305\u65f6, \u51fd\u6570\u4e0a\u4e0b\u6587\u5173\u8054\u7684\u4f5c\u7528\u57df\u94fe\u4e2d\u88ab\u5f15\u7528\u7684\u6d3b\u52a8\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u9500\u6bc1."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\u53ef\u52a8\u6001\u6539\u53d8\u4f5c\u7528\u57df\u94fe\u7684\u8bed\u53e5:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"with"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"try catch"}),": \u5f02\u5e38\u5bf9\u8c61\u5165\u5217, \u4f4d\u4e8e\u4f5c\u7528\u57df\u94fe\u94fe\u9996."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function createComparisonFunction(propertyName) {\n  return function (object1, object2) {\n    const value1 = object1[propertyName]\n    const value2 = object2[propertyName]\n\n    if (value1 < value2)\n      return -1\n    else if (value1 > value2)\n      return 1\n    else\n      return 0\n  }\n}\n\nconst compare = createComparisonFunction('name')\nconst result = compare({ name: 'Nicholas' }, { name: 'Matt' })\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884c\u4e0a\u8ff0\u4ee3\u7801\u540e\u7684\u4e0a\u4e0b\u6587\u6808\u4e0e\u4f5c\u7528\u57df\u94fe\u5982\u4e0b\u56fe\u6240\u793a:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"Context Stack and Scope Chain",src:r(1640).A+"",title:"Context Stack and Scope Chain",width:"1383",height:"865"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"createComparisonFunction()"})," \u7684\u6d3b\u52a8\u5bf9\u8c61\u5e76\u4e0d\u80fd\u5728\u5b83\u6267\u884c\u5b8c\u6bd5\u540e\u9500\u6bc1,\n\u56e0\u4e3a\u533f\u540d\u51fd\u6570\u7684\u4f5c\u7528\u57df\u94fe\u4e2d\u4ecd\u7136\u5b58\u5728\u5bf9\u5b83\u7684\u5f15\u7528.\n\u5728 ",(0,t.jsx)(e.code,{children:"createComparisonFunction()"})," \u6267\u884c\u5b8c\u6bd5\u540e,\n\u5176\u6267\u884c\u4e0a\u4e0b\u6587\u7684\u4f5c\u7528\u57df\u94fe\u4f1a\u9500\u6bc1,\n\u4f46\u5b83\u7684\u6d3b\u52a8\u5bf9\u8c61\u4ecd\u7136\u4f1a\u4fdd\u7559\u5728\u5185\u5b58\u4e2d,\n\u76f4\u5230\u533f\u540d\u51fd\u6570\u88ab\u9500\u6bc1\u540e\u624d\u4f1a\u88ab\u9500\u6bc1."]}),"\n",(0,t.jsx)(e.h3,{id:"function-name",children:"Function Name"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u6240\u6709\u51fd\u6570\u5bf9\u8c61\u90fd\u4f1a\u66b4\u9732\u4e00\u4e2a\u53ea\u8bfb\u7684 ",(0,t.jsx)(e.code,{children:"name"})," \u5c5e\u6027, \u5176\u4e2d\u5305\u542b\u5173\u4e8e\u51fd\u6570\u7684\u4fe1\u606f."]}),"\n",(0,t.jsxs)(e.li,{children:["The spec operation\n",(0,t.jsx)(e.a,{href:"https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-setfunctionname",children:(0,t.jsx)(e.code,{children:"SetFunctionName(F, name, [, prefix])"})}),"\nsets up function ",(0,t.jsx)(e.code,{children:"name"}),":","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Getters and setters get prefixes ",(0,t.jsx)(e.code,{children:"get"})," and ",(0,t.jsx)(e.code,{children:"set"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"Function.prototype.bind()"})," get prefix ",(0,t.jsx)(e.code,{children:"bound"}),"."]}),"\n",(0,t.jsx)(e.li,{children:"Function declaration name are set up when entering a scope (hoisted)."}),"\n",(0,t.jsxs)(e.li,{children:["Named function expression name are set up via ",(0,t.jsx)(e.code,{children:"SetFunctionName()"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Arrow function and anonymous function expression name aren't set up\n(",(0,t.jsx)(e.code,{children:"SetFunctionName()"})," is not invoked)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function foo() {}\nconst bar = function () {}\nfunction baz() {}\n\nconsole.log(foo.name) // foo\nconsole.log(bar.name) // bar\nconsole.log(baz.name) // baz\nconsole.log((() => {}).name) // (\u7a7a\u5b57\u7b26\u4e32)\n// eslint-disable-next-line no-new-func\nconsole.log(new Function().name) // anonymous\nconsole.log(foo.bind(null).name) // bound foo\n\nconst dog = {\n  years: 1,\n\n  get age() {\n    return this.years\n  },\n\n  set age(newAge) {\n    this.years = newAge\n  },\n}\n\nconst propertyDescriptor = Object.getOwnPropertyDescriptor(dog, 'age')\nconsole.log(propertyDescriptor.get.name) // get age\nconsole.log(propertyDescriptor.set.name) // set age\n"})}),"\n",(0,t.jsx)(e.h3,{id:"function-prototype",children:"Function Prototype"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u5b9e\u4f8b\u5316\u5bf9\u8c61\u6ca1\u6709 prototype \u5c5e\u6027"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709 ",(0,t.jsx)(e.code,{children:"prototype"})," \u5c5e\u6027."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"prototype"})," \u5c5e\u6027\u6307\u5411\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61 (\u7531 JS \u5f15\u64ce\u81ea\u52a8\u521b\u5efa)."]}),"\n",(0,t.jsxs)(e.li,{children:["\u6bcf\u4e2a\u51fd\u6570\u7684 ",(0,t.jsx)(e.code,{children:"__proto__"})," \u90fd\u6307\u5411 ",(0,t.jsx)(e.code,{children:"Function.prototype"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"function-arguments",children:"Function Arguments"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u7684\u53c2\u6570\u5728\u5185\u90e8\u8868\u73b0\u4e3a\u4e00\u4e2a\u6570\u7ec4:\n\u51fd\u6570\u4e0d\u5173\u5fc3\u53c2\u6570\u4e2a\u6570\u4e0e\u53c2\u6570\u7c7b\u578b, \u4e0d\u5b58\u5728\u9a8c\u8bc1\u547d\u540d\u53c2\u6570\u7684\u673a\u5236."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"arguments"})," \u4e0d\u662f\u771f\u6b63\u7684\u6570\u7ec4, \u4f46\u6709 ",(0,t.jsx)(e.code,{children:"length"})," \u5c5e\u6027 (\u5b9e\u53c2\u4e2a\u6570)."]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"arguments-callee",children:"Arguments Callee"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5f15\u7528 arguments \u6240\u5c5e function, \u53ef\u4ee5\u5229\u7528 callee \u5b9e\u73b0\u533f\u540d\u9012\u5f52\u51fd\u6570."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"arguments.callee.length"}),": \u5373 ",(0,t.jsx)(e.code,{children:"function.length"}),", \u5f62\u53c2\u4e2a\u6570."]}),"\n",(0,t.jsxs)(e.li,{children:["\u4e25\u683c\u6a21\u5f0f\u4e0b\u7981\u6b62\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"arguments.callee"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"try {\n  // eslint-disable-next-line no-caller\n  if (arguments.length !== arguments.callee.length)\n    throw new Error('\u4f20\u9012\u7684\u53c2\u6570\u4e2a\u6570\u4e0d\u5339\u914d')\n} catch (err) {\n  console.log(err)\n  return this\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"function-parameters",children:"Function Parameters"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6240\u6709\u51fd\u6570\u53c2\u6570\u90fd\u662f\u6309\u503c\u4f20\u9012 (\u590d\u5236\u539f\u5b50\u503c/\u5f15\u7528\u503c)."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"function.length"}),":\n",(0,t.jsx)(e.strong,{children:"number of parameters"})," before the first one with a default value."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u65e0\u526f\u4f5c\u7528"}),"\u7684\u51fd\u6570: \u6ce8\u610f\u662f\u5426\u9700\u8981\u62f7\u8d1d\u4f20\u5165\u5bf9\u8c61, \u4f7f\u539f\u6709\u5bf9\u8c61\u4e0d\u53d7\u51fd\u6570\u5f71\u54cd, \u5e76\u8fd4\u56de\u65b0\u5bf9\u8c61."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = {\n  value: 2,\n}\n\nfunction setValueEffect(obj, val) {\n  obj.value = val\n  return obj\n}\n\nfunction setValuePure(obj, val) {\n  const instance = extend({}, obj, { value: val })\n  return instance\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"default-parameter",children:"Default Parameter"}),"\n",(0,t.jsx)(e.p,{children:"\u9ed8\u8ba4\u53c2\u6570:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9ed8\u8ba4\u53c2\u6570\u53ef\u4ee5\u4f7f\u7528\u539f\u5b50\u503c/\u5bf9\u8c61\u503c/\u51fd\u6570\u8fd4\u56de\u503c."}),"\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u8c03\u7528\u4e14\u672a\u4f20\u53c2\u65f6, \u9ed8\u8ba4\u53c2\u6570\u624d\u4f1a\u8fdb\u884c\u6c42\u503c."}),"\n",(0,t.jsx)(e.li,{children:"\u9ed8\u8ba4\u53c2\u6570\u6309\u7167\u4ece\u5de6\u5f80\u53f3\u7684\u987a\u5e8f\u8fdb\u884c\u6c42\u503c."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Mark required parameters via a function that throws an exception\nfunction foo(required = throwException()) {}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"rest-parameter",children:"Rest Parameter"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Rest parameter is array containing all remaining arguments."}),"\n",(0,t.jsxs)(e.li,{children:["Rest parameter can only be ",(0,t.jsx)(e.strong,{children:"last"})," parameter."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Enforcing a maximum parameters\nfunction f(x, y, ...empty) {\n  if (empty.length > 0)\n    throw new Error('Redundant parameters!')\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"function-declaration",children:"Function Declaration"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u58f0\u660e\u63d0\u5347: \u51fd\u6570\u58f0\u660e\u4f1a\u5728\u4ee3\u7801\u6267\u884c\u4e4b\u524d\u83b7\u5f97\u5b9a\u4e49."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"console.log(foo.name)\n\n// Function Declaration \u51fd\u6570\u58f0\u660e:\nfunction foo() {}\n\nconst obj = {\n  say: function say() {},\n}\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u58f0\u660e\u5bf9\u4e8e\u51fd\u6570\u5185\u90e8\u800c\u8a00\u65e0\u6cd5\u4fee\u6539:"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const b = 10\n;(function b() {\n  b = 20\n  console.log(b)\n})()\n\n// print out function b { ... }\n"})}),"\n",(0,t.jsx)(e.h3,{id:"function-expression",children:"Function Expression"}),"\n",(0,t.jsx)(e.p,{children:"\u4efb\u4f55\u65f6\u5019,\n\u53ea\u8981\u51fd\u6570\u88ab\u5f53\u4f5c\u503c\u6765\u4f7f\u7528,\n\u5b83\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u8868\u8fbe\u5f0f:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// \u51fd\u6570\u8868\u8fbe\u5f0f:\nconst foo = function foo() {}\n\n// `function f() {}` \u662f\u547d\u540d\u51fd\u6570\u8868\u8fbe\u5f0f:\nconst factorial = function f(num) {\n  if (num <= 1)\n    return 1\n  else\n    return num * f(num - 1)\n}\n"})}),"\n",(0,t.jsxs)(e.p,{children:["The name ",(0,t.jsx)(e.code,{children:"funcExpr"})," only exists inside the function body:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const func = function funcExpr() {\n  return funcExpr\n}\n\nassert.equal(func(), func)\nassert.throws(() => funcExpr(), ReferenceError)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"immediately-invoked-function-expression",children:"Immediately Invoked Function Expression"}),"\n",(0,t.jsx)(e.h4,{id:"iife-pattern",children:"IIFE Pattern"}),"\n",(0,t.jsx)(e.p,{children:"\u7acb\u5373\u51fd\u6570\u6a21\u5f0f, \u901a\u8fc7\u8c03\u7528\u7acb\u5373\u533f\u540d\u51fd\u6570,\n\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61, \u66b4\u9732\u516c\u5171\u63a5\u53e3 (Exposed to Public):"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["IIFE Syntax:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u8868\u8fbe\u5f0f."}),"\n",(0,t.jsx)(e.li,{children:"\u672b\u5c3e\u6dfb\u52a0\u62ec\u53f7(\u4f20\u53c2), \u4f7f\u51fd\u6570\u7acb\u5373\u6267\u884c."}),"\n",(0,t.jsx)(e.li,{children:"\u5c06\u6574\u4e2a\u51fd\u6570\u7f6e\u4e8e\u62ec\u53f7\u5185."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:"\u95ed\u5305: \u5b9a\u4e49\u79c1\u6709\u53d8\u91cf\u4e0e\u7279\u6743\u65b9\u6cd5."}),"\n",(0,t.jsx)(e.li,{children:"\u8fd4\u56de\u5bf9\u8c61: \u5373\u4f7f\u901a\u8fc7\u5916\u90e8\u4ee3\u7801\u6539\u53d8\u8fd4\u56de\u5bf9\u8c61\u7684\u63a5\u53e3, \u4e5f\u4e0d\u4f1a\u5f71\u54cd\u539f\u63a5\u53e3."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:";(function () {\n  console.log('watch out')\n})()\n"})}),"\n",(0,t.jsx)(e.h4,{id:"iife-return-value",children:"IIFE Return Value"}),"\n",(0,t.jsx)(e.p,{children:"Left hand side \u4e0d\u88ab\u8d4b\u4e88 function \u503c, \u800c\u88ab\u8d4b\u4e88\u51fd\u6570\u6267\u884c\u540e\u7684\u8fd4\u56de\u503c:\n\u6b64\u8fd4\u56de\u503c\u53ef\u8bbe\u4e3a\u51fd\u6570, \u53ef\u4ea7\u751f\u95ed\u5305."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const getResult = (function () {\n  const res = 2 + 2\n  return function () {\n    return res\n  }\n})()\n"})}),"\n",(0,t.jsx)(e.h4,{id:"iife-usage",children:"IIFE Usage"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u5f97\u533f\u540d\u51fd\u6570\u5185\u90e8\u7684\u4ee3\u7801\u80fd\u591f\u7acb\u5373\u6267\u884c."}),"\n",(0,t.jsx)(e.li,{children:"\u4e0d\u6cc4\u6f0f\u53ea\u4f7f\u7528\u4e00\u6b21\u7684\u5c40\u90e8\u53d8\u91cf\u4e0e\u65b9\u6cd5."}),"\n",(0,t.jsx)(e.li,{children:"\u521b\u5efa\u547d\u540d\u7a7a\u95f4, \u9632\u6b62\u53d8\u91cf\u547d\u540d\u51b2\u7a81."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const obj = (function () {\n  // private member\n  let name = 'tazimi'\n\n  // private method\n  // excluded in return object\n\n  // privileged method\n  function getName() {\n    return name\n  }\n\n  function setName(n) {\n    if (typeof n === 'string')\n      name = n\n\n    return this\n  }\n\n  // public method\n  function logName() {\n    console.log(name)\n  }\n\n  // \u95ed\u5305\n  // \u516c\u5171\u63a5\u53e3: \u7279\u6743/\u516c\u5171\u65b9\u6cd5\n  return {\n    // \u7279\u6743\u65b9\u6cd5\n    getName,\n    setName,\n\n    // \u516c\u5171\u65b9\u6cd5\n    log: logName,\n  }\n})()\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const App = App || {}\nApp.utils = {}\n;(function () {\n  let val = 5\n\n  this.getValue = function () {\n    return val\n  }\n\n  this.setValue = function (newVal) {\n    val = newVal\n  }\n\n  // also introduce a new sub-namespace\n  this.tools = {}\n}).apply(App.utils)\n\n// inject new behavior into the tools namespace\n// which we defined via the utilities module\n;(function () {\n  this.diagnose = function () {\n    return 'diagnosis'\n  }\n}).apply(App.utils.tools)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"tail-call-optimization",children:"Tail Call Optimization"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Tail call optimization only work in strict mode\ndue to ",(0,t.jsx)(e.code,{children:"func.arguments"})," and ",(0,t.jsx)(e.code,{children:"func.caller"})," (forbidden in strict mode):\n",(0,t.jsx)(e.code,{children:"func.arguments"})," and ",(0,t.jsx)(e.code,{children:"func.caller"})," will reference outer function stack frame,\nso can't reduce outer function stack frame."]}),"\n",(0,t.jsx)(e.li,{children:"Tail call optimization reduce function stack frame."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Following function is not tail recursive:\nfunction factorial(x) {\n  if (x <= 0)\n    return 1\n  else\n    return x * factorial(x - 1) // (A): Not tail position.\n}\n\nfunction factorial(n) {\n  return facRec(n, 1)\n}\n\n// Following function is tail recursive:\nfunction facRec(x, acc) {\n  if (x <= 1)\n    return acc\n  else\n    return facRec(x - 1, x * acc) // (A): Tail position.\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"closure",children:"Closure"}),"\n",(0,t.jsxs)(e.p,{children:["Closure is a ",(0,t.jsx)(e.strong,{children:"function"}),"\nthat remembers the variables from the place where it is defined (lexical scope),\nregardless of where it is executed later:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u5916\u90e8\u4e0d\u53ef\u5bf9\u51fd\u6570\u5185\u90e8\u8fdb\u884c\u8d4b\u503c\u6216\u5f15\u7528."}),"\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u4e2d\u7684\u95ed\u5305\u51fd\u6570\u53ef\u5bf9\u51fd\u6570\u8fdb\u884c\u8d4b\u503c\u6216\u5f15\u7528 (\u51fd\u6570\u5bf9\u4e8e\u95ed\u5305\u6765\u8bf4\u662f\u5916\u90e8, \u5373\u5185\u90e8\u5f15\u7528\u5916\u90e8)."}),"\n",(0,t.jsx)(e.li,{children:"\u7279\u6743\u6027\u8d28 (Private Getter): \u4ece\u5916\u90e8\u901a\u8fc7\u95ed\u5305\u65b9\u6cd5\u8bbf\u95ee\u5185\u90e8 (\u51fd\u6570\u4f5c\u7528\u57df) \u5c40\u90e8\u53d8\u91cf."}),"\n",(0,t.jsx)(e.li,{children:"Local Scope -> Outer Functions Scope -> Global Scope."}),"\n",(0,t.jsx)(e.li,{children:"\u95ed\u5305\u4e2d\u7684\u53d8\u91cf\u5168\u90e8\u4fdd\u5b58\u5728\u5806\u5185\u5b58\u4e2d, \u9632\u6b62\u51fd\u6570\u7ed3\u675f\u540e\u53d8\u91cf\u5185\u5b58\u88ab\u81ea\u52a8\u56de\u6536."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// global scope\nconst e = 10\n\nfunction sum(a) {\n  return function (b) {\n    return function (c) {\n      // outer functions scope\n      return function (d) {\n        // local scope\n        return a + b + c + d + e\n      }\n    }\n  }\n}\n\nconsole.log(sum(1)(2)(3)(4)) // log 20\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// BAD\nfunction MyObject(name, message) {\n  this.name = name.toString()\n  this.message = message.toString()\n  this.getName = function () {\n    return this.name\n  }\n\n  this.getMessage = function () {\n    return this.message\n  }\n}\n\n// GOOD: avoid unnecessary\nfunction MyObject(name, message) {\n  this.name = name.toString()\n  this.message = message.toString()\n}\nMyObject.prototype.getName = function () {\n  return this.name\n}\nMyObject.prototype.getMessage = function () {\n  return this.message\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"closure-structure",children:"Closure Structure"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f18\u5148\u7ea7: this > \u5c40\u90e8\u53d8\u91cf > \u5f62\u53c2 > arguments > \u51fd\u6570\u540d."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"innerFunc()"})," has access to ",(0,t.jsx)(e.code,{children:"outerVar"})," from its lexical scope,\neven being ",(0,t.jsx)(e.strong,{children:"executed outside of its lexical scope"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"function outerFunc() {\n  const outerVar = 'I am outside!'\n\n  function innerFunc() {\n    console.log(outerVar) // => logs \"I am outside!\"\n  }\n\n  return innerFunc\n}\n\nconst myInnerFunc = outerFunc()\nmyInnerFunc()\n"})}),"\n",(0,t.jsx)(e.h4,{id:"closure-usage",children:"Closure Usage"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u95ed\u5305\u5b9e\u73b0\u5c01\u88c5."}),"\n",(0,t.jsx)(e.li,{children:"\u95ed\u5305\u5b9e\u73b0\u79c1\u6709\u5c5e\u6027\u4e0e\u65b9\u6cd5."}),"\n",(0,t.jsx)(e.li,{children:"\u95ed\u5305\u5b9e\u73b0\u5de5\u5382\u65b9\u6cd5."}),"\n",(0,t.jsx)(e.li,{children:"\u95ed\u5305\u5b9e\u73b0\u5bf9\u8c61\u7f13\u5b58."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const createLoginLayer = (function (creator) {\n  let singleton\n\n  return function () {\n    if (!singleton)\n      singleton = creator()\n    return singleton\n  }\n})(loginCreator)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const { called } = new (class {\n  count = 0\n  called = () => {\n    this.count++\n    console.log(`Called : ${this.count}`)\n  }\n})()\n\ncalled() // Called : 1\ncalled() // Called : 2\n"})}),"\n",(0,t.jsx)(e.h3,{id:"callback-function",children:"Callback Function"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// check if callback is callable\nif (typeof callback !== 'function')\n  callback = false\n\n// now callback:\nif (callback)\n  callback()\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const findNodes = function (callback) {\n  let i = 100000\n  const nodes = []\n  let found\n\n  // check if callback is callable\n  if (typeof callback !== 'function')\n    callback = false\n\n  while (i) {\n    i -= 1\n\n    // now callback:\n    if (callback)\n      callback(found)\n\n    nodes.push(found)\n  }\n\n  return nodes\n}\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5f53\u56de\u8c03\u51fd\u6570\u4e3a\u5bf9\u8c61\u65b9\u6cd5\u65f6 (\u7279\u522b\u65f6\u65b9\u6cd5\u4e2d\u4f7f\u7528 this \u6307\u9488),\n\u9700\u540c\u65f6\u4f20\u5165\u5bf9\u8c61\u53c2\u6570,\n\u5e76\u5229\u7528 ",(0,t.jsx)(e.code,{children:"apply/call"})," \u6539\u53d8\u6267\u884c\u73af\u5883."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const findNodes = function (callbackObj, callback) {\n  if (typeof callback === 'function')\n    callback.call(callbackObj, found)\n}\n\nconst findNodes = function (callbackObj, callback) {\n  if (typeof callback === 'string')\n    callback = callbackObj[callback]\n\n  if (typeof callback === 'function')\n    callback.call(callbackObj, found)\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"lazy-function-definition",children:"Lazy Function Definition"}),"\n",(0,t.jsx)(e.p,{children:"Lazy Function Definition (Self-Defining Function):"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7b2c\u4e00\u6b21\u6267\u884c\u65f6,\u8fdb\u884c\u521d\u59cb\u5316\u5e76\u91cd\u65b0\u5b9a\u4e49\u51fd\u6570\u53d8\u91cf."}),"\n",(0,t.jsx)(e.li,{children:"\u7b2c\u4e8c\u6b21\u6267\u884c\u65f6,\u4e0d\u518d\u8fdb\u884c\u521d\u59cb\u5316(\u51fd\u6570\u88ab\u91cd\u5b9a\u4e49\u81f3\u771f\u6b63\u51fd\u6570)."}),"\n",(0,t.jsxs)(e.li,{children:["\u7b2c\u4e00\u6b21\u6267\u884c\u4e3a promise, \u5c06\u91cd\u590d\u4f7f\u7528\u7684\u90e8\u5206\u8fdb\u884c\u521d\u59cb\u5316, \u4e4b\u540e\u7684\u8c03\u7528\u4e0d\u518d\u6d6a\u8d39\u65b0\u7a7a\u95f4, ",(0,t.jsx)(e.strong,{children:"\u63d0\u5347\u6027\u80fd"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// definition\nlet foo = function () {\n  // initialize code;\n  const t = new Date()\n\n  foo = function () {\n    return t\n  }\n\n  // \u4f7f\u5f97\u7b2c\u4e00\u6b21\u8c03\u7528\u53ef\u4ee5\u4ea7\u751f\u9884\u671f\u503c,\u4fdd\u8bc1\u6bcf\u6b21\u8c03\u7528\u7684\u884c\u4e3a\u4fdd\u6301\u4e00\u81f4\n  return foo()\n}\n\n// first run: same behavior as second run\nconsole.log(foo()) // t\n// second run\nconsole.log(foo()) // t\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"let addEvent = function (el, type, handle) {\n  addEvent = el.addEventListener\n    ? function (el, type, handle) {\n      el.addEventListener(type, handle, false)\n    }\n    : function (el, type, handle) {\n      el.attachEvent(`on${type}`, handle)\n    }\n\n  // \u4fdd\u6301\u6bcf\u6b21\u8c03\u7528\u5bf9\u5916\u8868\u73b0\u884c\u4e3a\u4e00\u81f4\n  addEvent(el, type, handle)\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"polymorphism-function",children:"Polymorphism Function"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"const greet = function greet(options, ...rest) {\n  // \u8fd0\u7528 if/switch \u65b9\u6cd5\u5206\u60c5\u51b5\u8c03\u7528\u51fd\u6570, \u5b9e\u73b0\u591a\u6001\u65b9\u6cd5.\n  if (typeof options === 'string' && typeof methods[options] === 'function') {\n    // \u65b9\u6cd5\u96c6\u4e2d\u542b\u6709\u6b64\u65b9\u6cd5:\n    return methods[options](...rest)\n  }\n}\n"})}),"\n",(0,t.jsxs)(e.admonition,{title:"\u591a\u6001\u4e0e\u9762\u5411\u5bf9\u8c61",type:"tip",children:[(0,t.jsx)(e.p,{children:"\u591a\u6001\u6700\u6839\u672c\u7684\u4f5c\u7528:\n\u901a\u8fc7\u628a\u8fc7\u7a0b\u5316\u7684\u6761\u4ef6\u5206\u652f\u8bed\u53e5\u8f6c\u5316\u4e3a\u5bf9\u8c61\u7684\u591a\u6001\u6027,\n\u4ece\u800c\u6d88\u9664\u6761\u4ef6\u5206\u652f\u8bed\u53e5."}),(0,t.jsx)(e.p,{children:"\u6bcf\u4e2a\u5bf9\u8c61\u7684\u804c\u8d23, \u6210\u4e3a\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u4e0e\u65b9\u6cd5,\n\u88ab\u5b89\u88c5\u5728\u5bf9\u8c61\u5185\u90e8, \u6bcf\u4e2a\u5bf9\u8c61\u8d1f\u8d23\u5b83\u4eec\u81ea\u5df1\u7684\u884c\u4e3a.\n\u8fd9\u4e9b\u5bf9\u8c61\u53ef\u4ee5\u6839\u636e\u540c\u4e00\u4e2a\u6d88\u606f, \u6709\u6761\u4e0d\u7d0a\u5730\u5206\u522b\u8fdb\u884c\u5404\u81ea\u7684\u5de5\u4f5c."})]}),"\n",(0,t.jsx)(e.h3,{id:"eval-function",children:"Eval Function"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u4e0d\u8981\u4f7f\u7528",(0,t.jsx)(e.code,{children:"eval()"}),"\u51fd\u6570"]}),"\n",(0,t.jsxs)(e.li,{children:["\u4e0d\u8981\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u53c2\u6570 new Function();(\u4f1a\u8c03\u7528",(0,t.jsx)(e.code,{children:"eval"}),"\u51fd\u6570)"]}),"\n",(0,t.jsxs)(e.li,{children:["\u4e0d\u8981\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c",(0,t.jsx)(e.code,{children:"setTimeOut"}),"/",(0,t.jsx)(e.code,{children:"setInterval"}),"\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570(\u4f1a\u8c03\u7528",(0,t.jsx)(e.code,{children:"eval"}),"\u51fd\u6570)"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"// Anti-pattern:\nconst property = 'name'\n// eslint-disable-next-line no-eval\nalert(eval(`obj.${property}`))\n// Preferred:\nconst property = 'name'\nalert(obj[property])\n\n// Anti-pattern:\n// eslint-disable-next-line no-implied-eval\nsetTimeout('myFunc()', 1000)\n// eslint-disable-next-line no-implied-eval\nsetTimeout('myFunc(1, 2, 3)', 1000)\n\n// Preferred:\nsetTimeout(myFunc, 1000)\nsetTimeout(() => {\n  myFunc(1, 2, 3)\n}, 1000)\n"})})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},9945:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/ClassInheritance-af68b0adf0b394f97d163fa4d2de226f.png"},1640:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/ContextStackAndScopeChain-1fe54b80b91bd079b55a126e7d2fec4a.png"},4262:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/GlobalScope-1c99e41217be6d08f2578d375fd7efd2.png"},4031:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/Prototype-2fb1355f96dd47bebb2d6eee1fd30081.png"},4110:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/TC39-2ca35cdaa1f11b496ccd99fa708ef6de.png"},842:(n,e,r)=>{r.d(e,{R:()=>l,x:()=>c});var s=r(8101);const t={},i=s.createContext(t);function l(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);