"use strict";(self.webpackChunkawesome_notes=self.webpackChunkawesome_notes||[]).push([[8009],{1682:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Web/Security/SecurityBasicNotes","title":"Security Basic Notes","description":"Security Programming","source":"@site/notes/Web/Security/SecurityBasicNotes.md","sourceDirName":"Web/Security","slug":"/Web/Security/SecurityBasicNotes","permalink":"/awesome-notes/Web/Security/SecurityBasicNotes","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/awesome-notes/edit/main/notes/Web/Security/SecurityBasicNotes.md","tags":[{"inline":true,"label":"Web","permalink":"/awesome-notes/tags/web"},{"inline":true,"label":"DevOps","permalink":"/awesome-notes/tags/dev-ops"},{"inline":true,"label":"Security","permalink":"/awesome-notes/tags/security"}],"version":"current","lastUpdatedBy":"renovate[bot]","lastUpdatedAt":1732127335000,"frontMatter":{"author":"Sabertazimi","authorTitle":"Web Developer","authorURL":"https://github.com/sabertazimi","authorImageURL":"https://github.com/sabertazimi.png","tags":["Web","DevOps","Security"]},"sidebar":"tutorialSidebar","previous":{"title":"Redux Basic Notes","permalink":"/awesome-notes/Web/React/ReduxBasicNotes"},"next":{"title":"Vue Advanced Notes","permalink":"/awesome-notes/Web/Vue/VueAdvancedNotes"}}');var l=i(5105),c=i(842);const r={author:"Sabertazimi",authorTitle:"Web Developer",authorURL:"https://github.com/sabertazimi",authorImageURL:"https://github.com/sabertazimi.png",tags:["Web","DevOps","Security"]},t="Security Basic Notes",d={},o=[{value:"Security Programming",id:"security-programming",level:2},{value:"Security Principles",id:"security-principles",level:3},{value:"Software Security Assurance",id:"software-security-assurance",level:3},{value:"Defensive Programming",id:"defensive-programming",level:3},{value:"Security Headers",id:"security-headers",level:3},{value:"Same Origin Policy",id:"same-origin-policy",level:3},{value:"Content Security Policy",id:"content-security-policy",level:3},{value:"Trusted Types",id:"trusted-types",level:3},{value:"Sandbox",id:"sandbox",level:3},{value:"Snapshot Sandbox",id:"snapshot-sandbox",level:4},{value:"Proxy Sandbox",id:"proxy-sandbox",level:4},{value:"Iframe Sandbox",id:"iframe-sandbox",level:4},{value:"Crypto",id:"crypto",level:3},{value:"User Privacy",id:"user-privacy",level:3},{value:"Browser Privacy Detection",id:"browser-privacy-detection",level:4},{value:"User Fingerprint",id:"user-fingerprint",level:4},{value:"Security Vulnerability",id:"security-vulnerability",level:2},{value:"XSS",id:"xss",level:3},{value:"XSS Attack",id:"xss-attack",level:4},{value:"XSS Protection",id:"xss-protection",level:4},{value:"CSRF",id:"csrf",level:3},{value:"CSRF Attack",id:"csrf-attack",level:4},{value:"CSRF Protection",id:"csrf-protection",level:4},{value:"Click Jacking",id:"click-jacking",level:3},{value:"Click Jacking Attack",id:"click-jacking-attack",level:4},{value:"Click Jacking Protection",id:"click-jacking-protection",level:4},{value:"SQL Injection",id:"sql-injection",level:3},{value:"SQL Injection Attack",id:"sql-injection-attack",level:4},{value:"SQL Injection Protection",id:"sql-injection-protection",level:4},{value:"Command Injection",id:"command-injection",level:3},{value:"Command Injection Attack",id:"command-injection-attack",level:4},{value:"Command Injection Protection",id:"command-injection-protection",level:4},{value:"HTTP Injection",id:"http-injection",level:3},{value:"Malicious Redirect Attack",id:"malicious-redirect-attack",level:4},{value:"Malicious Redirect Protection",id:"malicious-redirect-protection",level:4},{value:"HTTP Header Injection Attack",id:"http-header-injection-attack",level:4},{value:"HTTP Header Injection Protection",id:"http-header-injection-protection",level:4},{value:"Object Injection",id:"object-injection",level:3},{value:"Object Injection Attack",id:"object-injection-attack",level:4},{value:"Insecure Object Comparison",id:"insecure-object-comparison",level:4},{value:"File Upload Injection",id:"file-upload-injection",level:3},{value:"File Upload Attack",id:"file-upload-attack",level:4},{value:"File Upload Protection",id:"file-upload-protection",level:4},{value:"Authentication Vulnerability",id:"authentication-vulnerability",level:3},{value:"Password Attack",id:"password-attack",level:4},{value:"Password Protection",id:"password-protection",level:4},{value:"User Enumeration Attack",id:"user-enumeration-attack",level:4},{value:"User Enumeration Protection",id:"user-enumeration-protection",level:4},{value:"User API Protection",id:"user-api-protection",level:5},{value:"Login Protection",id:"login-protection",level:5},{value:"Sign Up and Reset Protection",id:"sign-up-and-reset-protection",level:5},{value:"Session Vulnerability",id:"session-vulnerability",level:3},{value:"Session Hijacking Protection",id:"session-hijacking-protection",level:4},{value:"Session Fixation Protection",id:"session-fixation-protection",level:4},{value:"Directory Traversal",id:"directory-traversal",level:3},{value:"Directory Traversal Attack",id:"directory-traversal-attack",level:4},{value:"Directory Traversal Protection",id:"directory-traversal-protection",level:4},{value:"Information Leakage",id:"information-leakage",level:3},{value:"Information Leakage Attack",id:"information-leakage-attack",level:4},{value:"Information Leakage Protection",id:"information-leakage-protection",level:4},{value:"Supply Chain Vulnerability",id:"supply-chain-vulnerability",level:3},{value:"Supply Chain Attack",id:"supply-chain-attack",level:4},{value:"Supply Chain Protection",id:"supply-chain-protection",level:4},{value:"Malicious Package Attack",id:"malicious-package-attack",level:4},{value:"Malicious Package Protection",id:"malicious-package-protection",level:4},{value:"XML Vulnerability",id:"xml-vulnerability",level:3},{value:"XML Attack",id:"xml-attack",level:4},{value:"XML Protection",id:"xml-protection",level:4},{value:"Denial of Service",id:"denial-of-service",level:3},{value:"DoS Attack",id:"dos-attack",level:4},{value:"DoS Protection",id:"dos-protection",level:4},{value:"DDoS Attack",id:"ddos-attack",level:4},{value:"DDoS Protection",id:"ddos-protection",level:4},{value:"ReDoS Attack",id:"redos-attack",level:4},{value:"ReDoS Protection",id:"redos-protection",level:4},{value:"Zero Trust Access Control",id:"zero-trust-access-control",level:2},{value:"Chain of Trust",id:"chain-of-trust",level:3},{value:"Identity 2.0",id:"identity-20",level:3},{value:"Continuous Access Control",id:"continuous-access-control",level:3},{value:"Zero Trust Basement",id:"zero-trust-basement",level:3},{value:"Security Checklist",id:"security-checklist",level:2},{value:"Access Control System Checklist",id:"access-control-system-checklist",level:3},{value:"Authentication Checklist",id:"authentication-checklist",level:3},{value:"Mobile Application Checklist",id:"mobile-application-checklist",level:3},{value:"Server Configuration Checklist",id:"server-configuration-checklist",level:3},{value:"Client Input Checklist",id:"client-input-checklist",level:3},{value:"Operation Checklist",id:"operation-checklist",level:3},{value:"Teamwork Checklist",id:"teamwork-checklist",level:3},{value:"Security Reference",id:"security-reference",level:2}];function a(e){const n={a:"a",admonition:"admonition",annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",input:"input",li:"li",math:"math",mo:"mo",mrow:"mrow",mtext:"mtext",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"security-basic-notes",children:"Security Basic Notes"})}),"\n",(0,l.jsx)(n.h2,{id:"security-programming",children:"Security Programming"}),"\n",(0,l.jsx)(n.h3,{id:"security-principles",children:"Security Principles"}),"\n",(0,l.jsx)(n.p,{children:"\u5b89\u5168\u4e09\u8981\u7d20:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u673a\u5bc6\u6027 (Confidentiality)."}),"\n",(0,l.jsx)(n.li,{children:"\u5b8c\u6574\u6027 (Integrity)."}),"\n",(0,l.jsx)(n.li,{children:"\u53ef\u7528\u6027 (Availability)."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5b89\u5168\u539f\u5219:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u767d\u540d\u5355\u539f\u5219:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u9632\u706b\u5899\u767d\u540d\u5355: \u9ed8\u8ba4\u53ea\u5f00\u653e ",(0,l.jsx)(n.code,{children:"80"})," \u4e0e ",(0,l.jsx)(n.code,{children:"443"})," \u7aef\u53e3."]}),"\n",(0,l.jsxs)(n.li,{children:["XSS \u9632\u5fa1\u767d\u540d\u5355: \u5bcc\u6587\u672c\u7f16\u8f91\u5668\u53ea\u5141\u8bb8 ",(0,l.jsx)(n.code,{children:"<a>"})," \u4e0e ",(0,l.jsx)(n.code,{children:"<img>"})," \u6807\u7b7e."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u6700\u5c0f\u6743\u9650\u539f\u5219."}),"\n",(0,l.jsxs)(n.li,{children:["\u7eb5\u6df1\u9632\u5fa1\u539f\u5219:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Web \u5e94\u7528\u5b89\u5168."}),"\n",(0,l.jsx)(n.li,{children:"\u7f51\u7edc\u73af\u5883\u5b89\u5168."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u5e93\u5b89\u5168."}),"\n",(0,l.jsx)(n.li,{children:"OS \u7cfb\u7edf\u5b89\u5168."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u6570\u636e\u4e0e\u4ee3\u7801\u5206\u79bb\u539f\u5219:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7f13\u51b2\u533a\u6ea2\u51fa\u6f0f\u6d1e: \u6df7\u6dc6\u4ee3\u7801\u4e0e\u6570\u636e\u8fb9\u754c, \u5bfc\u81f4\u5b89\u5168\u95ee\u9898\u53d1\u751f."}),"\n",(0,l.jsx)(n.li,{children:"\u6ce8\u5165\u6f0f\u6d1e: \u6df7\u5408\u5e94\u7528\u4ee3\u7801\u4e0e\u7528\u6237\u6570\u636e, \u5bfc\u81f4 SQL/XSS/CSRF/XML \u6f0f\u6d1e\u53d1\u751f."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u4e0d\u53ef\u9884\u6d4b\u6027\u539f\u5219:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6709\u6548\u5730\u5bf9\u6297\u57fa\u4e8e\u7be1\u6539\u4e0e\u4f2a\u9020\u7684\u653b\u51fb."}),"\n",(0,l.jsx)(n.li,{children:"\u968f\u673a\u6808\u57fa\u5740\u9632\u5fa1\u7f13\u51b2\u533a\u6ea2\u51fa\u653b\u51fb."}),"\n",(0,l.jsx)(n.li,{children:"\u52a0\u5bc6\u54c8\u5e0c Token \u9632\u5fa1 CSRF \u653b\u51fb."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"STRIDE \u5a01\u80c1\u5206\u6790\u6a21\u578b:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Threat"}),(0,l.jsx)(n.th,{children:"Definition"}),(0,l.jsx)(n.th,{children:"Security"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Spoofing"}),(0,l.jsx)(n.td,{children:"\u4f2a\u88c5 (\u4ed6\u4eba\u8eab\u4efd)"}),(0,l.jsx)(n.td,{children:"\u8ba4\u8bc1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Tampering"}),(0,l.jsx)(n.td,{children:"\u7be1\u6539 (\u6570\u636e\u6216\u4ee3\u7801)"}),(0,l.jsx)(n.td,{children:"\u5b8c\u6574\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Repudiation"}),(0,l.jsx)(n.td,{children:"\u62b5\u8d56 (\u505a\u8fc7\u7684\u4e8b\u60c5)"}),(0,l.jsx)(n.td,{children:"\u4e0d\u53ef\u62b5\u8d56\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Information Disclosure"}),(0,l.jsx)(n.td,{children:"\u4fe1\u606f\u6cc4\u9732 (\u673a\u5bc6\u6570\u636e)"}),(0,l.jsx)(n.td,{children:"\u673a\u5bc6\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Denial of Service"}),(0,l.jsx)(n.td,{children:"\u62d2\u7edd\u670d\u52a1"}),(0,l.jsx)(n.td,{children:"\u53ef\u7528\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Elevation of Privilege"}),(0,l.jsx)(n.td,{children:"\u63d0\u5347\u6743\u9650 (\u672a\u7ecf\u6388\u6743\u83b7\u5f97\u8bb8\u53ef)"}),(0,l.jsx)(n.td,{children:"\u6388\u6743"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"DREAD \u98ce\u9669\u5206\u6790\u6a21\u578b:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsxs)(n.mrow,{children:[(0,l.jsx)(n.mtext,{children:"Risk"}),(0,l.jsx)(n.mo,{children:"="}),(0,l.jsx)(n.mtext,{children:"Probability"}),(0,l.jsx)(n.mo,{children:"\u2217"}),(0,l.jsx)(n.mtext,{children:"Damage\xa0Potential"})]}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\text{Risk} = \\text{Probability} * \\text{Damage Potential}"})]})})}),(0,l.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.6944em"}}),(0,l.jsx)(n.span,{className:"mord text",children:(0,l.jsx)(n.span,{className:"mord",children:"Risk"})}),(0,l.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(n.span,{className:"mrel",children:"="}),(0,l.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,l.jsx)(n.span,{className:"mord text",children:(0,l.jsx)(n.span,{className:"mord",children:"Probability"})}),(0,l.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(n.span,{className:"mbin",children:"\u2217"}),(0,l.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,l.jsx)(n.span,{className:"mord text",children:(0,l.jsx)(n.span,{className:"mord",children:"Damage\xa0Potential"})})]})]})]}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9ad8\u5371: 12 ~ 15 \u5206."}),"\n",(0,l.jsx)(n.li,{children:"\u4e2d\u5371: 8 ~ 11 \u5206."}),"\n",(0,l.jsx)(n.li,{children:"\u4f4e\u5371: 0 ~ 7 \u5206."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Damage Potential:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High: \u5b8c\u5168\u9a8c\u8bc1\u6743\u9650, \u6267\u884c\u7ba1\u7406\u5458\u64cd\u4f5c, \u975e\u6cd5\u4e0a\u4f20\u6587\u4ef6."}),"\n",(0,l.jsx)(n.li,{children:"Medium: \u6cc4\u9732\u654f\u611f\u4fe1\u606f."}),"\n",(0,l.jsx)(n.li,{children:"Low: \u6cc4\u9732\u5176\u4ed6\u4fe1\u606f."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Reproducibility:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High: \u653b\u51fb\u8005\u53ef\u4ee5\u968f\u610f\u91cd\u590d\u653b\u51fb."}),"\n",(0,l.jsx)(n.li,{children:"Medium: \u653b\u51fb\u8005\u53ef\u4ee5\u91cd\u590d\u653b\u51fb, \u6709\u65f6\u95f4\u9650\u5236."}),"\n",(0,l.jsx)(n.li,{children:"Low: \u653b\u51fb\u8005\u96be\u4ee5\u91cd\u590d\u653b\u51fb."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Exploitability:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High: \u521d\u5b66\u8005\u77ed\u671f\u80fd\u638c\u63e1\u653b\u51fb\u65b9\u6cd5."}),"\n",(0,l.jsx)(n.li,{children:"Medium: \u719f\u7ec3\u8005\u624d\u80fd\u638c\u63e1\u653b\u51fb\u65b9\u6cd5."}),"\n",(0,l.jsx)(n.li,{children:"Low: \u6f0f\u6d1e\u5229\u7528\u6761\u4ef6\u975e\u5e38\u82db\u523b."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Affected users:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High: All user, key user, default configuration."}),"\n",(0,l.jsx)(n.li,{children:"Medium: Some user, non-default configuration."}),"\n",(0,l.jsx)(n.li,{children:"Low: Rare user, anonymous user."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Discoverability:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High: \u6f0f\u6d1e\u663e\u773c, \u653b\u51fb\u6761\u4ef6\u5bb9\u6613\u83b7\u5f97."}),"\n",(0,l.jsx)(n.li,{children:"Medium: \u79c1\u6709\u533a\u57df\u624d\u53ef\u53d1\u73b0\u6f0f\u6d1e, \u9700\u8981\u6df1\u5165\u6316\u6398."}),"\n",(0,l.jsx)(n.li,{children:"Low: \u53d1\u73b0\u6f0f\u6d1e\u6781\u5176\u56f0\u96be."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"software-security-assurance",children:"Software Security Assurance"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u903b\u8f91\u5b89\u5168."}),"\n",(0,l.jsxs)(n.li,{children:["\u6570\u636e\u5b89\u5168:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u8bbf\u95ee\u6743\u9650."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u8bbf\u95ee\u65f6\u95f4."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u5b58\u50a8\u683c\u5f0f."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u5b58\u50a8\u4f4d\u7f6e."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u5206\u89e3\u4e0e\u7ec4\u5408."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"UI \u5b89\u5168."}),"\n",(0,l.jsxs)(n.li,{children:["\u7ea6\u675f\u5b89\u5168:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u6b63\u786e\u7c7b\u578b."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u6b63\u786e\u8303\u56f4."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u957f\u5ea6\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c."}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u975e\u6cd5\u503c."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"defensive-programming",children:"Defensive Programming"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://mp.weixin.qq.com/s/G4pME9xFHdWnFckgytnofQ",children:"Defensive programming"}),":"]}),"\n",(0,l.jsx)(n.p,{children:"\u4fdd\u62a4\u7a0b\u5e8f\u514d\u906d\u975e\u6cd5\u6570\u636e\u7684\u7834\u574f:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5\u6240\u6709\u6765\u6e90\u4e8e\u5916\u90e8\u7684\u6570\u636e:\n\u5f53\u4ece\u5916\u90e8\u63a5\u53e3\u4e2d\u83b7\u53d6\u6570\u636e\u65f6, \u5e94\u68c0\u67e5\u6240\u83b7\u5f97\u7684\u6570\u636e\u503c, \u4ee5\u786e\u4fdd\u5b83\u5728\u5141\u8bb8\u7684\u8303\u56f4\u5185.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5\u63a5\u56d7\u6570\u636e\u5b57\u6bb5: ",(0,l.jsx)(n.strong,{children:"\u662f\u5426\u5b58\u5728/\u6570\u636e\u7c7b\u578b/\u53d6\u503c\u8303\u56f4/\u7f3a\u7701\u503c/\u6b63\u5219\u8868\u8fbe\u5f0f/\u7279\u6b8a\u5b57\u7b26"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5\u65b9\u6cd5\u7684\u5c5e\u6027\u53c2\u6570\u505a\u5fc5\u8981\u7684\u8f6c\u6362: ",(0,l.jsx)(n.strong,{children:"\u662f\u5426\u5b58\u5728/\u6570\u636e\u7c7b\u578b/\u53d6\u503c\u8303\u56f4/\u7f3a\u7701\u503c/\u6b63\u5219\u8868\u8fbe\u5f0f/\u7279\u6b8a\u5b57\u7b26"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u68c0\u67e5\u5b50\u7a0b\u5e8f\u6240\u6709\u8f93\u5165\u53c2\u6570\u7684\u503c."}),"\n",(0,l.jsx)(n.li,{children:"\u51b3\u5b9a\u5982\u4f55\u5904\u7406\u9519\u8bef\u7684\u8f93\u5165\u6570\u636e:\n\u4e00\u65e6\u68c0\u6d4b\u5230\u975e\u6cd5\u53c2\u6570, \u9009\u62e9\u9002\u5408\u7684\u9519\u8bef\u5904\u7406\u65b9\u5904\u7406."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u65ad\u8a00:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7528\u9519\u8bef\u5904\u7406\u4ee3\u7801\u5904\u7406\u9884\u671f\u53d1\u751f\u7684\u72b6\u51b5, \u7528\u65ad\u8a00\u53bb\u5904\u7406\u90a3\u4e9b\u4e0d\u8be5\u53d1\u751f\u7684\u9519\u8bef\uff01"}),"\n",(0,l.jsxs)(n.li,{children:["\u5229\u7528\u65ad\u8a00\u6765\u6ce8\u89e3\u524d\u6761\u4ef6\u548c\u540e\u6761\u4ef6: \u5bf9\u4e8e",(0,l.jsx)(n.code,{children:"\u5165\u53c2"}),"/ ",(0,l.jsx)(n.code,{children:"\u5916\u90e8\u6570\u636e"}),"/",(0,l.jsx)(n.code,{children:"\u8fd4\u56de\u7ed3\u679c"}),"\u8fdb\u884c\u68c0\u67e5, \u662f\u5426\u7b26\u5408\u4e1a\u52a1\u903b\u8f91."]}),"\n",(0,l.jsx)(n.li,{children:"\u907f\u514d\u5c06\u9700\u8981\u6267\u884c\u7684\u5b50\u7a0b\u5e8f\u653e\u5230\u65ad\u8a00\u4e2d."}),"\n",(0,l.jsx)(n.li,{children:"\u901a\u8fc7\u5199\u65ad\u8a00, \u4e0d\u4ec5\u53ef\u4ee5\u63d0\u9ad8\u9632\u5fa1\u6027, \u8fd8\u80fd\u63d0\u9ad8\u53ef\u8bfb\u6027."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u7a0b\u5e8f\u7684\u5065\u58ee\u6027:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5065\u58ee\u6027\u5177\u4f53\u6307\u7684\u662f\u5e94\u7528\u5728\u4e0d\u6b63\u5e38\u7684\u8f93\u5165\u6216\u4e0d\u6b63\u5e38\u7684\u5916\u90e8\u73af\u5883\u4e0b\u4ecd\u80fd\u8868\u73b0\u51fa\u6b63\u5e38\u7684\u7a0b\u5ea6."}),"\n",(0,l.jsxs)(n.li,{children:["\u4e0d\u65ad\u5c1d\u8bd5\u91c7\u53d6\u63aa\u65bd\u6765\u5305\u5bb9\u9519\u8bef\u7684\u8f93\u5165\u4ee5\u6b64\u8ba9\u7a0b\u5e8f\u6b63\u5e38\u8fd0\u8f6c (\u5bf9\u81ea\u5df1\u7684\u4ee3\u7801\u8981\u4fdd\u5b88, \u5bf9\u7528\u6237\u7684\u884c\u4e3a\u8981\u5f00\u653e:\n\u4e3b\u52a8\u9632\u5fa1\u5904\u7406\u662f\u6709\u964d\u7ea7/\u5bb9\u9519\u5904\u7406, \u5c3d\u91cf\u4e0d\u8981\u8d70\u5230 ",(0,l.jsx)(n.code,{children:"Error Boundary"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["\u8003\u8651\u5404\u79cd\u5404\u6837\u7684\u6781\u7aef\u60c5\u51b5:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u8003\u8651\u5230\u5404\u79cd\u53ef\u80fd\u7684\u8f93\u5165\u4fee\u58eb, \u517c\u5bb9\u5168\u9762."}),"\n",(0,l.jsx)(n.li,{children:"Mock \u5404\u79cd\u6781\u7aef\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u5373\u4f7f\u7ec8\u6b62\u6267\u884c, \u4e5f\u8981\u51c6\u786e/\u65e0\u6b67\u4e49\u7684\u5411\u7528\u6237\u5c55\u793a\u5168\u9762\u7684\u9519\u8bef\u4fe1\u606f."}),"\n",(0,l.jsx)(n.li,{children:"\u629b\u51fa\u6709\u52a9\u4e8e Debug \u7684\u9519\u8bef\u4fe1\u606f: \u4e30\u5bcc\u6355\u83b7\u5230\u7684\u9519\u8bef\u4fe1\u606f, \u5305\u542b\u66f4\u591a\u4e0a\u4e0b\u6587\u4fe1\u606f."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u7a0b\u5e8f\u7684\u6b63\u786e\u6027:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u8fd4\u56de",(0,l.jsx)(n.code,{children:"\u4e2d\u7acb\u503c"}),"/",(0,l.jsx)(n.code,{children:"\u9ed8\u8ba4\u503c"}),": \u5904\u7406\u9519\u8bef\u7684\u6700\u4f73\u505a\u6cd5\u5c31\u662f\u7ee7\u7eed\u6267\u884c\u64cd\u4f5c\u5e76\u7b80\u5355\u7684\u8fd4\u56de\u4e00\u4e2a\u6ca1\u6709\u5371\u5bb3\u7684\u503c.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6362\u7528\u4e0b\u4e00\u4e2a\u6b63\u786e\u7684\u6570\u636e: \u5728\u8f6e\u8be2\u4e2d, \u5982\u8fd4\u56de\u6570\u636e\u6709\u8bef\u5c31\u4e22\u6389, \u8fdb\u884c\u4e0b\u4e00\u8f6e\u67e5\u8be2."}),"\n",(0,l.jsx)(n.li,{children:"\u8fd4\u56de\u4e0a\u4e00\u6b21\u6b63\u786e\u7684\u6570\u636e: \u540c\u4e0a, \u4e0d\u8df3\u8fc7\u7684\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e0a\u4e00\u6b21\u6b63\u786e\u7684\u6570\u636e."}),"\n",(0,l.jsx)(n.li,{children:"\u9009\u62e9\u6700\u63a5\u8fd1\u7684\u5408\u6cd5\u503c."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u4e0a\u62a5\u9519\u8bef\u65e5\u5fd7: \u4e0a\u62a5\u7684\u9519\u8bef\u65e5\u5fd7\u5bf9\u8fd8\u539f\u95ee\u9898\u548c\u8c03\u8bd5\u53cb\u597d."}),"\n",(0,l.jsx)(n.li,{children:"\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u72b6\u6001\u7801."}),"\n",(0,l.jsx)(n.li,{children:"\u542f\u52a8\u9519\u8bef\u5904\u7406\u5b50\u7a0b\u5e8f\u6216\u5bf9\u8c61."}),"\n",(0,l.jsx)(n.li,{children:"\u663e\u793a\u5bf9\u7528\u6237\u53cb\u597d\u7684\u51fa\u9519\u6d88\u606f: \u5c55\u793a\u7ed9\u7528\u6237\u7684\u9519\u8bef\u4fe1\u606f\u9700\u8981\u52a0\u5de5, \u7528\u6237\u80fd\u770b\u660e\u767d, \u6709\u5efa\u8bbe\u6027."}),"\n",(0,l.jsx)(n.li,{children:"\u6b63\u786e\u6027\u8981\u6c42\u9ad8\u7684\u8bdd, \u5c31\u76f4\u63a5\u9000\u51fa\u7a0b\u5e8f."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5f02\u5e38\u5904\u7406:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7528\u5f02\u5e38\u901a\u77e5\u7a0b\u5e8f\u7684\u5176\u4ed6\u90e8\u5206, \u53d1\u751f\u4e86\u4e0d\u53ef\u5ffd\u7565\u7684\u9519\u8bef."}),"\n",(0,l.jsx)(n.li,{children:"\u53ea\u5728\u771f\u6b63\u4f8b\u5916\u7684\u60c5\u51b5\u4e0b\u624d\u629b\u51fa\u5f02\u5e38:\n\u5f53\u524d\u6709\u9519\u8bef\u5c31\u76f4\u63a5\u629b\u51fa\u53bb, \u4f1a\u5bfc\u81f4\u7ebf\u4e0a\u76d1\u63a7\u7684\u9519\u8bef\u4fe1\u606f\u8d28\u91cf\u4e0d\u9ad8."}),"\n",(0,l.jsx)(n.li,{children:"\u4e0d\u80fd\u7528\u5f02\u5e38\u6765\u63a8\u5378\u8d23\u4efb: \u80fd\u5728\u5c40\u90e8\u5904\u7406\u6389\u5c31\u5728\u5c40\u90e8\u89e3\u51b3\u6389, \u4e0d\u8981\u7b80\u5355\u629b\u51fa\u53bb."}),"\n",(0,l.jsx)(n.li,{children:"\u907f\u514d\u5728\u6784\u9020\u51fd\u6570\u548c\u6790\u6784\u51fd\u6570\u4e2d\u629b\u51fa\u5f02\u5e38, \u9664\u975e\u4f60\u5728\u540c\u4e00\u4e2a\u5730\u65b9\u628a\u5b83\u4eec\u6355\u83b7."}),"\n",(0,l.jsx)(n.li,{children:"\u5728\u6070\u5f53\u7684\u62bd\u8c61\u5c42\u6b21\u629b\u51fa\u5f02\u5e38: \u4e0d\u8981\u628a\u5e95\u5c42\u7684\u5f02\u5e38\u629b\u7ed9\u9ad8\u5c42\u7684\u8c03\u7528\u65b9, \u66b4\u9732\u5177\u4f53\u5b9e\u73b0\u7684\u7ec6\u8282."}),"\n",(0,l.jsx)(n.li,{children:"\u5f02\u5e38\u6d88\u606f\u4e2d\u52a0\u5165\u5173\u4e8e\u5bfc\u81f4\u5f02\u5e38\u53d1\u751f\u7684\u5168\u90e8\u4fe1\u606f."}),"\n",(0,l.jsxs)(n.li,{children:["\u907f\u514d\u4f7f\u7528\u7a7a ",(0,l.jsx)(n.code,{children:"catch"})," \u8bed\u53e5."]}),"\n",(0,l.jsx)(n.li,{children:"\u8003\u8651\u521b\u5efa\u4e00\u4e2a\u96c6\u4e2d\u7684\u5f02\u5e38\u4e0a\u62a5\u673a\u5236."}),"\n",(0,l.jsx)(n.li,{children:"\u8003\u8651\u5f02\u5e38\u7684\u66ff\u6362\u673a\u5236."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4ee3\u7801\u9694\u680f:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5de6\u4fa7\u5916\u90e8\u63a5\u53e3\u6570\u636e\u5047\u5b9a\u662f\u810f\u6570\u636e (\u4e0d\u53ef\u4fe1), \u901a\u8fc7\u4e2d\u95f4\u8fd9\u4e9b\u7c7b (\u5b50\u7a0b\u5e8f) \u6784\u6210\u9694\u680f, \u8d1f\u8d23\u6e05\u7406\u4e0e\u9a8c\u8bc1\u6570\u636e, \u5e76\u8fd4\u56de\u53ef\u4fe1\u7684\u6570\u636e."}),"\n",(0,l.jsx)(n.li,{children:"\u6700\u53f3\u4fa7\u7684\u7c7b (\u5b50\u7a0b\u5e8f) \u5168\u90e8\u5728\u5047\u5b9a\u6570\u636e\u5e72\u51c0 (\u5b89\u5168) \u7684\u57fa\u7840\u4e0a\u5de5\u4f5c, \u8fd9\u6837\u53ef\u4ee5\u8ba9\u5927\u90e8\u5206\u7684\u4ee3\u7801\u65e0\u987b\u518d\u62c5\u8d1f\u68c0\u67e5\u9519\u8bef\u6570\u636e\u7684\u804c\u8d23."}),"\n",(0,l.jsx)(n.li,{children:"\u9002\u914d\u5668\u6a21\u5f0f\u548c\u95e8\u9762\u6a21\u5f0f\u7528\u6765\u9694\u79bb\u6216\u9002\u914d\u53d8\u5316, \u662f\u5bf9\u4e0d\u53ef\u63a7\u53d8\u5316\u7684\u9632\u5fa1."}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8f85\u52a9\u8c03\u8bd5\u4ee3\u7801 (",(0,l.jsx)(n.code,{children:"Debugging Aids"}),"):"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5728\u65e9\u671f\u7684\u5f15\u5165\u8f85\u52a9\u8c03\u8bd5\u4ee3\u7801, \u53d1\u5e03\u65f6\u79fb\u9664\u8c03\u8bd5\u8f85\u52a9\u7684\u4ee3\u7801:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"console.log"})," \u7b97\u662f\u4e00\u79cd\u8f85\u52a9\u8c03\u8bd5\u4ee3\u7801, \u53d1\u5e03\u65f6\u6e05\u9664."]}),"\n",(0,l.jsx)(n.li,{children:"\u5728\u590d\u6742\u7684\u8c03\u8bd5\u573a\u666f\u4e0b, \u6709\u5fc5\u8981\u4e13\u95e8\u5199\u4e00\u4e9b\u8f85\u52a9\u8c03\u8bd5\u4ee3\u7801."}),"\n",(0,l.jsx)(n.li,{children:"\u5229\u7528 Chrome \u63d2\u4ef6\u8ffd\u8e2a\u53d8\u91cf\u548c\u72b6\u6001\u53d8\u5316\u8f85\u52a9\u8c03\u8bd5."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u91c7\u7528\u8fdb\u653b\u5f0f\u7f16\u7a0b:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5c3d\u91cf\u8ba9\u5f02\u5e38\u7684\u60c5\u51b5\u5728\u5f00\u53d1\u671f\u95f4\u66b4\u9732\u51fa\u6765, \u800c\u5728\u4ea7\u54c1\u4e0a\u7ebf\u65f6\u81ea\u6211\u6062\u590d."}),"\n",(0,l.jsx)(n.li,{children:"\u5728\u5f00\u53d1\u9636\u6bb5\u8003\u8651\u5230\u6700\u574f\u7684\u60c5\u51b5."}),"\n",(0,l.jsx)(n.li,{children:"\u5199\u5355\u6d4b\u662f\u4e00\u8fdb\u653b\u5f0f\u7f16\u7a0b."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"UI \u7684\u9632\u5fa1\u6027:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u9632\u767d\u5c4f:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u767d\u5c4f\u76d1\u63a7."}),"\n",(0,l.jsx)(n.li,{children:"\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u91cd\u8bd5."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Service Worker"}),": \u8d44\u6e90 fallback \u673a\u5236."]}),"\n",(0,l.jsxs)(n.li,{children:["\u6a21\u5757\u90fd\u5305\u88c5\u4e86 ",(0,l.jsx)(n.code,{children:"Error Boundary"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"\u517c\u5bb9\u6027\u63a2\u6d4b\u548c\u63d0\u793a."}),"\n",(0,l.jsx)(n.li,{children:"\u767d\u5c4f\u63d0\u793a\u4fe1\u606f."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u9632\u6162 (\u7f51\u7edc\u6162/\u54cd\u5e94\u6162/\u6e32\u67d3\u6162/\u6267\u884c\u6162): \u524d\u7aef\u6027\u80fd\u4f18\u5316."}),"\n",(0,l.jsx)(n.li,{children:"\u9632\u5361 (\u5361\u987f/\u5047\u6b7b): \u524d\u7aef\u6027\u80fd\u4f18\u5316."}),"\n",(0,l.jsx)(n.li,{children:"\u9632\u5e03\u5c40\u9519\u4e71: \u524d\u7aef\u54cd\u5e94\u5f0f\u5f00\u53d1."}),"\n",(0,l.jsx)(n.li,{children:"\u9632\u6781\u7aef\u5185\u5bb9 (\u7f3a\u5931/\u8d85\u957f/\u8fde\u7eed\u5b57\u7b26/\u672a\u8f6c\u4e49): \u524d\u7aef\u54cd\u5e94\u5f0f\u5f00\u53d1."}),"\n",(0,l.jsxs)(n.li,{children:["UI \u4e00\u81f4\u6027\u95ee\u9898:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u53d1\u5e03\u8bbe\u8ba1\u89c4\u8303 (",(0,l.jsx)(n.code,{children:"Design System"}),")."]}),"\n",(0,l.jsx)(n.li,{children:"UI \u8d70\u67e5\u5de5\u5177."}),"\n",(0,l.jsx)(n.li,{children:"\u89c6\u89c9\u56de\u5f52\u6d4b\u8bd5."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u9632\u6837\u5f0f\u6c61\u67d3:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4ee3\u7801\u5ba1\u6838."}),"\n",(0,l.jsx)(n.li,{children:"\u6837\u5f0f\u9694\u79bb."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"security-headers",children:"Security Headers"}),"\n",(0,l.jsxs)(n.p,{children:["Security headers ",(0,l.jsx)(n.a,{href:"https://web.dev/security-headers",children:"list"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Headers/X-Content-Type-Options",children:"X-Content-Type-Options"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Headers/X-Frame-Options",children:"X-Frame-Options"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"DENY"}),": \u7981\u6b62\u88ab\u52a0\u8f7d\u8fdb\u4efb\u4f55 frame."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"SAMEORIGIN"}),": \u4ec5\u5141\u8bb8\u88ab\u52a0\u8f7d\u8fdb\u540c\u57df\u5185\u7684 frame."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Headers/X-XSS-Protection",children:"X-XSS-Protection"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"0"})," :\u8868\u793a\u7981\u7528\u8fd9\u4e2a\u7b56\u7565."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"1"}),": \u9ed8\u8ba4, \u5bf9\u5371\u9669\u811a\u672c\u505a\u4e00\u4e9b\u6807\u5fd7\u6216\u4fee\u6539, \u4ee5\u963b\u6b62\u5728\u6d4f\u89c8\u5668\u4e0a\u6e32\u67d3\u6267\u884c."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"1; mode=block"}),":, \u5f3a\u5236\u4e0d\u6e32\u67d3."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Setting ",(0,l.jsx)(n.code,{children:"Context-Security-Policy"})," header."]}),"\n",(0,l.jsx)(n.li,{children:"Ensure all connections to be HTTPS."}),"\n",(0,l.jsxs)(n.li,{children:["Avoid Clicking-jacking using ",(0,l.jsx)(n.code,{children:"X-Frame-Options"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Disable ",(0,l.jsx)(n.code,{children:"X-Powered-By"})," header."]}),"\n",(0,l.jsxs)(n.li,{children:["Not put sensitive data in URL query and ",(0,l.jsx)(n.code,{children:"Referer"})," header."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"same-origin-policy",children:"Same Origin Policy"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"origin"})," = ",(0,l.jsx)(n.code,{children:"protocol"})," + ",(0,l.jsx)(n.code,{children:"domain"})," + ",(0,l.jsx)(n.code,{children:"port"}),":"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:(0,l.jsx)(n.code,{children:"http://www.foo.com"})}),(0,l.jsx)(n.th,{children:"Same Origin"}),(0,l.jsx)(n.th,{})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"https://www.foo.com"})}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"protocol"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"http://app.foo.com"})}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"domain"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"http://foo.com"})}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"domain"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"http://www.foo.com:8080"})}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"port"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"http://www.foo.com/a/"})}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{})]})]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "Access-Control-Allow-Origin": "https://api.foo.com"\n}\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u7531\u5ba2\u6237\u7aef HTML \u6807\u7b7e\u7b49\u53d1\u51fa\u7684\u8de8\u57df ",(0,l.jsx)(n.code,{children:"GET"})," \u8bf7\u6c42\u9ed8\u8ba4\u5408\u6cd5, \u6784\u6210\u5f00\u653e\u7684 Web \u4e16\u754c:\n\u901a\u8fc7 ",(0,l.jsx)(n.code,{children:"src"})," \u5c5e\u6027\u52a0\u8f7d\u7684\u8d44\u6e90, \u6d4f\u89c8\u5668\u9650\u5236\u4e86 JavaScript \u7684\u6743\u9650, \u4f7f\u5176\u4e0d\u80fd\u8bfb\u5199\u8fd4\u56de\u7684\u5185\u5bb9."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"XMLHttpRequest"})," \u53d7\u540c\u6e90\u7b56\u7565\u9650\u5236: \u9ed8\u8ba4\u53ea\u80fd\u8bbf\u95ee\u540c\u6e90\u5bf9\u8c61\u7684\u5185\u5bb9."]}),"\n",(0,l.jsx)(n.li,{children:"Cookie \u53d7\u540c\u6e90\u7b56\u7565\u9650\u5236."}),"\n",(0,l.jsxs)(n.li,{children:["Web storage \u53d7\u540c\u6e90\u7b56\u7565\u9650\u5236:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Local storage."}),"\n",(0,l.jsx)(n.li,{children:"Session storage."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"content-security-policy",children:"Content Security Policy"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/foundeo/content-security-policy.com",children:(0,l.jsx)(n.code,{children:"CSP"})}),"\nhelp prevent from ",(0,l.jsx)(n.code,{children:"XSS"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"{\n  \"header\": {\n    \"Content-Security-Policy\":\n      allow 'self';\n      script-src 'nonce-random123' 'strict-dynamic' 'unsafe-eval' script.example.com;\n      media-src media.example.com;\n      img-src img.example.com;\n      object-src 'none';\n      base-uri 'none'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Basic CSP ",(0,l.jsx)(n.a,{href:"https://www.writesoftwarewell.com/content-security-policy",children:"usage"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<meta\n  http-equiv=\"Content-Security-Policy\"\n  content=\"script-src 'self' https://safe-external-site.com; style-src 'self'\"\n/>\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"upgrade-insecure-requests"}),"\n\u6307\u793a\u6d4f\u89c8\u5668\u5728\u53d1\u51fa\u7f51\u7edc\u8bf7\u6c42\u4e4b\u524d\u5347\u7ea7\u4e0d\u5b89\u5168\u7684 ",(0,l.jsx)(n.code,{children:"URL"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"block-all-mixed-content"}),"\n\u6307\u793a\u6d4f\u89c8\u5668\u6c38\u4e0d\u52a0\u8f7d\u6df7\u5408\u5185\u5bb9,\n\u6240\u6709\u6df7\u5408\u5185\u5bb9\u8d44\u6e90\u8bf7\u6c42\u90fd\u4f1a\u88ab\u963b\u6b62,\n\u5305\u62ec\u4e3b\u52a8\u548c\u88ab\u52a8\u6df7\u5408\u5185\u5bb9:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<meta http-equiv="Content-Security-Policy" content="block-all-mixed-content" />\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"nonce"}),"-only ",(0,l.jsx)(n.code,{children:"CSP"})," block 3rd scripts and dynamic scripts generate by trusted users:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script nonce="random123">\n  alert(\'this is fine!\')\n<\/script>\n<script nonce="random123" src="https://cdnjs.com/lib.js"><\/script>\n\x3c!-- XSS injected by attacker - blocked by CSP --\x3e\n<script>\n  alert(\'xss\')\n<\/script>\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"strict-dynamic"})," ",(0,l.jsx)(n.code,{children:"CSP"})," allow dynamic scripts generate by trusted users:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"\x3c!-- Content-Security-Policy: script-src 'nonce-random123' 'strict-dynamic' --\x3e\n<script nonce=\"random123\">\n  const s = document.createElement('script')\n  s.src = '/path/to/script.js'\n  s.async = true\n  document.head.appendChild(s) // can execute correctly\n<\/script>\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"domain"}),"-specific ",(0,l.jsx)(n.code,{children:"CSP"})," block untrusted domain scripts:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'\x3c!-- Given this CSP header --\x3e\n\x3c!-- Content-Security-Policy: script-src https://example.com/ --\x3e\n\x3c!-- The following third-party script will not be loaded or executed --\x3e\n<script src="https://not-example.com/js/library.js"><\/script>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"trusted-types",children:"Trusted Types"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"TrustedURL."}),"\n",(0,l.jsx)(n.li,{children:"TrustedHTML."}),"\n",(0,l.jsx)(n.li,{children:"TrustedScript."}),"\n",(0,l.jsx)(n.li,{children:"TrustedScriptURL."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// fallback policy\nTrustedTypes.createPolicy(\n  'default',\n  {\n    createHTML(s) {\n      console.error('Please fix! Insecure string assignment detected:', s)\n      return s\n    },\n  },\n  true\n)\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// Content-Security-Policy-Report-Only: trusted-types myPolicy; report-uri /cspReport\nconst SanitizingPolicy = TrustedTypes.createPolicy(\n  'myPolicy',\n  {\n    createHTML: (s: string) => myCustomSanitizer(s),\n  },\n  false\n)\n\nconst trustedHTML = SanitizingPolicy.createHTML(foo)\nelement.innerHTML = trustedHTML\n"})}),"\n",(0,l.jsx)(n.h3,{id:"sandbox",children:"Sandbox"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://developer.51cto.com/article/710911.html",children:(0,l.jsx)(n.code,{children:"Sandbox"})}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"eval()"}),":\n\u5b83\u80fd\u8bbf\u95ee\u6267\u884c\u4e0a\u4e0b\u6587\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf, \u4e5f\u80fd\u8bbf\u95ee\u6240\u6709\u5168\u5c40\u53d8\u91cf, \u662f\u4e00\u4e2a\u975e\u5e38\u5371\u9669\u7684\u51fd\u6570."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"new Function()"}),":\n\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u88ab\u521b\u5efa, \u4e0d\u4f1a\u521b\u5efa\u95ed\u5305.\n\u5f53\u8fd0\u884c\u51fd\u6570\u65f6, \u53ea\u80fd\u8bbf\u95ee\u672c\u5730\u53d8\u91cf\u548c\u5168\u5c40\u53d8\u91cf,\n\u4e0d\u80fd\u8bbf\u95ee Function \u6784\u9020\u5668\u88ab\u8c03\u7528\u751f\u6210\u7684\u4e0a\u4e0b\u6587\u7684\u4f5c\u7528\u57df."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"with () {}"}),":\n\u5b83\u9996\u5148\u4f1a\u5728\u4f20\u5165\u7684\u5bf9\u8c61\u4e2d\u67e5\u627e\u5bf9\u5e94\u7684\u53d8\u91cf,\n\u5982\u679c\u627e\u4e0d\u5230\u5c31\u4f1a\u5f80\u66f4\u4e0a\u5c42\u7684\u5168\u5c40\u4f5c\u7528\u57df\u53bb\u67e5\u627e,\n\u5bfc\u81f4\u5168\u5c40\u73af\u5883\u6c61\u67d3."]}),"\n",(0,l.jsx)(n.li,{children:"\u5feb\u7167\u6c99\u76d2: ES5 \u6c99\u76d2, \u5907\u4efd\u6062\u590d\u5168\u5c40\u4e0a\u4e0b\u6587."}),"\n",(0,l.jsx)(n.li,{children:"\u4ee3\u7406\u6c99\u76d2: ES6 \u6c99\u76d2, \u4f7f\u7528 Proxy \u4ee3\u7406\u5168\u5c40\u4e0a\u4e0b\u6587."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<iframe>"})," \u6c99\u76d2: \u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"<iframe>"})," \u9694\u79bb\u5168\u5c40\u4e0a\u4e0b\u6587."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://2ality.com/2022/04/shadow-realms.html",children:(0,l.jsx)(n.code,{children:"ShadowRealm"})})," \u6c99\u76d2."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"snapshot-sandbox",children:"Snapshot Sandbox"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"SnapshotSandbox"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"class SnapshotSandbox {\n  constructor() {\n    this.proxy = window // window \u5c5e\u6027.\n    this.windowSnapshot = {} // \u5feb\u7167.\n    this.modifyPropsMap = {} // \u8bb0\u5f55\u5728 window \u4e0a\u7684\u4fee\u6539.\n    this.sandboxRunning = false\n  }\n\n  active() {\n    this.windowSnapshot = {} // \u5feb\u7167.\n\n    for (const prop in window) {\n      if (window.hasOwn(prop))\n        this.windowSnapshot[prop] = window[prop]\n\n      Object.keys(this.modifyPropsMap).forEach((p) => {\n        window[p] = this.modifyPropsMap[p]\n      })\n    }\n\n    this.sandboxRunning = true\n  }\n\n  inactive() {\n    this.modifyPropsMap = {} // \u8bb0\u5f55\u5728 window \u4e0a\u7684\u4fee\u6539.\n\n    for (const prop in window) {\n      if (window.hasOwn(prop)) {\n        if (window[prop] !== this.windowSnapshot[prop]) {\n          this.modifyPropsMap[prop] = window[prop]\n          window[prop] = this.windowSnapshot[prop]\n        }\n      }\n    }\n\n    this.sandboxRunning = false\n  }\n}\n"})}),"\n",(0,l.jsx)(n.h4,{id:"proxy-sandbox",children:"Proxy Sandbox"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"ProxySandbox"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"function ProxySandbox(code) {\n  code = `with (sandbox) {${code}}`\n  // eslint-disable-next-line no-new-func\n  const fn = new Function('sandbox', code)\n\n  return function (sandbox) {\n    const sandboxProxy = new Proxy(sandbox, {\n      has(target, key) {\n        return true\n      },\n      get(target, key) {\n        if (key === Symbol.unscopables)\n          return undefined\n        return target[key]\n      },\n    })\n    return fn(sandboxProxy)\n  }\n}\n"})}),"\n",(0,l.jsx)(n.h4,{id:"iframe-sandbox",children:"Iframe Sandbox"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"class SandboxWindow {\n  constructor(context, frameWindow) {\n    return new Proxy(frameWindow, {\n      get(target, name) {\n        if (name in context)\n          return context[name]\n        else if (typeof target[name] === 'function' && /^[a-z]/.test(name))\n          return target[name].bind && target[name].bind(target)\n        else return target[name]\n      },\n      set(target, name, value) {\n        if (name in context)\n          return (context[name] = value)\n\n        target[name] = value\n      },\n    })\n  }\n}\n\n// \u9700\u8981\u5168\u5c40\u5171\u4eab\u7684\u53d8\u91cf\nconst context = {\n  document: new Proxy(window.document, {}),\n  location: new Proxy(window.location),\n  history: new Proxy(window.history),\n}\n\n// \u521b\u5efa iframe\nconst userInputUrl = ''\nconst iframe = document.createElement('iframe', {\n  url: userInputUrl,\n  src: 'about:blank',\n  sandbox:\n    'allow-scripts allow-same-origin allow-popups allow-presentation allow-top-navigation',\n  style: 'display: none;',\n})\ndocument.body.appendChild(iframe)\nconst sandboxGlobal = new Proxy(iframe.contentWindow, {})\n\n// \u521b\u5efa\u6c99\u7bb1\nconst newSandboxWindow = new SandboxWindow(context, sandboxGlobal)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"crypto",children:"Crypto"}),"\n",(0,l.jsxs)(n.p,{children:["Web crypto ",(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/API/SubtleCrypto",children:"API"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u516c\u94a5\u52a0\u5bc6\u79c1\u94a5\u89e3\u5bc6: \u53ea\u6709\u79c1\u94a5\u62e5\u6709\u8005\u53ef\u4ee5\u83b7\u53d6\u4fe1\u606f, e.g HTTPS \u4f1a\u8bdd\u5bc6\u94a5\u4f20\u8f93."}),"\n",(0,l.jsx)(n.li,{children:"\u516c\u94a5\u89e3\u5bc6\u79c1\u94a5\u52a0\u5bc6: \u53ea\u6709\u79c1\u94a5\u62e5\u6709\u8005\u53ef\u4ee5\u53d1\u5e03\u7b7e\u540d, e.g \u6570\u5b57\u7b7e\u540d."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"user-privacy",children:"User Privacy"}),"\n",(0,l.jsx)(n.h4,{id:"browser-privacy-detection",children:"Browser Privacy Detection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Browser ",(0,l.jsx)(n.a,{href:"https://browserleaks.com",children:"leaks"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"user-fingerprint",children:"User Fingerprint"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use Canvas or WebGL to generate user\n",(0,l.jsx)(n.a,{href:"https://yinzhicao.org/TrackingFree/crossbrowsertracking_NDSS17.pdf",children:"fingerprint"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Location information:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Country."}),"\n",(0,l.jsx)(n.li,{children:"Region."}),"\n",(0,l.jsx)(n.li,{children:"City."}),"\n",(0,l.jsx)(n.li,{children:"Zip code."}),"\n",(0,l.jsx)(n.li,{children:"Latitude."}),"\n",(0,l.jsx)(n.li,{children:"Longitude."}),"\n",(0,l.jsx)(n.li,{children:"Timezone."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Connection information:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"IP address."}),"\n",(0,l.jsx)(n.li,{children:"Internet service provider."}),"\n",(0,l.jsx)(n.li,{children:"Organization."}),"\n",(0,l.jsx)(n.li,{children:"ASN."}),"\n",(0,l.jsx)(n.li,{children:"Tor browser detection."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Software information:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Browser."}),"\n",(0,l.jsx)(n.li,{children:"Browser plugins detection."}),"\n",(0,l.jsx)(n.li,{children:"Operation system."}),"\n",(0,l.jsx)(n.li,{children:"User agent."}),"\n",(0,l.jsx)(n.li,{children:"Preferred language."}),"\n",(0,l.jsx)(n.li,{children:"Cookie enabled detection."}),"\n",(0,l.jsx)(n.li,{children:"Java enabled detection."}),"\n",(0,l.jsx)(n.li,{children:"DNT header enabled detection."}),"\n",(0,l.jsx)(n.li,{children:"Automated browser detection."}),"\n",(0,l.jsx)(n.li,{children:"Content filters detection: Adblock detection."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Hardware information:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Screen resolution."}),"\n",(0,l.jsx)(n.li,{children:"Color resolution."}),"\n",(0,l.jsx)(n.li,{children:"Device type."}),"\n",(0,l.jsx)(n.li,{children:"Device memory."}),"\n",(0,l.jsx)(n.li,{children:"CPU cores."}),"\n",(0,l.jsx)(n.li,{children:"Max touch points."}),"\n",(0,l.jsx)(n.li,{children:"WebGL vendor."}),"\n",(0,l.jsx)(n.li,{children:"WebGL renderer."}),"\n",(0,l.jsx)(n.li,{children:"Battery level."}),"\n",(0,l.jsx)(n.li,{children:"Batter status."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"function getCanvasFingerprint() {\n  const canvas = document.createElement('canvas')\n  const context = canvas.getContext('2d')\n  context.font = '18pt Arial'\n  context.textBaseline = 'top'\n  context.fillText('Hello, user.', 2, 2)\n  return canvas.toDataURL('image/jpeg')\n}\n\ngetCanvasFingerprint()\n"})}),"\n",(0,l.jsx)(n.h2,{id:"security-vulnerability",children:"Security Vulnerability"}),"\n",(0,l.jsx)(n.h3,{id:"xss",children:"XSS"}),"\n",(0,l.jsx)(n.h4,{id:"xss-attack",children:"XSS Attack"}),"\n",(0,l.jsx)(n.p,{children:"Cross-site scripting (\u8de8\u7ad9\u811a\u672c):"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Reflected XSS:\nurl input (search pages)\n",(0,l.jsx)(n.code,{children:"http://localhost:8080/test?name=<script>alert('attack')<\/script>"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Stored XSS:\nstore script into database."}),"\n",(0,l.jsxs)(n.li,{children:["Inject script in HTML/CSS/JavaScript/JSON/HTTP:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<a href=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<base href=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<bgsound src=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<body background=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<frameset><frame src="javascript:..."></frameset>'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<iframe src=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<img src=x onerror=...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<input type=image src=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<layer src=...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<link href="javascript:..." rel="stylesheet" type="text/css">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<meta http-equiv="refresh" content="0;url=javascript:...">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<object type=text/x-scriptlet data=...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<script>...<\/script>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<style type=text/javascript>alert('xss')</style>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<table background=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<td background=javascript:...>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<button onmouseover="alert(/1/)" onclick="alert(/2/)"></button>'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<button form="test" formaction="javascript:alert(1)">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<button form=test onformchange=alert(2)>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<input onfocus=write(1) autofocus>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<form id=test onforminput=alert(1)><input></form>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<audio onerror=javascript:alert(1)>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<audio><source onerror="javascript:alert(1)"></audio>'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<video onerror=javascript:alert(1)>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<video><source onerror="javascript:alert(1)"></video>'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'@import ""'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'background: url("")'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"window.name"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"window.location"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"document.domain"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"document.referrer"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"document.location.assign()"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"document.location.replace()"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"document.write()"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"element.innerHTML"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"element.outerHTML"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"cookie"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"localStorage"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"xss-protection",children:"XSS Protection"}),"\n",(0,l.jsx)(n.p,{children:"Don't trust user:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Escape control characters (\u8f93\u5165\u6821\u9a8c):","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"'})," -> ",(0,l.jsx)(n.code,{children:"&quot;"}),", ",(0,l.jsx)(n.code,{children:"&"})," -> ",(0,l.jsx)(n.code,{children:"&amp;"}),", ",(0,l.jsx)(n.code,{children:"'"})," -> ",(0,l.jsx)(n.code,{children:"&apos;"}),", ",(0,l.jsx)(n.code,{children:"<"})," -> ",(0,l.jsx)(n.code,{children:"&lt;"}),", ",(0,l.jsx)(n.code,{children:">"})," -> ",(0,l.jsx)(n.code,{children:"&gt;"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"input.replace(/<script>|<script/>/g, '')"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"input.trim()"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"React DOM escapes any values embedded in JSX before rendering them."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Secure encode output result (\u8f93\u51fa\u7f16\u7801):\n\u4fdd\u8bc1",(0,l.jsx)(n.strong,{children:"\u7f16\u7801\u65b9\u5f0f\u4e00\u81f4"}),", e.g \u6df7\u7528\u5355\u5b57\u8282\u7f16\u7801\u4e0e\u591a\u5b57\u8282\u7f16\u7801, \u5bfc\u81f4\u653b\u51fb\u8005\u7ed5\u8fc7 ",(0,l.jsx)(n.code,{children:"\\"})," \u7cfb\u7edf\u8f6c\u4e49\u7b26."]}),"\n",(0,l.jsxs)(n.li,{children:["\u4efb\u4f55\u7528\u6237\u63d0\u4f9b\u7684 URL \u5728\u8fdb\u4e00\u6b65\u5904\u7406\u524d (e.g \u4fdd\u5b58\u5230\u6570\u636e\u5e93),\n\u5e94\u5148\u505a\u65e0\u5bb3\u5316\u5904\u7406 (",(0,l.jsx)(n.code,{children:"SanitizeUrl"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Check HTTP ",(0,l.jsx)(n.code,{children:"Content-Type"})," header."]}),"\n",(0,l.jsxs)(n.li,{children:["Content security policy: ",(0,l.jsx)(n.code,{children:"script-src 'self' https://apis.google.com"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Use mature template engine: built-in XSS protection feature."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"csrf",children:"CSRF"}),"\n",(0,l.jsx)(n.h4,{id:"csrf-attack",children:"CSRF Attack"}),"\n",(0,l.jsxs)(n.p,{children:["Cross-site request forgery (\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020)\n\u631f\u5236\u7528\u6237\u5728\u5f53\u524d\u5df2\u767b\u5f55\u7684 Web \u5e94\u7528\u7a0b\u5e8f\u4e0a\u6267\u884c",(0,l.jsx)(n.strong,{children:"\u975e\u672c\u610f"}),"\u7684\u64cd\u4f5c,\n\u5229\u7528\u5df2\u8ba4\u8bc1\u7528\u6237 (\u957f\u671f\u672c\u5730 ",(0,l.jsx)(n.code,{children:"Cookie"}),"), \u8bbf\u95ee\u653b\u51fb\u8005\u7f51\u7ad9, \u5e76\u88ab\u5f3a\u5236\u6267\u884c\u811a\u672c,\n\u5728\u7528\u6237\u4e0d\u77e5\u60c5\u7684\u60c5\u51b5\u4e0b\u63d0\u4ea4 ",(0,l.jsx)(n.code,{children:"GET"}),"/",(0,l.jsx)(n.code,{children:"POST"})," request (\u957f\u671f\u672c\u5730 ",(0,l.jsx)(n.code,{children:"Cookie"}),"):"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<link href="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<a href="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<img src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<img lowsrc="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<img dynsrc="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<iframe src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<frame src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<meta http-equiv="refresh" content="0; url=">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<script src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<bgsound src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<embed src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<video src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<audio src="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<table background="">'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'@import ""'}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'background: url("")'}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.admonition,{title:"XSS vs CSRF",type:"tip",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"XSS \u5229\u7528\u7684\u662f\u7f51\u7ad9\u5bf9\u7528\u6237 (\u8f93\u5165) \u7684\u4fe1\u4efb."}),"\n",(0,l.jsx)(n.li,{children:"CSRF \u5229\u7528\u7684\u662f\u7f51\u7ad9\u5bf9\u7528\u6237\u7f51\u9875\u6d4f\u89c8\u5668\u7684\u4fe1\u4efb."}),"\n"]})}),"\n",(0,l.jsx)(n.h4,{id:"csrf-protection",children:"CSRF Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"REST"})," (representational state transfer) \u539f\u5219:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GET"})," request: only read objects, \u786e\u4fdd\u65e0\u526f\u4f5c\u7528."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"PUT"})," request: only create new objects."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"POST"})," request: only modify objects."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"DELETE"})," request: only delete objects."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u786e\u4fdd ",(0,l.jsx)(n.code,{children:"request"})," \u6b63\u5e38\u53d1\u8d77\u6e20\u9053:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Anti-CSRF cookie:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u4e0d\u53ef\u9884\u6d4b salt token: ",(0,l.jsx)(n.code,{children:"Set-Cookie: _xsrf=5978e29d4ef434a1"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Hidden token check in ",(0,l.jsx)(n.code,{children:"<form>"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5f00\u542f\u540c\u6e90\u7b56\u7565: ",(0,l.jsx)(n.code,{children:"Set-Cookie: _xsrf=5978e29d4ef434a1; SameSite=Strict;"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5 HTTP ",(0,l.jsx)(n.code,{children:"Referer"})," \u8bf7\u6c42\u5934."]}),"\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5\u7b2c\u4e09\u65b9\u7f51\u7ad9 ",(0,l.jsx)(n.code,{children:"URL"}),", \u663e\u793a\u7b2c\u4e09\u65b9\u5730\u5740\u8df3\u8f6c\u8b66\u544a\u9875\u9762:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Remove sensitive data in URL query and ",(0,l.jsx)(n.code,{children:"Referer"})," header."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<a href="https://3rd.com" target="_blank" rel="noopener noreferrer nofollow">'}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Require re-authentication for sensitive action:\n\u652f\u4ed8\u8d26\u5355, \u4fee\u6539\u90ae\u7bb1, \u5220\u9664\u8d26\u53f7."}),"\n",(0,l.jsxs)(n.li,{children:["Use mature ",(0,l.jsx)(n.code,{children:"CSRF"})," protection library:\nexpress.js ",(0,l.jsx)(n.code,{children:"csurf"})," library."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# Reject cross-origin requests to protect from\n# CSRF, XSSI & other bugs\ndef allow_request(req):\n  # Allow requests from browsers which don't send Fetch Metadata\n  if not req['sec-fetch-site']:\n    return True\n\n  # Allow same-site and browser-initiated requests\n  if req['sec-fetch-site'] in ('same-origin', 'same-site', 'none'):\n    return True\n\n  # Allow simple top-level navigation from anywhere\n  if req['sec-fetch-mode'] === 'navigate' and req.method === 'GET':\n    return True\n\n  return False\n"})}),"\n",(0,l.jsx)(n.h3,{id:"click-jacking",children:"Click Jacking"}),"\n",(0,l.jsx)(n.h4,{id:"click-jacking-attack",children:"Click Jacking Attack"}),"\n",(0,l.jsx)(n.p,{children:"Hover transparent malicious link upon trusted true button:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"click"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"drag"})," and ",(0,l.jsx)(n.code,{children:"drop"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"touch"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"click-jacking-protection",children:"Click Jacking Protection"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"X-Frame-Options"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"DENY"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"SAMEORIGIN"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ALLOW-FROM origin"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// nodejs\nresponse.setHeader('X-Frame-Options', 'DENY')\n"})}),"\n",(0,l.jsx)(n.p,{children:"Content security policy:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"Content-Security-Policy: frame-ancestors 'none'\nContent-Security-Policy: frame-ancestors 'self'\nContent-Security-Policy: frame-ancestors example.com google.com\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Prevent load self in frame (",(0,l.jsx)(n.code,{children:"Frame Busting"}),"):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<style>\n  /* Hide page by default */\n  html {\n    display: none;\n  }\n</style>\n\n<script>\n  if (\n    top != self ||\n    top.location != location ||\n    top.location != self.location ||\n    parent.frames.length > 0 ||\n    window != top ||\n    window.self != window.top ||\n    window.top !== window.self ||\n    (parent && parent != window) ||\n    (parent && parent.frames && parent.frames.length > 0) ||\n    (self.parent && !(self.parent === self) && self.parent.frames.length != 0)\n  ) {\n    // Break out of the frame.\n    top.location = self.location\n    top.location.href = document.location.href\n    top.location.href = self.location.href\n    top.location.replace(self.location)\n    top.location.href = window.location.href\n    top.location.replace(document.location)\n    top.location.href = window.location.href\n    top.location.href = 'URL'\n    document.write('')\n    top.location = location\n    top.location.replace(document.location)\n    top.location.replace('URL')\n    top.location.href = document.location\n    top.location.replace(window.location.href)\n    top.location.href = location.href\n    self.parent.location = document.location\n    parent.location.href = self.document.location\n    parent.location = self.location\n  } else {\n    // Everything checks out, show the page.\n    document.documentElement.style.display = 'block'\n  }\n<\/script>\n"})}),"\n",(0,l.jsx)(n.admonition,{title:"Frame Busting Attack",type:"caution",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"<iframe>"})," ",(0,l.jsx)(n.code,{children:"sandbox"})," \u5c5e\u6027\u4e0e ",(0,l.jsx)(n.code,{children:"security"}),",\n\u53ef\u4ee5\u9650\u5236 ",(0,l.jsx)(n.code,{children:"<iframe>"})," \u9875\u9762\u4e2d\u7684 JavaScript \u811a\u672c\u6267\u884c,\n\u4ece\u800c\u4f7f\u5f97 ",(0,l.jsxs)(n.a,{href:"https://seclab.stanford.edu/websec/framebusting/framebust.pdf",children:[(0,l.jsx)(n.code,{children:"Frame Busting"})," \u5931\u6548"]}),"."]})}),"\n",(0,l.jsx)(n.h3,{id:"sql-injection",children:"SQL Injection"}),"\n",(0,l.jsx)(n.h4,{id:"sql-injection-attack",children:"SQL Injection Attack"}),"\n",(0,l.jsxs)(n.p,{children:["User input ",(0,l.jsx)(n.code,{children:"' OR 1=1--"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"SELECT *\n  FROM users\n WHERE email = 'user@email.com'\n   AND pass  = '' OR 1=1--' LIMIT 1\n"})}),"\n",(0,l.jsx)(n.h4,{id:"sql-injection-protection",children:"SQL Injection Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Don't allow multiple statements."}),"\n",(0,l.jsxs)(n.li,{children:["Validate user input: ",(0,l.jsx)(n.strong,{children:"\u662f\u5426\u5b58\u5728/\u6570\u636e\u7c7b\u578b/\u53d6\u503c\u8303\u56f4/\u7f3a\u7701\u503c/\u6b63\u5219\u8868\u8fbe\u5f0f/\u7279\u6b8a\u5b57\u7b26"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Allowlist user input."}),"\n",(0,l.jsxs)(n.li,{children:["Least privilege principle:\nallow ",(0,l.jsx)(n.code,{children:"SELECT"}),"/",(0,l.jsx)(n.code,{children:"INSERT"}),"/",(0,l.jsx)(n.code,{children:"UPDATE"}),"/",(0,l.jsx)(n.code,{children:"DELETE"})," on certain data,\nforbidden ",(0,l.jsx)(n.code,{children:"CREATE"}),"/",(0,l.jsx)(n.code,{children:"DROP"}),"/",(0,l.jsx)(n.code,{children:"MODIFY"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Use mature object-relational mapping (ORM) library:\nbuilt-in SQL injection protection feature,\n",(0,l.jsx)(n.code,{children:'users.findBy({ email: "billy@gmail.com" })'}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Parameterized statements: use placeholders instead of variable interpolation."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Construct the SQL statement we want to run, specifying the parameter.\nConnection connection = DriverManager.getConnection(DB_URL, DB_USER, DB_PASSWORD);\nStatement statement = connection.createStatement();\nString sql = "SELECT * FROM users WHERE email = ? and encrypted_password = ?";\nstatement.executeQuery(sql, email, password);\n'})}),"\n",(0,l.jsx)(n.h3,{id:"command-injection",children:"Command Injection"}),"\n",(0,l.jsx)(n.h4,{id:"command-injection-attack",children:"Command Injection Attack"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "query": "?domain=google.com%3BEcho%20%22Hacked%22"\n}\n'})}),"\n",(0,l.jsx)(n.h4,{id:"command-injection-protection",children:"Command Injection Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Escape control characters: ",(0,l.jsx)(n.code,{children:"<"}),"/",(0,l.jsx)(n.code,{children:">"}),"/",(0,l.jsx)(n.code,{children:"?"}),"/",(0,l.jsx)(n.code,{children:"="}),"/",(0,l.jsx)(n.code,{children:"&&"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Disable code execution during deserialization."}),"\n",(0,l.jsx)(n.li,{children:"\u5c3d\u91cf\u4e0d\u4f7f\u7528\u7cfb\u7edf\u6267\u884c\u547d\u4ee4."}),"\n",(0,l.jsx)(n.li,{children:"\u4fdd\u8bc1\u52a8\u6001\u51fd\u6570\u4e3a\u53d7\u4fe1\u4efb\u51fd\u6570, \u9632\u6b62\u88ab\u653b\u51fb\u8005\u66ff\u6362."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"http-injection",children:"HTTP Injection"}),"\n",(0,l.jsx)(n.h4,{id:"malicious-redirect-attack",children:"Malicious Redirect Attack"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "query": "?redirect=google.com%3BEcho%20%22Hacked%22"\n}\n'})}),"\n",(0,l.jsx)(n.h4,{id:"malicious-redirect-protection",children:"Malicious Redirect Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5\u7b2c\u4e09\u65b9\u7f51\u7ad9 ",(0,l.jsx)(n.code,{children:"URL"}),", \u663e\u793a\u7b2c\u4e09\u65b9\u5730\u5740\u8df3\u8f6c\u8b66\u544a\u9875\u9762:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Remove sensitive data in URL query and ",(0,l.jsx)(n.code,{children:"Referer"})," header."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'<a href="https://3rd.com" target="_blank" rel="noopener noreferrer nofollow">'}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Check ",(0,l.jsx)(n.code,{children:"?url="}),"/",(0,l.jsx)(n.code,{children:"?redirect"})," data:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Escape control character."}),"\n",(0,l.jsx)(n.li,{children:"Limit redirect range."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Check ",(0,l.jsx)(n.code,{children:"Referrer"})," header when doing redirect."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"function isRelative(url) {\n  return url && url.match(/^\\/[^/\\\\]/)\n}\n"})}),"\n",(0,l.jsx)(n.h4,{id:"http-header-injection-attack",children:"HTTP Header Injection Attack"}),"\n",(0,l.jsxs)(n.p,{children:["\u901a\u8fc7\u622a\u65ad HTTP \u54cd\u5e94\u5934 (\u6362\u884c\u7b26/\u7a7a\u5b57\u7b26),\n\u8986\u76d6 ",(0,l.jsx)(n.code,{children:"Location"}),"/",(0,l.jsx)(n.code,{children:"Referer"})," \u54cd\u5e94\u5934,\n\u6ce8\u5165\u653b\u51fb\u8005\u8bbe\u7f6e\u7684 HTTP \u54cd\u5e94\u5934."]}),"\n",(0,l.jsx)(n.h4,{id:"http-header-injection-protection",children:"HTTP Header Injection Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4e0d\u5c06\u5916\u90e8\u8f93\u5165\u4f5c\u4e3a HTTP \u54cd\u5e94\u5934."}),"\n",(0,l.jsx)(n.li,{children:"\u68c0\u9a8c HTTP \u54cd\u5e94\u5934\u7279\u6b8a\u5b57\u7b26: e.g \u6362\u884c\u7b26."}),"\n",(0,l.jsx)(n.li,{children:"\u4f7f\u7528\u6210\u719f\u7684\u5e93\u751f\u6210 HTTP \u54cd\u5e94\u5934, \u7981\u6b62\u7b80\u5355\u5b57\u7b26\u62fc\u63a5."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"object-injection",children:"Object Injection"}),"\n",(0,l.jsx)(n.h4,{id:"object-injection-attack",children:"Object Injection Attack"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"__proto__.XX"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"constructor"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"hasOwnProperty"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"insecure-object-comparison",children:"Insecure Object Comparison"}),"\n",(0,l.jsx)(n.p,{children:"Injection:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"const token = req.cookie.token\n\n// Vulnerability:\n// SESSIONS[constructor] => `true`\nif (token && SESSIONS[token])\n  next()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Solutions:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"crypto.timingSafeEqual"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"object.hasOwnProperty(token)"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"file-upload-injection",children:"File Upload Injection"}),"\n",(0,l.jsx)(n.h4,{id:"file-upload-attack",children:"File Upload Attack"}),"\n",(0,l.jsx)(n.p,{children:"\u5f53\u4f7f\u7528 JS \u4ee3\u7801\u9650\u5236\u4e0a\u4f20\u6587\u4ef6\u7c7b\u578b\u65f6,\n\u653b\u51fb\u8005 disable JS in browser,\n\u5e76\u4e0a\u4f20 malicious code file:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// Malicious `web shell` code file\n<?php\n  if (isset($_REQUEST['cmd'])) {\n    $cmd = ($_REQUEST['cmd']);\n    system($cmd);\n  } else {\n    echo 'What is your bidding?';\n  }\n?>\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4e00\u65e6\u653b\u51fb\u8005\u6210\u529f\u5c06 ",(0,l.jsx)(n.code,{children:"webShell.php"})," \u5f53\u6210\u5934\u50cf\u4e0a\u4f20\u6210\u529f,\n\u4fbf\u53ef\u4ee5\u5728\u5934\u50cf\u5904\u6267\u884c ",(0,l.jsx)(n.code,{children:"web shell"})," \u8fdc\u7a0b\u653b\u51fb."]}),"\n",(0,l.jsx)(n.h4,{id:"file-upload-protection",children:"File Upload Protection"}),"\n",(0,l.jsx)(n.p,{children:"\u5bf9\u4e8e\u7528\u6237\u4e0a\u4f20\u6587\u4ef6:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9694\u79bb\u6587\u4ef6: host files on secure system."}),"\n",(0,l.jsxs)(n.li,{children:["\u7981\u6b62\u6587\u4ef6\u6267\u884c: ",(0,l.jsx)(n.code,{children:"-x"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"\u91cd\u547d\u540d/\u54c8\u5e0c\u5316\u6587\u4ef6: \u9632\u6b62\u653b\u51fb\u8005\u627e\u5230\u6b64\u6587\u4ef6."}),"\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5\u6587\u4ef6\u683c\u5f0f (extension/",(0,l.jsx)(n.code,{children:"MIME"})," type/",(0,l.jsx)(n.code,{children:"Content-Type"}),")."]}),"\n",(0,l.jsx)(n.li,{children:"\u68c0\u67e5\u6587\u4ef6\u5185\u5bb9."}),"\n",(0,l.jsxs)(n.li,{children:["\u68c0\u67e5 ",(0,l.jsx)(n.code,{children:"Content-Type"})," header."]}),"\n",(0,l.jsx)(n.li,{children:"\u626b\u63cf\u6587\u4ef6: virus scanner."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"authentication-vulnerability",children:"Authentication Vulnerability"}),"\n",(0,l.jsx)(n.h4,{id:"password-attack",children:"Password Attack"}),"\n",(0,l.jsxs)(n.p,{children:["Password ",(0,l.jsx)(n.a,{href:"https://www.hacksplaining.com/prevention/password-mismanagement",children:"mis-management"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Reused key attack: \u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5\u8fdb\u884c\u591a\u6b21\u52a0/\u89e3\u5bc6, \u5c06\u4f7f\u5f97\u7834\u89e3\u6d41\u5bc6\u7801\u53d8\u5f97\u975e\u5e38\u7b80\u5355."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"password-protection",children:"Password Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Require complex password."}),"\n",(0,l.jsx)(n.li,{children:"Require multi-factor authentication."}),"\n",(0,l.jsxs)(n.li,{children:["Secure and robust password hashing: ",(0,l.jsx)(n.code,{children:"bcrypt"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Secure and robust password salting."}),"\n",(0,l.jsx)(n.li,{children:"Secure password resets."}),"\n",(0,l.jsx)(n.li,{children:"Validate email address."}),"\n",(0,l.jsx)(n.li,{children:"Ban disposable email account."}),"\n",(0,l.jsxs)(n.li,{children:["\u5bc6\u94a5\u7ba1\u7406:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9632\u6b62\u5bc6\u94a5\u4ece\u975e\u6b63\u5e38\u7684\u6e20\u9053\u6cc4\u9732."}),"\n",(0,l.jsx)(n.li,{children:"\u5b9a\u671f\u66f4\u6362\u5bc6\u94a5."}),"\n",(0,l.jsx)(n.li,{children:"\u91c7\u7528\u5b89\u5168\u7684\u5bc6\u94a5\u7ba1\u7406\u7cfb\u7edf: Web \u5e94\u7528\u901a\u8fc7 service API \u52a8\u6001\u83b7\u53d6\u5bc6\u94a5, \u53ea\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d, \u4e0d\u5199\u5165\u672c\u5730\u6587\u4ef6."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"user-enumeration-attack",children:"User Enumeration Attack"}),"\n",(0,l.jsx)(n.p,{children:"\u901a\u8fc7\u66b4\u529b\u5de5\u5177\u5f97\u5230\u88ab\u653b\u51fb\u7f51\u7ad9\u7684\u7528\u6237\u540d\u5355, \u5e76\u5229\u7528\u793e\u5de5\u5f97\u5230\u5bc6\u7801:"}),"\n",(0,l.jsxs)(n.p,{children:["REST API \u65e0\u6cd5\u62b5\u6297\u6b64\u79cd\u653b\u51fb,\ne.g GitHub ",(0,l.jsx)(n.a,{href:"https://github.com",children:"user profile"}),"."]}),"\n",(0,l.jsx)(n.h4,{id:"user-enumeration-protection",children:"User Enumeration Protection"}),"\n",(0,l.jsx)(n.h5,{id:"user-api-protection",children:"User API Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9650\u5236 API \u8bbf\u95ee\u9891\u7387\u4e0e\u6b21\u6570."}),"\n",(0,l.jsx)(n.li,{children:"\u8bbe\u7f6e IP \u9ed1\u540d\u5355."}),"\n",(0,l.jsx)(n.li,{children:"\u8bb0\u5f55\u767b\u9646\u65e5\u5fd7."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://www.google.com/recaptcha/about",children:"CAPTCHA"}),":\ncompletely automated public turing test to tell computers and humans apart."]}),"\n",(0,l.jsx)(n.li,{children:"\u9690\u85cf\u7528\u6237 ID, \u53ea\u663e\u793a\u6635\u79f0."}),"\n"]}),"\n",(0,l.jsx)(n.h5,{id:"login-protection",children:"Login Protection"}),"\n",(0,l.jsx)(n.p,{children:"\u4f7f\u653b\u51fb\u8005\u65e0\u6cd5\u679a\u4e3e\u7528\u6237\u540d, \u4ed6\u65e0\u6cd5\u786e\u5b9a\u662f\u7528\u6237\u4e0d\u5b58\u5728\u8fd8\u662f\u5bc6\u7801\u9519\u8bef:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Login error message: Unknown User ",(0,l.jsx)(n.strong,{children:"or"})," Password."]}),"\n",(0,l.jsxs)(n.li,{children:["All login code-paths take ",(0,l.jsx)(n.strong,{children:"same time"})," on average: time consuming operations."]}),"\n",(0,l.jsxs)(n.li,{children:["All login code-paths take ",(0,l.jsx)(n.strong,{children:"same context"}),": session ID, cookie."]}),"\n"]}),"\n",(0,l.jsx)(n.h5,{id:"sign-up-and-reset-protection",children:"Sign Up and Reset Protection"}),"\n",(0,l.jsx)(n.p,{children:"Not with name, should with email:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4f7f\u653b\u51fb\u8005\u65e0\u6cd5\u679a\u4e3e\u7528\u6237\u540d, \u4ed6\u65e0\u6cd5\u786e\u5b9a\u662f\u7528\u6237\u4e0d\u5b58\u5728\u8fd8\u662f\u7528\u6237\u5df2\u5b58\u5728."}),"\n",(0,l.jsx)(n.li,{children:"Not Exist: Sending sign-up email."}),"\n",(0,l.jsx)(n.li,{children:"Exist: Sending pwd-reset email."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"session-vulnerability",children:"Session Vulnerability"}),"\n",(0,l.jsx)(n.h4,{id:"session-hijacking-protection",children:"Session Hijacking Protection"}),"\n",(0,l.jsxs)(n.p,{children:["Same site cookie ",(0,l.jsx)(n.a,{href:"https://web.dev/first-party-cookie-recipes",children:"recipe"}),",\n",(0,l.jsx)(n.code,{children:"Set-Cookie: session_id=278283910977381992837; HttpOnly; Secure; SameSite=Lax"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prevent XSS cookie theft,\ndisable JavaScript access to cookie:\n",(0,l.jsx)(n.code,{children:"Set-Cookie: session_id=278283910977381992837; HttpOnly"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Prevent CSRF cookie theft,\nenable same-origin policy, only allow cookie on ",(0,l.jsx)(n.code,{children:"GET"})," request (social media sharing):\n",(0,l.jsx)(n.code,{children:"Set-Cookie: session_id=278283910977381992837; SameSite=Lax"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Prevent man-in-the-middle attack,\nuse HTTPS connection:\n",(0,l.jsx)(n.code,{children:"Set-Cookie: session_id=278283910977381992837; Secure"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"session-fixation-protection",children:"Session Fixation Protection"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 ",(0,l.jsx)(n.strong,{children:"HTTP Cookie"})," \u4e2d\u4f20\u8f93",(0,l.jsx)(n.strong,{children:"\u590d\u6742"}),"\u7684 session ID, \u5e76\u5728",(0,l.jsx)(n.strong,{children:"\u6210\u529f\u8fde\u63a5"}),"/",(0,l.jsx)(n.strong,{children:"\u6076\u610f\u7be1\u6539"}),"\u540e\u91cd\u7f6e session ID:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Not passing session ID in ",(0,l.jsx)(n.code,{children:"queryString"}),"/",(0,l.jsx)(n.code,{children:"requestBody"}),":\n\u8df3\u8f6c\u81f3\u7b2c\u4e09\u65b9\u94fe\u63a5\u65f6, \u4f1a\u5728 ",(0,l.jsx)(n.code,{children:"Referer"})," header \u5904\u6cc4\u9732 session ID,\npassing them in ",(0,l.jsx)(n.strong,{children:"HTTP Cookie"}),".\n\u540c\u6837\u5730, \u4e0d\u5141\u8bb8\u5728 URL query \u5904\u653e\u7f6e\u4efb\u4f55\u5176\u4ed6\u654f\u611f\u6570\u636e (\u5982 token)."]}),"\n",(0,l.jsx)(n.li,{children:"Generate complex session ID."}),"\n",(0,l.jsx)(n.li,{children:"\u8ba4\u8bc1\u6210\u529f\u524d\u4e0d\u5728\u4f1a\u8bdd\u53d8\u91cf\u4e2d\u5b58\u50a8\u654f\u611f\u4fe1\u606f."}),"\n",(0,l.jsx)(n.li,{children:"Reset session ID after set up session successfully."}),"\n",(0,l.jsxs)(n.li,{children:["Reset session ID after it's been changed manually on client (",(0,l.jsx)(n.code,{children:"Set-Cookie"}),"):","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"IP."}),"\n",(0,l.jsx)(n.li,{children:"Device."}),"\n",(0,l.jsx)(n.li,{children:"User agent."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"req.session.regenerate((err) => {\n  process(err)\n})\n\nconst generateSessionId = session => uid(24)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"directory-traversal",children:"Directory Traversal"}),"\n",(0,l.jsx)(n.h4,{id:"directory-traversal-attack",children:"Directory Traversal Attack"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /../../../passwd.key HTTP/1.1\n"})}),"\n",(0,l.jsx)(n.h4,{id:"directory-traversal-protection",children:"Directory Traversal Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u68c0\u67e5\u8bf7\u6c42\u8def\u5f84\u662f\u5426\u5b89\u5168, \u5426\u5219\u4e0d\u8fd4\u56de\u54cd\u5e94."}),"\n",(0,l.jsx)(n.li,{children:"Use mature hosting service."}),"\n",(0,l.jsx)(n.li,{children:"Use indirect file reference."}),"\n",(0,l.jsx)(n.li,{children:"Sanitize file reference."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"information-leakage",children:"Information Leakage"}),"\n",(0,l.jsx)(n.h4,{id:"information-leakage-attack",children:"Information Leakage Attack"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Server in response headers."}),"\n",(0,l.jsx)(n.li,{children:"Cookie: J_SESSION_ID -> Java."}),"\n",(0,l.jsxs)(n.li,{children:["URL: ",(0,l.jsx)(n.code,{children:".jsp"}),", ",(0,l.jsx)(n.code,{children:".php"}),", ",(0,l.jsx)(n.code,{children:".asp"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Error message."}),"\n",(0,l.jsx)(n.li,{children:"AJAX responses."}),"\n",(0,l.jsx)(n.li,{children:"JSON/XML responses."}),"\n",(0,l.jsx)(n.li,{children:"Code information."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "Server": "Apache/1.3.23",\n    "Accept-Ranges": "bytes",\n    "Content-length": 196,\n    "Connection": "close",\n    "Content-Type": "text/html",\n    "Cookie": "SESSION_ID=XXXXX"\n  },\n  {\n    "Server": "Microsoft-IIS/5.0",\n    "Content-Type": "text/html",\n    "Accept-Ranges": "bytes",\n    "ETag": "b0aac0542e25c31",\n    "Content-Length": 7369\n  }\n]\n'})}),"\n",(0,l.jsx)(n.h4,{id:"information-leakage-protection",children:"Information Leakage Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"NODE_ENV=production"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"\u5904\u7406/\u6df7\u6dc6/\u52a0\u5bc6\u539f\u59cb\u6570\u636e (raw data)."}),"\n",(0,l.jsx)(n.li,{children:"\u5904\u7406/\u6df7\u6dc6\u5ba2\u6237\u7aef\u4ee3\u7801."}),"\n",(0,l.jsx)(n.li,{children:"\u53bb\u9664\u5de5\u5177\u5e93\u7684\u7248\u672c\u4fe1\u606f."}),"\n",(0,l.jsxs)(n.li,{children:["Disable ",(0,l.jsx)(n.code,{children:"Server"})," HTTP header and similar headers."]}),"\n",(0,l.jsx)(n.li,{children:"Use clean URLs without extensions."}),"\n",(0,l.jsx)(n.li,{children:"Use generic cookie parameters."}),"\n",(0,l.jsx)(n.li,{children:"Disable client-side error reporting."}),"\n",(0,l.jsx)(n.li,{children:"Sanitize data passed to client."}),"\n",(0,l.jsx)(n.li,{children:"Obfuscate JavaScript."}),"\n",(0,l.jsx)(n.li,{children:"Sanitize template files."}),"\n",(0,l.jsx)(n.li,{children:"Ensure correct configuration of Web root directory."}),"\n",(0,l.jsx)(n.li,{children:"\u914d\u7f6e\u8fb9\u754c\u8def\u7531\u5668\u548c\u9632\u706b\u5899: \u963b\u6b62\u4ece\u654f\u611f\u6765\u6e90\u53d1\u8d77\u7684\u4fe1\u606f\u8bf7\u6c42."}),"\n",(0,l.jsx)(n.li,{children:"\u9650\u5236\u5bf9\u6240\u6709\u654f\u611f\u4fe1\u606f\u6e90\u7684\u8bbf\u95ee."}),"\n",(0,l.jsx)(n.li,{children:"\u6c38\u8fdc\u4e0d\u8981\u786c\u7f16\u7801\u5bc6\u7801, \u4e14\u4e0d\u653e\u5728\u6613\u66b4\u9732\u4f4d\u7f6e."}),"\n",(0,l.jsx)(n.li,{children:"\u5bf9\u4efb\u4f55\u654f\u611f\u4fe1\u606f\u6e90\u4f7f\u7528\u53cc\u56e0\u7d20\u8ba4\u8bc1."}),"\n",(0,l.jsx)(n.li,{children:"\u6267\u884c\u5ba1\u6838\u6765\u67e5\u627e\u6f5c\u5728\u7684\u6f0f\u6d1e."}),"\n",(0,l.jsx)(n.li,{children:"\u4f7f\u7528\u8bc4\u4f30\u5de5\u5177\u6765\u786e\u5b9a\u662f\u5426\u5b58\u5728\u4ece\u6307\u5b9a\u4f4d\u7f6e\u5916\u7684\u4efb\u4f55\u4f4d\u7f6e\u8bbf\u95ee\u654f\u611f\u4fe1\u606f\u6e90\u7684\u53ef\u80fd."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"supply-chain-vulnerability",children:"Supply Chain Vulnerability"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://slsa.dev/spec",children:(0,l.jsx)(n.img,{alt:"Supply Chain Threats",src:i(9182).A+"",width:"784",height:"441"})})}),"\n",(0,l.jsx)(n.h4,{id:"supply-chain-attack",children:"Supply Chain Attack"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://dev.to/devdevcharlie/running-a-ransomware-attack-in-a-nodejs-module-4hgb",children:"Running file encryption attack in Node.js module"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://blog.npmjs.org/post/141577284765/kik-left-pad-and-npm",children:"left-pad"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://eslint.org/blog/2018/07/postmortem-for-malicious-package-publishes",children:"eslint"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/ant-design/ant-design/issues/13098",children:"antd"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/marak/Faker.js",children:"faker.js"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/Marak/colors.js/issues/285",children:"colors.js"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/RIAEvangelist/node-ipc",children:"node-ipc"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/medikoo/es5-ext/commit/28de285ed433b45113f01e4ce7c74e9a356b2af2",children:"es5-ext"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/Yaffle/EventSource/commit/de137927e13d8afac153d2485152ccec48948a7a",children:"event-source-polyfill"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/styled-components/styled-components/commit/ba9d732ca7da53f2a095e35450ecffd592c6f5ba",children:"styled-components"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"supply-chain-protection",children:"Supply Chain Protection"}),"\n",(0,l.jsx)(n.p,{children:"\u8bc4\u4f30 NPM package \u8d28\u91cf:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4ee3\u7801\u8d28\u91cf."}),"\n",(0,l.jsx)(n.li,{children:"\u6d4b\u8bd5\u5b8c\u5907\u6027."}),"\n",(0,l.jsx)(n.li,{children:"\u6587\u6863\u5b8c\u5907\u6027."}),"\n",(0,l.jsx)(n.li,{children:"\u5de5\u7a0b\u5b8c\u5907\u6027 (DevOps)."}),"\n",(0,l.jsx)(n.li,{children:"\u5f00\u53d1\u4eba\u5458\u6784\u6210."}),"\n",(0,l.jsx)(n.li,{children:"\u517c\u5bb9\u6027:"}),"\n",(0,l.jsx)(n.li,{children:"\u6d41\u884c\u5ea6."}),"\n",(0,l.jsx)(n.li,{children:"\u5386\u53f2\u9057\u7559 Bug."}),"\n",(0,l.jsx)(n.li,{children:"\u91cd\u590d\u5b9e\u73b0\u590d\u6742\u5ea6."}),"\n",(0,l.jsx)(n.li,{children:"\u4f7f\u7528\u65f6\u957f."}),"\n",(0,l.jsx)(n.li,{children:"\u540e\u7eed\u4f9d\u8d56\u7248\u672c\u66f4\u65b0\u7b56\u7565."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"malicious-package-attack",children:"Malicious Package Attack"}),"\n",(0,l.jsxs)(n.p,{children:["\u540d\u5b57\u4e0e\u6d41\u884c\u5305\u76f8\u8fd1, \u901a\u8fc7 ",(0,l.jsx)(n.code,{children:"postinstall"})," \u811a\u672c\u6267\u884c\u75c5\u6bd2\u811a\u672c, \u83b7\u53d6\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4fe1\u606f e.g ",(0,l.jsx)(n.code,{children:"crossenv"}),"."]}),"\n",(0,l.jsx)(n.h4,{id:"malicious-package-protection",children:"Malicious Package Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["No typo in ",(0,l.jsx)(n.code,{children:"package.json"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["NPM package ",(0,l.jsx)(n.a,{href:"https://openbase.com",children:"database"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["NPM package ",(0,l.jsx)(n.a,{href:"https://snyk.io/advisor",children:"advisor"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u7981\u6b62\u6267\u884c ",(0,l.jsx)(n.code,{children:"postinstall"})," \u811a\u672c."]}),"\n",(0,l.jsxs)(n.li,{children:["Use mature dependency management tools: ",(0,l.jsx)(n.code,{children:"renovate"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Stay alert to security issues:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Apply operating system patches."}),"\n",(0,l.jsxs)(n.li,{children:["Security tools: ",(0,l.jsx)(n.code,{children:"npm audit"}),", ",(0,l.jsx)(n.code,{children:"socket.security"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Official advisories."}),"\n",(0,l.jsx)(n.li,{children:"Mailing lists and blogs."}),"\n",(0,l.jsx)(n.li,{children:"Social media."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Package integrity check."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cat FILENAME.js | openssl dgst -sha384 -binary | openssl base64 -A\n"})}),"\n",(0,l.jsx)(n.h3,{id:"xml-vulnerability",children:"XML Vulnerability"}),"\n",(0,l.jsx)(n.h4,{id:"xml-attack",children:"XML Attack"}),"\n",(0,l.jsx)(n.p,{children:"Inline document type definition in XML\nled to dangerous macros:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"XML bombs."}),"\n",(0,l.jsx)(n.li,{children:"XML external entities."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"xml-protection",children:"XML Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Disable DTD (Document Type Definitions) parse in XML parser:\n",(0,l.jsx)(n.code,{children:"xml2js"}),", ",(0,l.jsx)(n.code,{children:"parse-xml"}),", ",(0,l.jsx)(n.code,{children:"node-xml"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Least privilege principle."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"denial-of-service",children:"Denial of Service"}),"\n",(0,l.jsx)(n.h4,{id:"dos-attack",children:"DoS Attack"}),"\n",(0,l.jsx)(n.p,{children:"DoS \u653b\u51fb, \u653b\u51fb\u8005\u4e0d\u65ad\u5730\u63d0\u51fa\u670d\u52a1\u8bf7\u6c42, \u8ba9\u5408\u6cd5\u7528\u6237\u7684\u8bf7\u6c42\u65e0\u6cd5\u53ca\u65f6\u5904\u7406:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"DNS \u670d\u52a1."}),"\n",(0,l.jsx)(n.li,{children:"Email \u670d\u52a1."}),"\n",(0,l.jsx)(n.li,{children:"FTP \u670d\u52a1."}),"\n",(0,l.jsx)(n.li,{children:"ICMP \u670d\u52a1."}),"\n",(0,l.jsx)(n.li,{children:"TCP \u670d\u52a1."}),"\n",(0,l.jsx)(n.li,{children:"Telnet \u670d\u52a1."}),"\n",(0,l.jsx)(n.li,{children:"Web \u670d\u52a1."}),"\n",(0,l.jsx)(n.li,{children:"\u5373\u65f6\u901a\u8baf\u670d\u52a1."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"dos-protection",children:"DoS Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Application firewall."}),"\n",(0,l.jsx)(n.li,{children:"Intrusion prevention system."}),"\n",(0,l.jsx)(n.li,{children:"\u8d2d\u4e70\u4e13\u95e8\u8bbe\u8ba1\u7528\u6765\u5bf9\u6297 DoS \u653b\u51fb\u7684\u8bbe\u5907."}),"\n",(0,l.jsx)(n.li,{children:"\u4f9d\u9760\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546 (ISP) \u6765\u68c0\u6d4b\u5e76\u6d88\u9664 DoS \u653b\u51fb."}),"\n",(0,l.jsx)(n.li,{children:"\u83b7\u53d6\u4e91\u7f13\u5b58\u63d0\u4f9b\u5546\u7684\u670d\u52a1: mature CDN service support DDoS protection."}),"\n",(0,l.jsx)(n.li,{children:"Scalable job queue."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"ddos-attack",children:"DDoS Attack"}),"\n",(0,l.jsx)(n.p,{children:"Distributed denial of service attack:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["SYN flood:\n\u4f2a\u9020 IP \u4e0d\u5e94\u7b54\u670d\u52a1\u5668 ",(0,l.jsx)(n.code,{children:"SYN/ACK"})," \u62a5\u6587, \u5bfc\u81f4\u670d\u52a1\u5668\u6d88\u8017\u8d44\u6e90 (retry time) \u5904\u7406\u8fd9\u79cd\u534a\u8fde\u63a5."]}),"\n",(0,l.jsx)(n.li,{children:"UDP flood."}),"\n",(0,l.jsx)(n.li,{children:"ICMP flood."}),"\n",(0,l.jsxs)(n.li,{children:["Slow connection attack: \u6784\u9020 ",(0,l.jsx)(n.code,{children:"Content-Length"})," \u5927\u503c, \u4f4e\u901f\u5ea6\u53d1\u5305 (10s ~ 100s \u53d1\u9001\u4e00\u4e2a\u5b57\u8282), \u5360\u7528\u670d\u52a1\u5668\u8d44\u6e90."]}),"\n",(0,l.jsx)(n.li,{children:"Redirect attack: \u5165\u4fb5\u4e86\u4e00\u4e2a\u5927\u7f51\u7ad9\u540e, \u901a\u8fc7\u7be1\u6539\u9875\u9762, \u5c06\u5de8\u5927\u7684\u7528\u6237\u6d41\u91cf\u5206\u6d41\u5230\u76ee\u6807\u7f51\u7ad9."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"ddos-protection",children:"DDoS Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"SYN cookie: \u6bcf\u4e2a IP \u5730\u5740\u5206\u914d\u4e00\u4e2a cookie, \u9650\u5236\u8bbf\u95ee\u9891\u7387, \u8d85\u8fc7\u4e00\u5b9a\u9891\u7387\u540e\u4e0d\u54cd\u5e94 IP."}),"\n",(0,l.jsxs)(n.li,{children:["\u9650\u5236\u8bf7\u6c42\u9891\u7387\u4e0e\u8bf7\u6c42\u529b\u5ea6:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5ba2\u6237\u7aef:\nCAPTCHA (Completely Automated Pub-lic Turing Test to Tell Computers and HumansApart)."}),"\n",(0,l.jsx)(n.li,{children:"\u670d\u52a1\u7aef:\n\u5efa\u7acb\u5e94\u7528\u9632\u706b\u5899\u4e0e\u670d\u52a1\u5668\u5b89\u5168\u6a21\u5757, e.g \u8fc7\u6ee4\u7f51\u5173\u9632\u62a4."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u63d0\u5347\u5e26\u5bbd\u6700\u5927\u8d1f\u8377.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7f29\u77ed\u8d85\u65f6 (SYN Timeout) \u65f6\u95f4."}),"\n",(0,l.jsx)(n.li,{children:"\u589e\u52a0\u6700\u5927\u534a\u8fde\u63a5\u6570."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u63d0\u5347\u670d\u52a1\u5668\u6027\u80fd:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use mature memory cache library, e.g ",(0,l.jsx)(n.code,{children:"Redis"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"\u8d1f\u8f7d\u5747\u8861."}),"\n",(0,l.jsx)(n.li,{children:"CDN."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"redos-attack",children:"ReDoS Attack"}),"\n",(0,l.jsx)(n.p,{children:"\u6b63\u5219\u8868\u8fbe\u5f0f DoS \u653b\u51fb:"}),"\n",(0,l.jsx)(n.p,{children:"\u6b63\u5219\u8868\u8fbe\u5f0f\u5f15\u64ce\u91c7\u7528\u56de\u6eaf\u7684\u65b9\u5f0f\u5339\u914d\u6240\u6709\u53ef\u80fd\u6027, \u5bfc\u81f4\u6027\u80fd\u95ee\u9898."}),"\n",(0,l.jsx)(n.h4,{id:"redos-protection",children:"ReDoS Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4e0d\u4f7f\u7528 NFA \u5b9e\u73b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5f15\u64ce, \u4f7f\u7528 DFA \u5b9e\u73b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5f15\u64ce."}),"\n",(0,l.jsx)(n.li,{children:"\u4e0d\u5b9a\u4e49\u6027\u80fd\u6d88\u8017\u8fc7\u5927\u7684\u6b63\u5219\u8868\u8fbe\u5f0f."}),"\n",(0,l.jsxs)(n.li,{children:["\u4e0d\u52a8\u6001\u6784\u9020\u6b63\u5219\u8868\u8fbe\u5f0f ",(0,l.jsx)(n.code,{children:"new RegExp()"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"\u7981\u6b62\u7528\u6237\u8f93\u5165\u5f71\u54cd\u6b63\u5219\u8868\u8fbe\u5f0f\u6784\u5efa/\u5339\u914d."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"zero-trust-access-control",children:"Zero Trust Access Control"}),"\n",(0,l.jsxs)(n.p,{children:["\u4ece\u9632\u5fa1\u7684\u89d2\u5ea6\u6765\u8bb2, \u5185\u90e8\u98ce\u9669\u662f\u5916\u90e8\u98ce\u9669\u7684\u8d85\u96c6:\n\u5f53\u653b\u51fb\u8005\u653b\u9677\u4efb\u4f55\u4e00\u4e2a\u5185\u90e8\u4eba\u5458 (\u5408\u6cd5\u7528\u6237\u6216\u5458\u5de5) \u7684\u8bbe\u5907\u540e,\n\u653b\u51fb\u8005\u4fbf\u6210\u4e86\u5185\u90e8\u4eba\u5458.\n",(0,l.jsx)(n.a,{href:"https://zchn.github.io/j/ztcn",children:"\u96f6\u4fe1\u4efb"}),"\n\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u770b\u5c31\u662f\u5047\u8bbe\u4efb\u4f55\u4e00\u53f0\u4e3b\u673a\u90fd\u6709\u53ef\u80fd\u88ab\u653b\u9677."]}),"\n",(0,l.jsx)(n.h3,{id:"chain-of-trust",children:"Chain of Trust"}),"\n",(0,l.jsx)(n.p,{children:"\u96f6\u4fe1\u4efb\u5e76\u4e0d\u662f\u5b8c\u5168\u6ca1\u6709\u4fe1\u4efb,\n\u800c\u662f\u51e0\u4e2a\u57fa\u672c\u7684\u6700\u5c0f\u5316\u7684\u4fe1\u4efb\u6839 (Root of Trust),\n\u91cd\u6784\u4fe1\u4efb\u94fe (Chain of Trust).\n\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u6807\u51c6\u5316\u6d41\u7a0b (Standard Process) \u5efa\u7acb\u7684\u4e00\u4e2a\u5b8c\u6574\u7684\u4fe1\u4efb\u94fe\n(\u4fe1\u4efb\u6811 Tree of Trust \u6216\u8005\u4fe1\u4efb\u7f51 Web of Trust)."}),"\n",(0,l.jsx)(n.p,{children:"\u51e0\u4e2a\u5178\u578b\u7684\u4f8b\u5b50\u5305\u62ec:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u591a\u56e0\u5b50\u8ba4\u8bc1 (MFA, Multi-Factor Authentication):\n\u4eba\u7684\u8eab\u4efd\u7684\u4fe1\u4efb\u6839."}),"\n",(0,l.jsx)(n.li,{children:"\u53ef\u4fe1\u5e73\u53f0\u6a21\u5757 (TPM, Trusted Platform Module)\u548c\u53ef\u4fe1\u542f\u52a8 (Trusted Boot):\n\u673a\u5668\u7684\u8eab\u4efd\u7684\u4fe1\u4efb\u6839."}),"\n",(0,l.jsx)(n.li,{children:"\u6e90\u4ee3\u7801\u548c\u53ef\u4fe1\u7f16\u8bd1 (Trusted Build):\n\u8f6f\u4ef6\u7684\u4fe1\u4efb\u6839."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"identity-20",children:"Identity 2.0"}),"\n",(0,l.jsx)(n.p,{children:"\u8eab\u4efd 2.0 \u662f\u5bf9\u4e8e\u4ee5\u4e0a\u7684\u4fe1\u4efb\u94fe\u7684\u6807\u51c6\u5316,\n\u4ee5\u4fbf\u4e8e\u5728\u5b89\u5168\u8bbf\u95ee\u7b56\u7565\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u5728\u5efa\u7acb\u4fe1\u4efb\u8fc7\u7a0b\u4e2d\u6536\u96c6\u5230\u7684\u4fe1\u606f."}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u8eab\u4efd 2.0 \u4e2d, \u4e00\u5207\u672c\u4f53 (Entity) \u90fd\u6709\u8eab\u4efd.\n\u7528\u6237\u6709\u7528\u6237\u8eab\u4efd, \u5458\u5de5\u6709\u5458\u5de5\u8eab\u4efd, \u673a\u5668\u6709\u673a\u5668\u8eab\u4efd, \u8f6f\u4ef6\u6709\u8f6f\u4ef6\u8eab\u4efd."}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u8eab\u4efd 2.0 \u4e2d, \u4e00\u5207\u8bbf\u95ee (Access) \u90fd\u5e26\u6709\u8bbf\u95ee\u80cc\u666f (Access Context):"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u76ee\u7684: \u4e3a\u4e86\u5e2e\u52a9\u7528\u6237\u89e3\u51b3\u4e00\u4e2a\u6280\u672f\u95ee\u9898"}),"\n",(0,l.jsx)(n.li,{children:"\u8bbf\u95ee\u8005: \u5458\u5de5 A"}),"\n",(0,l.jsx)(n.li,{children:"\u6388\u6743\u8005: \u7528\u6237 B"}),"\n",(0,l.jsx)(n.li,{children:"\u8bbf\u95ee\u65b9\u5f0f: \u8f6f\u4ef6 C"}),"\n",(0,l.jsx)(n.li,{children:"\u8bbf\u95ee\u5730\u70b9: \u673a\u5668 D"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"continuous-access-control",children:"Continuous Access Control"}),"\n",(0,l.jsx)(n.p,{children:"\u6301\u7eed\u8bbf\u95ee\u63a7\u5236\u4f1a\u5728\u8f6f\u4ef6\u5f00\u53d1\u548c\u8fd0\u884c\u7684\u5404\u4e2a\u73af\u8282\u6301\u7eed\u5730\u8fdb\u884c\u8bbf\u95ee\u63a7\u5236:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5728\u5458\u5de5\u767b\u5f55\u65f6\u8981\u6c42\u63d0\u4f9b\u591a\u56e0\u5b50\u8ba4\u8bc1."}),"\n",(0,l.jsx)(n.li,{children:"\u5728\u90e8\u7f72\u8f6f\u4ef6\u65f6\u8981\u6c42\u8f6f\u4ef6\u662f\u4ece\u4fe1\u4efb\u7684\u6e90\u7801\u5e93\u5728\u5b89\u5168\u7684\u73af\u5883\u4e2d\u7f16\u8bd1\u800c\u6765,\n\u5e76\u7ecf\u8fc7\u4ee3\u7801\u8bc4\u4f30 (Code Review)."}),"\n",(0,l.jsx)(n.li,{children:"\u5728\u4e3b\u673a\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\u65f6\u8981\u6c42\u53cc\u65b9\u63d0\u4f9b\u4e3b\u673a\u5b8c\u6574\u6027\u8bc1\u660e."}),"\n",(0,l.jsx)(n.li,{children:"\u5728\u5fae\u670d\u52a1\u83b7\u53d6\u7279\u5b9a\u7528\u6237\u6570\u636e\u65f6\u8981\u6c42\u63d0\u4f9b\u8be5\u7528\u6237\u7684\u6388\u6743\u4ee4\u724c (Authorization Token)."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"zero-trust-basement",children:"Zero Trust Basement"}),"\n",(0,l.jsx)(n.p,{children:"\u96f6\u4fe1\u4efb\u7684\u5b9e\u65bd\u4f9d\u8d56\u4e8e\u624e\u5b9e\u7684\u57fa\u7840\u5b89\u5168\u67b6\u6784, \u6ca1\u6709\u57fa\u7840\u5c31\u6ca1\u6709\u4e0a\u5c42\u5efa\u7b51.\n\u8c37\u6b4c\u96f6\u4fe1\u4efb\u4f9d\u8d56\u4e8e\u4ee5\u4e0b\u57fa\u7840\u8bbe\u65bd\u63d0\u4f9b\u7684\u57fa\u672c\u5b89\u5168\u4fdd\u969c:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u52a0\u5bc6\u548c\u5bc6\u94a5\u7ba1\u7406 (Encryption and Key Management)"}),"\n",(0,l.jsx)(n.li,{children:"\u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406 (Identity and Access Management)"}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u5b57\u5316\u4eba\u529b\u8d44\u6e90\u7ba1\u7406 (Digital Human Resource)"}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u5b57\u5316\u8bbe\u5907\u7ba1\u7406 (Digital Device Management)"}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u4e2d\u5fc3\u5b89\u5168 (Data Center Security)"}),"\n",(0,l.jsx)(n.li,{children:"\u7f51\u7edc\u5b89\u5168 (Network Security)"}),"\n",(0,l.jsx)(n.li,{children:"\u4e3b\u673a\u5b89\u5168 (Host Security)"}),"\n",(0,l.jsx)(n.li,{children:"\u5bb9\u5668\u9694\u79bb (Container Isolation, gVisor)"}),"\n",(0,l.jsx)(n.li,{children:"\u53ef\u4fe1\u542f\u52a8 (Trusted Boot)"}),"\n",(0,l.jsx)(n.li,{children:"\u53ef\u9a8c\u8bc1\u7f16\u8bd1 (Verifiable Build)"}),"\n",(0,l.jsx)(n.li,{children:"\u8f6f\u4ef6\u5b8c\u6574\u6027\u9a8c\u8bc1 (Software Integrity Verification)"}),"\n",(0,l.jsx)(n.li,{children:"\u53cc\u5411 TLS (mTLS)"}),"\n",(0,l.jsx)(n.li,{children:"\u57fa\u4e8e\u670d\u52a1\u7684\u8bbf\u95ee\u7b56\u7565 (Service Access Policy)"}),"\n",(0,l.jsx)(n.li,{children:"\u7ec8\u7aef\u7528\u6237\u4ee4\u724c (End User Context Tokens)"}),"\n",(0,l.jsx)(n.li,{children:"\u914d\u7f6e\u5373\u4ee3\u7801 (Configuration as Code)"}),"\n",(0,l.jsx)(n.li,{children:"\u6807\u51c6\u5316\u5f00\u53d1\u548c\u90e8\u7f72 (Standard Development and Deployment)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"security-checklist",children:"Security Checklist"}),"\n",(0,l.jsx)(n.h3,{id:"access-control-system-checklist",children:"Access Control System Checklist"}),"\n",(0,l.jsx)(n.p,{children:"\u6ce8\u518c/\u4e8c\u6b21\u9a8c\u8bc1/\u5bc6\u7801\u91cd\u7f6e:"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4efb\u4f55\u5730\u65b9\u90fd\u4f7f\u7528 HTTPS."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"bcrypt"})," \u5b58\u50a8\u5bc6\u7801\u54c8\u5e0c."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u767b\u51fa"}),"\u4e4b\u540e\u9500\u6bc1\u4f1a\u8bdd ID ."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5bc6\u7801\u91cd\u7f6e\u540e\u9500\u6bc1\u6240\u6709\u6d3b\u8dc3\u7684\u4f1a\u8bdd."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","OAuth2 \u9a8c\u8bc1\u5fc5\u987b\u5305\u542b ",(0,l.jsx)(n.code,{children:"state"})," \u53c2\u6570."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u767b\u9646\u6210\u529f\u4e4b\u540e\u4e0d\u80fd\u76f4\u63a5\u91cd\u5b9a\u5411\u5230\u5f00\u653e\u7684\u8def\u5f84 (\u9700\u8981\u6821\u9a8c, \u5426\u5219\u5bb9\u6613\u5b58\u5728\u9493\u9c7c\u653b\u51fb)."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5f53\u89e3\u6790\u7528\u6237\u6ce8\u518c/\u767b\u9646\u7684\u8f93\u5165\u65f6, \u8fc7\u6ee4 ",(0,l.jsx)(n.code,{children:"javascript://"}),", ",(0,l.jsx)(n.code,{children:"data://"})," \u4ee5\u53ca\u5176\u4ed6 CRLF \u5b57\u7b26."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"secure"}),"/",(0,l.jsx)(n.code,{children:"httpOnly"})," ",(0,l.jsx)(n.code,{children:"Cookie"}),"."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u79fb\u52a8\u7aef\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"OTP"})," \u9a8c\u8bc1\u65f6, \u5f53\u8c03\u7528 ",(0,l.jsx)(n.code,{children:"generate OTP"})," \u6216\u8005 ",(0,l.jsx)(n.code,{children:"Resend OTP"})," API \u65f6\u4e0d\u80fd\u628a OTP\n(One Time Password) \u76f4\u63a5\u8fd4\u56de\n(\u4e00\u822c\u662f\u901a\u8fc7\u53d1\u9001\u624b\u673a\u9a8c\u8bc1\u77ed\u4fe1, \u90ae\u7bb1\u968f\u673a code \u7b49\u65b9\u5f0f, \u800c\u4e0d\u662f\u76f4\u63a5 response)."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u9650\u5236\u5355\u4e2a\u7528\u6237 ",(0,l.jsx)(n.code,{children:"Login"}),"/",(0,l.jsx)(n.code,{children:"Verify OTP"}),"/ ",(0,l.jsx)(n.code,{children:"Resend OTP"}),"/",(0,l.jsx)(n.code,{children:"generate OTP"})," \u7b49 API \u7684\u8c03\u7528\u6b21\u6570,\n\u4f7f\u7528 Captcha \u7b49\u624b\u6bb5\u9632\u6b62\u66b4\u529b\u7834\u89e3."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u68c0\u67e5\u90ae\u4ef6\u6216\u77ed\u4fe1\u91cc\u7684\u91cd\u7f6e\u5bc6\u7801\u7684 token, \u786e\u4fdd\u968f\u673a\u6027 (\u65e0\u6cd5\u731c\u6d4b)."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u7ed9\u91cd\u7f6e\u5bc6\u7801\u7684 token \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u91cd\u7f6e\u5bc6\u7801\u6210\u529f\u540e, \u5c06\u91cd\u7f6e\u4f7f\u7528\u7684 token \u5931\u6548."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Nodejs \u7b49\u4e0d\u4f7f\u7528 sudo \u8fd0\u884c."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"authentication-checklist",children:"Authentication Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u8bf8\u5982",(0,l.jsx)(n.code,{children:"\u6211\u7684\u8d2d\u7269\u8f66"}),"/",(0,l.jsx)(n.code,{children:"\u6211\u7684\u6d4f\u89c8\u5386\u53f2"}),"\u4e4b\u7c7b\u7684\u8d44\u6e90\u8bbf\u95ee, \u5fc5\u987b\u68c0\u67e5\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u662f\u5426\u6709\u8fd9\u4e9b\u8d44\u6e90\u7684\u8bbf\u95ee\u6743\u9650."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u907f\u514d\u8d44\u6e90 ID \u88ab\u8fde\u7eed\u904d\u5386\u8bbf\u95ee, \u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"/me/orders"})," \u4ee3\u66ff ",(0,l.jsx)(n.code,{children:"/user/37153/orders"})," \u4ee5\u9632\u5fd8\u8bb0\u68c0\u67e5\u6743\u9650, \u5bfc\u81f4\u6570\u636e\u6cc4\u9732."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u4fee\u6539\u90ae\u7bb1/\u624b\u673a\u53f7\u7801"}),"\u529f\u80fd\u5fc5\u987b\u9996\u5148\u786e\u8ba4\u7528\u6237\u5df2\u7ecf\u9a8c\u8bc1\u8fc7\u90ae\u7bb1/\u624b\u673a (\u672c\u4eba)."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4efb\u4f55\u4e0a\u4f20\u529f\u80fd\u5e94\u8fc7\u6ee4\u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\u540d, \u5e76\u5b58\u50a8\u5728\u4e91\u5b58\u50a8\u4e0a\u9632\u6b62\u4ee3\u7801\u6267\u884c."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u4e2a\u4eba\u5934\u50cf\u4e0a\u4f20"})," \u529f\u80fd\u5e94\u8fc7\u6ee4\u6240\u6709\u7684 ",(0,l.jsx)(n.code,{children:"EXIF"})," \u6807\u7b7e."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u7528\u6237 ID \u6216\u8005\u5176\u4ed6\u7684 ID,\n\u5e94\u4f7f\u7528 ",(0,l.jsx)(n.a,{href:"http://www.ietf.org/rfc/rfc4122.txt",children:"RFC compliant"})," \u7684 ",(0,l.jsx)(n.code,{children:"UUID"})," \u800c\u4e0d\u662f\u6574\u6570."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.a,{href:"https://jwt.io",children:(0,l.jsx)(n.code,{children:"JWT"})})," (JSON Web Token): \u5f53\u6784\u5efa\u4e00\u4e2a ",(0,l.jsx)(n.code,{children:"SPA"}),"/",(0,l.jsx)(n.code,{children:"API"})," \u65f6\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"JWT"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"mobile-application-checklist",children:"Mobile Application Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u652f\u4ed8\u7f51\u5173\u7684 ",(0,l.jsx)(n.code,{children:"salt"})," (\u76d0) \u4e0d\u5e94\u88ab\u786c\u7f16\u7801."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u6765\u81ea\u7b2c\u4e09\u65b9\u7684 ",(0,l.jsx)(n.code,{children:"secret"})," \u548c ",(0,l.jsx)(n.code,{children:"auth token"})," \u4e0d\u5e94\u88ab\u786c\u7f16\u7801."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5728\u670d\u52a1\u5668\u4e4b\u95f4\u8c03\u7528\u7684 API \u4e0d\u5e94\u5728 app \u91cc\u9762\u8c03\u7528."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5728\u5b89\u5353\u7cfb\u7edf\u4e0b, \u8981\u5c0f\u5fc3\u8bc4\u4f30\u6240\u6709\u7533\u8bf7\u7684 ",(0,l.jsx)(n.a,{href:"https://developer.android.com/guide/topics/security/permissions.html",children:"\u6743\u9650"}),"."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5728 iOS \u7cfb\u7edf\u4e0b, \u4f7f\u7528\u7cfb\u7edf\u7684\u94a5\u5319\u4e32\u6765\u5b58\u50a8\u654f\u611f\u4fe1\u606f (auth token/API key) ",(0,l.jsx)(n.strong,{children:"\u4e0d\u8981"})," \u628a\u8fd9\u7c7b\u4fe1\u606f\u5b58\u50a8\u5728\u7528\u6237\u914d\u7f6e\u91cc\u9762."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5f3a\u70c8\u63a8\u8350\u8bc1\u4e66\u7ed1\u5b9a (",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/HTTP_Public_Key_Pinning",children:"certificate pinning"}),")."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"server-configuration-checklist",children:"Server Configuration Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Content_Security_Policy",children:"CSP"})," \u5934\u4fe1\u606f,\n\u51cf\u7f13 XSS \u548c\u6570\u636e\u6ce8\u5165\u653b\u51fb. \u8fd9\u5f88\u91cd\u8981."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Cross-site_request_forgery",children:"CSRF"})," \u5934\u4fe1\u606f\n\u9632\u6b62\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020 (CSRF) \u653b\u51fb.\n\u540c\u65f6",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," ",(0,l.jsx)(n.a,{href:"https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00",children:"SameSite"}),"\n\u5c5e\u6027\u5230 cookie \u91cc\u9762."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security",children:"HSTS"}),"\n\u5934\u4fe1\u606f\u9632\u6b62 SSL stripping \u653b\u51fb."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," \u4f60\u7684\u57df\u540d\u5230 ",(0,l.jsx)(n.a,{href:"https://hstspreload.appspot.com",children:"HSTS \u9884\u52a0\u8f7d\u5217\u8868"}),"."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Clickjacking#X-Frame-Options",children:"X-Frame-Options"}),"\n\u9632\u6b62\u70b9\u51fb\u52ab\u6301."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," ",(0,l.jsx)(n.a,{href:"https://www.owasp.org/index.php/OWASP_Secure_Headers_Project#X-XSS-Protection",children:"X-XSS-Protection"}),"\n\u7f13\u89e3 XSS \u653b\u51fb."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u66f4\u65b0"})," DNS \u8bb0\u5f55, \u589e\u52a0 ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Sender_Policy_Framework",children:"SPF"}),"\n\u8bb0\u5f55\u9632\u6b62\u5783\u573e\u90ae\u4ef6\u548c\u9493\u9c7c\u653b\u51fb."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5982\u679c\u4f60\u7684 Javascript \u6258\u7ba1\u5728\u7b2c\u4e09\u65b9\u7684 CDN \u4e0a\u9762,\n\u9700\u8981",(0,l.jsx)(n.code,{children:"\u6dfb\u52a0"})," ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Subresource_Integrity",children:"\u5185\u90e8\u8d44\u6e90\u96c6\u6210\u68c0\u67e5"}),".\n\u4e3a\u4e86\u66f4\u52a0\u5b89\u5168, \u6dfb\u52a0 ",(0,l.jsx)(n.a,{href:"https://w3c.github.io/webappsec-subresource-integrity/#parse-require-sri-for",children:"require-sri-for"}),"\nCSP-directive \u5c31\u4e0d\u4f1a\u52a0\u8f7d\u5230\u6ca1\u6709 SRI \u7684\u8d44\u6e90."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4f7f\u7528\u968f\u673a\u7684 CSRF token, \u4e1a\u52a1\u903b\u8f91 API \u53ef\u4ee5\u66b4\u9732\u4e3a POST \u8bf7\u6c42.\n\u4e0d\u8981\u628a CSRF token \u901a\u8fc7 HTTP \u63a5\u53e3\u66b4\u9732\u51fa\u6765, \u6bd4\u5982\u7b2c\u4e00\u6b21\u8bf7\u6c42\u66f4\u65b0\u7684\u65f6\u5019."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5728 ",(0,l.jsx)(n.code,{children:"GET"})," \u8bf7\u6c42\u53c2\u6570\u91cc\u9762, \u4e0d\u8981\u4f7f\u7528\u4e34\u754c\u6570\u636e\u548c token: \u66b4\u9732\u670d\u52a1\u5668\u65e5\u5fd7\u7684\u540c\u65f6\u4e5f\u4f1a\u66b4\u9732\u7528\u6237\u6570\u636e."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"client-input-checklist",children:"Client Input Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u8fc7\u6ee4"}),"\u6240\u6709\u66b4\u9732\u7ed9\u7528\u6237\u7684\u53c2\u6570\u8f93\u5165,\n\u9632\u6b62 ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Cross-site_scripting",children:"XSS"})," \u653b\u51fb."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4f7f\u7528\u53c2\u6570\u5316\u7684\u67e5\u8be2\u9632\u6b62 ",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/SQL_injection",children:"SQL \u6ce8\u5165"}),"."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u8fc7\u6ee4"}),"\u6240\u6709\u5177\u6709\u529f\u80fd\u6027\u7684\u7528\u6237\u8f93\u5165, \u6bd4\u5982 ",(0,l.jsx)(n.code,{children:"CSV"})," \u5bfc\u5165."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u8fc7\u6ee4"}),"\u4e00\u4e9b\u7279\u6b8a\u7684\u7528\u6237\u8f93\u5165,\n\u4f8b\u5982\u5c06 ",(0,l.jsx)(n.code,{children:"robots.txt"})," \u4f5c\u4e3a\u7528\u6237\u540d,\n\u63d0\u4f9b ",(0,l.jsx)(n.code,{children:"coolCorp.io/username"})," \u4e4b\u7c7b\u7684 ",(0,l.jsx)(n.code,{children:"URL"})," \u6765\u63d0\u4f9b\u7528\u6237\u4fe1\u606f\u8bbf\u95ee\u9875\u9762:\n\u6b64\u65f6\u53d8\u6210 ",(0,l.jsx)(n.code,{children:"coolCorp.io/robots.txt"}),", \u9020\u6210\u5b89\u5168\u6f0f\u6d1e."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u7981\u6b62\u624b\u52a8\u62fc\u88c5 JSON \u5b57\u7b26\u4e32, \u4e0d\u7ba1\u8fd9\u4e2a\u5bf9\u8c61\u6709\u591a\u4e48\u5c0f: \u4f7f\u7528\u6240\u7528\u7684\u8bed\u8a00\u76f8\u5e94\u7684\u5e93\u6216\u8005\u6846\u67b6\u6765\u7f16\u5199."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:"\u8fc7\u6ee4"})," \u7c7b\u4f3c ",(0,l.jsx)(n.code,{children:"URL"})," \u7684\u8f93\u5165,\n\u9632\u6b62 ",(0,l.jsx)(n.a,{href:"https://docs.google.com/document/d/1v1TkWZtrhzRLy0bYXBcdLUedXGb9njTNIJXa3u9akHM/edit#heading=h.t4tsk5ixehdd",children:"SSRF"}),"\n\u653b\u51fb."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5728\u8f93\u51fa\u663e\u793a\u7ed9\u7528\u6237\u4e4b\u524d, ",(0,l.jsx)(n.code,{children:"\u8fc7\u6ee4"}),"\u8f93\u51fa\u4fe1\u606f."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"operation-checklist",children:"Operation Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5982\u679c\u4f60\u7684\u4e1a\u52a1\u5f88\u5c0f\u6216\u8005\u4f60\u7f3a\u4e4f\u7ecf\u9a8c, \u53ef\u4ee5\u8bc4\u4f30\u4e00\u4e0b\u4f7f\u7528 AWS \u6216\u8005\u4e00\u4e2a PaaS \u5e73\u53f0\u6765\u8fd0\u884c\u4ee3\u7801."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5728\u4e91\u4e0a\u4f7f\u7528\u6b63\u89c4\u7684\u811a\u672c\u521b\u5efa\u865a\u62df\u673a."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u68c0\u67e5\u6240\u6709\u673a\u5668\u6ca1\u6709\u5fc5\u8981\u5f00\u653e\u7684 ",(0,l.jsx)(n.code,{children:"\u7aef\u53e3"}),"."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u68c0\u67e5\u6570\u636e\u5e93\u662f\u5426\u6ca1\u6709\u8bbe\u7f6e\u5bc6\u7801\u6216\u8005\u4f7f\u7528\u9ed8\u8ba4\u5bc6\u7801, \u7279\u522b\u662f MongoDB \u548c Redis."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4f7f\u7528 SSH \u767b\u5f55\u4f60\u7684\u673a\u5668, \u4e0d\u8981\u4f7f\u7528\u5bc6\u7801, \u800c\u662f\u901a\u8fc7 SSH key \u9a8c\u8bc1\u6765\u767b\u5f55."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u53ca\u65f6\u66f4\u65b0\u7cfb\u7edf, \u9632\u6b62\u51fa\u73b0 0day \u6f0f\u6d1e, \u6bd4\u5982 HeartBleed, ShellShock \u7b49."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4fee\u6539\u670d\u52a1\u5668\u914d\u7f6e, HTTPS \u4f7f\u7528 TLS1.2, \u7981\u7528\u5176\u4ed6\u7684\u6a21\u5f0f."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4e0d\u8981\u5728\u7ebf\u4e0a\u5f00\u542f DEBUG \u6a21\u5f0f, \u6709\u4e9b\u6846\u67b6, DEBUG \u6a21\u5f0f\u4f1a\u5f00\u542f\u5f88\u591a\u6743\u9650\u4ee5\u53ca\u540e\u95e8, \u6216\u8005\u662f\u66b4\u9732\u4e00\u4e9b\u654f\u611f\u6570\u636e\u5230\u9519\u8bef\u6808\u4fe1\u606f\u91cc\u9762."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5bf9\u574f\u4eba\u548c DDOS \u653b\u51fb\u8981\u6709\u6240\u51c6\u5907, \u4f7f\u7528\u90a3\u4e9b\u63d0\u4f9b DDOS \u6e05\u6d17\u7684\u4e3b\u673a\u670d\u52a1."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u76d1\u63a7\u4f60\u7684\u7cfb\u7edf, \u540c\u65f6\u8bb0\u5f55\u5230\u65e5\u5fd7\u91cc\u9762 (\u4f8b\u5982\u4f7f\u7528 ",(0,l.jsx)(n.a,{href:"https://newrelic.com",children:"New Relic"})," \u6216\u8005\u5176\u4ed6)."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5982\u679c\u662f 2B \u7684\u4e1a\u52a1, \u575a\u6301\u987a\u4ece\u9700\u6c42.\n\u5982\u679c\u4f7f\u7528 AWS S3, \u53ef\u4ee5\u8003\u8651\u4f7f\u7528\n",(0,l.jsx)(n.a,{href:"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html",children:"\u6570\u636e\u52a0\u5bc6"}),"\n\u529f\u80fd.\n\u5982\u679c\u4f7f\u7528 AWS EC2, \u8003\u8651\u4f7f\u7528\u78c1\u76d8\u52a0\u5bc6\u529f\u80fd (\u7cfb\u7edf\u542f\u52a8\u76d8\u4e5f\u53ef\u52a0\u5bc6)."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"teamwork-checklist",children:"Teamwork Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5f00\u4e00\u4e2a\u90ae\u4ef6\u7ec4 (\u4f8b\u5982: ",(0,l.jsx)(n.code,{children:"security@coolcorp.io"}),") \u548c\u641c\u96c6\u9875\u9762, \u65b9\u4fbf\u5b89\u5168\u7814\u7a76\u4eba\u5458\u63d0\u4ea4\u6f0f\u6d1e."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u53d6\u51b3\u4e8e\u4f60\u7684\u4e1a\u52a1, \u9650\u5236\u7528\u6237\u6570\u636e\u5e93\u7684\u8bbf\u95ee."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5bf9\u62a5\u544a BUG \u4e0e \u6f0f\u6d1e\u7684\u4eba\u6709\u793c\u8c8c."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u628a\u4f60\u7684\u4ee3\u7801\u7ed9\u90a3\u4e9b\u6709\u5b89\u5168\u7f16\u7801\u89c2\u5ff5\u7684\u540c\u4f34\u8fdb\u884c review (More eyes)."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u88ab\u9ed1\u6216\u8005\u6570\u636e\u6cc4\u9732\u65f6, \u68c0\u67e5\u6570\u636e\u8bbf\u95ee\u524d\u7684\u65e5\u5fd7, \u901a\u77e5\u7528\u6237\u66f4\u6539\u5bc6\u7801, \u53ef\u80fd\u9700\u8981\u5916\u90e8\u7684\u673a\u6784\u6765\u5e2e\u52a9\u5ba1\u8ba1."]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u4f7f\u7528 ",(0,l.jsx)(n.a,{href:"https://github.com/Netflix/Scumblr",children:"Netflix Scumblr"})," \u53ca\u65f6\u4e86\u89e3\n\u4f60\u7684\u7ec4\u7ec7 (\u516c\u53f8) \u5728\u793e\u4ea4\u7f51\u7edc\u6216\u8005\u641c\u7d22\u5f15\u64ce\u4e0a\u7684\u4e00\u4e9b\u8ba8\u8bba\u4fe1\u606f, \u6bd4\u5982\u9ed1\u5ba2\u653b\u51fb/\u6f0f\u6d1e\u7b49\u7b49."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"security-reference",children:"Security Reference"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Open web application security project ",(0,l.jsx)(n.a,{href:"https://github.com/OWASP/CheatSheetSeries",children:"cheat sheet"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Open source security state of ",(0,l.jsx)(n.a,{href:"https://snyk.io/reports/open-source-security",children:"2022"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Web security ",(0,l.jsx)(n.a,{href:"https://eggjs.org/zh-cn/core/security.html",children:"checklist"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Security search ",(0,l.jsx)(n.a,{href:"https://github.com/edoardottt/awesome-hacker-search-engines",children:"engines"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["ESLint node security ",(0,l.jsx)(n.a,{href:"https://github.com/nodesecurity/eslint-plugin-security",children:"plugin"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["MetaSploit: penetration testing ",(0,l.jsx)(n.a,{href:"https://github.com/rapid7/metasploit-framework",children:"framework"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},9182:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/supply-chain-threats-6e982c331773a09b6d8ea764c145d176.svg"},842:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var s=i(8101);const l={},c=s.createContext(l);function r(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);