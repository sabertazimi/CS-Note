<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Web/Network/NetworkBasicNotes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Network Basic Notes | Awesome Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sabertazimi.github.io/awesome-notes/Web/Network/NetworkBasicNotes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Network Basic Notes | Awesome Notes"><meta data-rh="true" name="description" content="Internet"><meta data-rh="true" property="og:description" content="Internet"><link data-rh="true" rel="icon" href="/awesome-notes/img/logo.svg"><link data-rh="true" rel="canonical" href="https://sabertazimi.github.io/awesome-notes/Web/Network/NetworkBasicNotes"><link data-rh="true" rel="alternate" href="https://sabertazimi.github.io/awesome-notes/Web/Network/NetworkBasicNotes" hreflang="en"><link data-rh="true" rel="alternate" href="https://sabertazimi.github.io/awesome-notes/Web/Network/NetworkBasicNotes" hreflang="x-default"><link rel="stylesheet" href="/awesome-notes/assets/css/styles.66f18fa6.css">
<script src="/awesome-notes/assets/js/runtime~main.84244812.js" defer="defer"></script>
<script src="/awesome-notes/assets/js/main.8162642d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/awesome-notes/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_CdK0" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_tvu8"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/awesome-notes/"><div class="navbar__logo"><img src="/awesome-notes/img/logo.svg" alt="Awesome Notes" class="themedComponent_L0Or themedComponent--light_IsTj"><img src="/awesome-notes/img/logo.svg" alt="Awesome Notes" class="themedComponent_L0Or themedComponent--dark_Q50R"></div><b class="navbar__title text--truncate">Awesome Notes</b></a><a class="navbar__item navbar__link" href="/awesome-notes/intro">Notes</a><a class="navbar__item navbar__link" href="/awesome-notes/ComputerScience/Math/AIBasicNotes">Computer Science</a><a class="navbar__item navbar__link" href="/awesome-notes/Programming/DevOps/CleanCodeBasicNotes">Programming</a><a class="navbar__item navbar__link" href="/awesome-notes/Language/Rust/RustBasicNotes">Language</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/awesome-notes/Web/JavaScript/JavaScriptBasicNotes">Web</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Links</a><ul class="dropdown__menu"><li><a href="https://github.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://twitter.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="mailto:sabertazimi@gmail.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Email<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Repos</a><ul class="dropdown__menu"><li><a href="https://github.com/sabertazimi/blog" target="_blank" rel="noopener noreferrer" class="dropdown__link">Next.js Blog<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/sabertazimi/awesome-web" target="_blank" rel="noopener noreferrer" class="dropdown__link">Awesome Web<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/sabertazimi/bod" target="_blank" rel="noopener noreferrer" class="dropdown__link">Bod CLI<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/sabertazimi/awesome-notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_w6qK colorModeToggle_QzGZ"><button class="clean-btn toggleButton_Le8D toggleButtonDisabled_RyWq" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Oaww"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon___cv"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_uwSV"><div class="navbar__search searchBarContainer_BDPj" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_Cvc4" value=""><div class="loadingRing_FcAo searchBarLoadingRing_GgzC"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_bAZB"><div class="docsWrapper_Vh2N"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_WjrN" type="button"></button><div class="docRoot_ExoU"><aside class="theme-doc-sidebar-container docSidebarContainer_IEY4"><div class="sidebarViewport_CZO9"><div class="sidebar_otTX sidebarWithHideableNavbar_xGag"><a tabindex="-1" class="sidebarLogo_L21f" href="/awesome-notes/"><img src="/awesome-notes/img/logo.svg" alt="Awesome Notes" class="themedComponent_L0Or themedComponent--light_IsTj"><img src="/awesome-notes/img/logo.svg" alt="Awesome Notes" class="themedComponent_L0Or themedComponent--dark_Q50R"><b>Awesome Notes</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_X505"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/awesome-notes/intro">Awesome Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/awesome-notes/ComputerScience/Algorithms/AlgorithmsBasicNotes">Computer Science</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/awesome-notes/Programming/Android/AndroidBasicNotes">Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/awesome-notes/Language/Assembly/AssemblyBasicNotes">Language</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/awesome-notes/Web/Angular/AngularBasicNotes">Web</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/Angular/AngularBasicNotes">Angular</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/CSS/BootstrapBasicNotes">CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/Frameworks/ElectronBasicNotes">Frameworks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/HTML/HTMLBasicNotes">HTML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/JavaScript/JavaScriptAPINotes">JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/awesome-notes/Web/Network/NetworkBasicNotes">Network</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/awesome-notes/Web/Network/NetworkBasicNotes">Network Basic Notes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/Node/ExpressBasicNotes">Node</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/React/ReactAdvancedNotes">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/Security/SecurityBasicNotes">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/awesome-notes/Web/Vue/VueAdvancedNotes">Vue</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_GyWp"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Vw4r"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_ij2O"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_mwJx"><div class="docItemContainer_BJdx"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_y197" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/awesome-notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_lbxT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Web</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Network</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Network Basic Notes</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_GT_b theme-doc-toc-mobile tocMobile__a_l"><button type="button" class="clean-btn tocCollapsibleButton_qcCY">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Network Basic Notes</h1></header>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="internet">Internet<a href="#internet" class="hash-link" aria-label="Direct link to Internet" title="Direct link to Internet">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="consist">Consist<a href="#consist" class="hash-link" aria-label="Direct link to Consist" title="Direct link to Consist">​</a></h3>
<p>Internet Service Provider -&gt; Packet Switch/Communication Link -&gt; Host/End System.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="delay">Delay<a href="#delay" class="hash-link" aria-label="Direct link to Delay" title="Direct link to Delay">​</a></h3>
<p>nodal = proc + queue + trans + prop: 总时延 = 产生/到达时延 + 排队时延 + 传输时延 + 传播时延.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="layer">Layer<a href="#layer" class="hash-link" aria-label="Direct link to Layer" title="Direct link to Layer">​</a></h3>
<p>End-to-end principle: implement features in the end-system/hosts where possible.</p>
<blockquote>
<p>Congestion implemented on transport layer.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="internet-layer">Internet Layer<a href="#internet-layer" class="hash-link" aria-label="Direct link to Internet Layer" title="Direct link to Internet Layer">​</a></h4>
<ul>
<li>Application layer protocol: HTTP SMTP (message, stream of data).</li>
<li>Transport layer protocol: TCP UDP (segment, segment of data).</li>
<li>Network layer protocol: IP (因特网的粘合剂) (<strong>unreliable</strong> datagram, packet of data).</li>
<li>Data link layer protocol: WiFi PPP(点对点) 以太网 (frame).</li>
<li>Physical layer protocol.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="layering-principle">Layering Principle<a href="#layering-principle" class="hash-link" aria-label="Direct link to Layering Principle" title="Direct link to Layering Principle">​</a></h4>
<ul>
<li>Modularity.</li>
<li>Well defined service: simple service model provided by lower level,
providing for higher level.</li>
<li>Reuse.</li>
<li>Separation of concerns.</li>
<li>Continuous improvement: change inner structure of layer independently.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-1">HTTP 1<a href="#http-1" class="hash-link" aria-label="Direct link to HTTP 1" title="Direct link to HTTP 1">​</a></h2>
<p>Application layer protocol defines:</p>
<ul>
<li>Types of messages exchanged.</li>
<li>Syntax of various message types(fields definition).</li>
<li>Semantics of fields.</li>
<li>Rules for when/how to send/respond to messages.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="hypertext-transfer-protocol">Hypertext Transfer Protocol<a href="#hypertext-transfer-protocol" class="hash-link" aria-label="Direct link to Hypertext Transfer Protocol" title="Direct link to Hypertext Transfer Protocol">​</a></h3>
<p>Hypertext Transfer Protocol (RFC 2068):</p>
<ul>
<li>HTTP -&gt; Socket Interface -&gt; TCP.</li>
<li>Stateless protocol.</li>
<li>HTTP/1.0 默认不开启长连接: 客户端与服务端必须同时发送 <code>Connection: Keep-Alive</code>.</li>
<li>HTTP/1.1 默认开启长连接:<!-- -->
<ul>
<li><code>Keep-Alive: timeout=5, max=100</code>:
表示 TCP 通道保持 5 秒, 最多接收 100 次请求.</li>
<li><code>Keep-Alive</code> 无法保证客户端和服务器之间的连接一定活跃.</li>
</ul>
</li>
<li>HTTP 为无状态协议: 每个请求相互独立.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-connections">HTTP Connections<a href="#http-connections" class="hash-link" aria-label="Direct link to HTTP Connections" title="Direct link to HTTP Connections">​</a></h3>
<ul>
<li>Non-persistent connections: 1 http request with 1 tcp connection.</li>
<li>Persistent connections: multiple http request with 1 tcp connection.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-message-format">HTTP Message Format<a href="#http-message-format" class="hash-link" aria-label="Direct link to HTTP Message Format" title="Direct link to HTTP Message Format">​</a></h3>
<p>HTTP request format:</p>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">request line -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">method field, object url field, protocol version</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">header lines -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Host/Connections</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">close -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> non-persistent connection</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">/User-agent/Accept-language</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">entity body</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>HTTP response format:</p>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">status line -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">protocol version, status code, corresponding status message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">header lines -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Connections/Date/Server/Last-Modified/Content-Length</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">/Content-Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">entity body</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-process">HTTP Process<a href="#http-process" class="hash-link" aria-label="Direct link to HTTP Process" title="Direct link to HTTP Process">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="port-to-transport-layer">Port to Transport Layer<a href="#port-to-transport-layer" class="hash-link" aria-label="Direct link to Port to Transport Layer" title="Direct link to Port to Transport Layer">​</a></h4>
<ul>
<li>Bandwidth-sensitive application: UDP.</li>
<li>Reliable-sensitive application: TCP.</li>
</ul>
<table><thead><tr><th>Application</th><th>Application Layer</th><th>Transport Layer</th></tr></thead><tbody><tr><td>Email</td><td>SMTP</td><td>TCP</td></tr><tr><td>Remote terminal access</td><td>Telnet</td><td>TCP</td></tr><tr><td>Web</td><td>HTTP/HTTPS</td><td>TCP</td></tr><tr><td>File transfer</td><td>FTP</td><td>TCP</td></tr><tr><td>Streaming multimedia</td><td>HTTP/HTTPS/RTP</td><td>TCP/UDP</td></tr><tr><td>Internet telephony</td><td>SIP/RTP</td><td>UDP</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-address">HTTP Address<a href="#http-address" class="hash-link" aria-label="Direct link to HTTP Address" title="Direct link to HTTP Address">​</a></h4>
<ul>
<li>IP (32 bits network layer): find specific host/end-system.</li>
<li>Port (16 bits transport layer): find specific process.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-response-status-codes">HTTP Response Status Codes<a href="#http-response-status-codes" class="hash-link" aria-label="Direct link to HTTP Response Status Codes" title="Direct link to HTTP Response Status Codes">​</a></h3>
<p><a href="https://developer.mozilla.org/docs/Web/HTTP/Status" target="_blank" rel="noopener noreferrer">RFC 2616</a>:</p>
<ul>
<li>Informational responses: 100–199.</li>
<li>Successful responses: 200–299.<!-- -->
<ul>
<li>200 OK.</li>
<li>201 Created.</li>
<li>202 Accepted.</li>
</ul>
</li>
<li>Redirects: 300–399.<!-- -->
<ul>
<li>301 Moved Permanently.</li>
<li>302 Found.</li>
<li>304 Not Modified.</li>
<li>307 Temporary Redirect.</li>
<li>308 Permanent Redirect.</li>
</ul>
</li>
<li>Client errors: 400–499.<!-- -->
<ul>
<li>400 Bad Request.</li>
<li>401 Unauthorized.</li>
<li>403 Forbidden.</li>
<li>404 Not Found.</li>
<li>405 Method Not Allowed.</li>
<li>406 Not Acceptable.</li>
</ul>
</li>
<li>Server errors: 500–599.<!-- -->
<ul>
<li>500 Internal Server Error.</li>
<li>501 Not Implemented.</li>
<li>502 Bad Gateway.</li>
<li>503 Service Unavailable.</li>
<li>504 Gateway Timeout.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="HTTP Redirect" src="/awesome-notes/assets/images/HTTPRedirect-cfbd567f81667dda5c07dc038777f4aa.png" title="HTTP Redirect" width="943" height="999" class="img_uuUz"></p>
<p>Use reasonable HTTP status codes:</p>
<ul>
<li>200: general success.</li>
<li>201: successful creation.</li>
<li>301: moved permanently (SEO friendly).</li>
<li>302: moved temporarily.</li>
<li>304: not modified (HTTP cache).</li>
<li>400: bad requests from client.</li>
<li>401: unauthorized requests.</li>
<li>403: missing permissions.</li>
<li>404: missing resources.</li>
<li>429: too many requests.</li>
<li>5xx: internal errors (these should be avoided at all costs).</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-1x-performance">HTTP 1.x Performance<a href="#http-1x-performance" class="hash-link" aria-label="Direct link to HTTP 1.x Performance" title="Direct link to HTTP 1.x Performance">​</a></h3>
<p>限制 Web 性能的主要因素是客户端与服务器之间的网络往返延迟 (RTT):</p>
<ul>
<li>持久化连接以支持连接重用: <code>N</code> 次 HTTP 请求节省的总延迟时间为 <code>(N-1) * RTT</code>.</li>
<li>分块传输编码以支持流式响应.</li>
<li>请求管道以支持并行请求处理 (局限性较大):<!-- -->
<ul>
<li>FIFO 管道, 队头请求会阻塞后续请求.</li>
<li>应用必须处理中断的连接并恢复.</li>
<li>应用必须处理中断请求的幂等问题.</li>
<li>应用必须保护自身不受出问题的代理的影响.</li>
</ul>
</li>
<li>模拟多路复用: 并行使用多个 TCP 连接 (大多数现代浏览器支持每个主机打开 6 个连接).</li>
<li>利用多个 TCP 连接进行域名分区.</li>
<li>Resources bundling and inlining (但一定程度上放弃缓存粒度).</li>
<li>改进的更好的缓存机制.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-2">HTTP 2<a href="#http-2" class="hash-link" aria-label="Direct link to HTTP 2" title="Direct link to HTTP 2">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-2-upside">HTTP 2 Upside<a href="#http-2-upside" class="hash-link" aria-label="Direct link to HTTP 2 Upside" title="Direct link to HTTP 2 Upside">​</a></h3>
<p>在 HTTP/1.x 中, 每次请求都会建立一次 HTTP 连接:</p>
<ul>
<li>串行的文件传输. 当请求 a 文件时, b 文件只能等待.</li>
<li>连接数过多.</li>
</ul>
<p>HTTP/2 的多路复用就是为了解决上述的两个性能问题.
在 HTTP/2 中, 有两个非常重要的概念, 分别是帧 (frame) 和流 (stream).
帧代表着最小的数据单位, 每个帧会标识出该帧属于哪个流, 流也就是多个帧组成的数据流.
多路复用, 就是在一个 TCP 连接中可以存在多条流, 避免队头阻塞问题和连接数过多问题.</p>
<p><img decoding="async" loading="lazy" alt="HTTP 2.0 Binary Frame" src="/awesome-notes/assets/images/HTTP2BinaryFrame-405c19f70090269c76c16dbb78b4199c.png" title="HTTP 2.0 Binary Frame" width="1812" height="934" class="img_uuUz"></p>
<p><img decoding="async" loading="lazy" alt="HTTP 2.0 Stream" src="/awesome-notes/assets/images/HTTP2Stream-fb882d140874620a1e2f8f861a95bf57.png" title="HTTP 2.0 Stream" width="1202" height="933" class="img_uuUz"></p>
<p>HTTP/2 = <code>HTTP</code> + <code>HPack / Stream</code> + <code>TLS 1.2+</code> + <code>TCP</code>:</p>
<ul>
<li>HTTP 2.0 的主要目标是改进传输性能, 实现低延迟和高吞吐量.</li>
<li>二进制传输 (乱序二进制帧 Stream):
HTTP/1.1 不是二进制传输, 而是通过文本进行传输.
由于没有流的概念, 在并行传输数据时,
接收端无法区分多个响应分别对应的请求,
无法将多个响应的结果重新进行组装,
无法实现多路复用.</li>
<li>Multiplexing (多路复用): more parallelized requests.</li>
<li>Header compression (HPack): 降低协议字节开销占比 (尤其是 <code>Cookie</code> 带来的性能瓶颈).</li>
<li>双向流量控制 (<code>WINDOW_UPDATE</code> 帧更新).</li>
<li>Server push:<!-- -->
<ul>
<li>客户端可以缓存推送过来的资源.</li>
<li>客户端可以拒绝推送过来的资源.</li>
<li>推送资源可以由不同的页面共享.</li>
<li>服务器可以按照优先级推送资源.</li>
</ul>
</li>
<li>HTTPS guaranteed: 事实加密 (Chrome/Firefox 只支持 HTTP/2 over TLS 1.2+).</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-2-downside">HTTP 2 Downside<a href="#http-2-downside" class="hash-link" aria-label="Direct link to HTTP 2 Downside" title="Direct link to HTTP 2 Downside">​</a></h3>
<p>HTTP/2 虽然通过多路复用解决了 HTTP 层的队头阻塞,
但仍然存在 TCP 层的队头阻塞 (<code>Head-of-line Blocking</code>):</p>
<ul>
<li>由于 TCP 不支持乱序确认, 当没有收到队头 (滑动窗口最左端) 的 ACK 确认报文时,
发送窗口无法往前移动, 此时发送方将无法继续发送后面的数据, 产生发送窗口的队头阻塞问题.</li>
<li>同样地, 当接收窗口接收有序数据时, 当没有收到队头 (滑动窗口最左端) 的数据时,
接收窗口无法往前移动, 此时接收方将直接丢弃所有滑动窗口右侧的数据, 产生接收窗口的队头阻塞问题.</li>
</ul>
<p>QUIC (基于 UDP 的可靠协议)
给每一个 Stream 都分配了一个独立的滑动窗口,
使得一个连接上的多个 Stream 之间没有依赖关系,
拥有相互独立各自控制的滑动窗口.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-2-optimization">HTTP 2 Optimization<a href="#http-2-optimization" class="hash-link" aria-label="Direct link to HTTP 2 Optimization" title="Direct link to HTTP 2 Optimization">​</a></h3>
<p>HTTP 2 performance:</p>
<ul>
<li>Reducing HTTP requests:<!-- -->
<ul>
<li>重用 TCP 连接.</li>
<li>多路复用.</li>
<li>减少传输冗余资源.</li>
</ul>
</li>
<li>Caching and reducing DNS lookups:<!-- -->
<ul>
<li>Remove too much domains.</li>
<li>HTML5 DNS prefetch.</li>
</ul>
</li>
<li>Avoid HTTP redirects.</li>
<li>CDN: minimize RTT.</li>
<li>Web caches.</li>
<li>Resources minification.</li>
</ul>
<p>Due to asset granularity and <strong>caching effectiveness</strong>:</p>
<ul>
<li>No need for 域名分区 (no need for multiple HTTP connection).</li>
<li>No need for CSS/Image sprites.</li>
<li>Less need for resources bundling and inlining.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="http-3">HTTP 3<a href="#http-3" class="hash-link" aria-label="Direct link to HTTP 3" title="Direct link to HTTP 3">​</a></h2>
<p>HTTP/3 = <code>HTTP</code> + <code>QPack / Stream</code> + <code>QUIC / TLS 1.3+</code> + <code>UDP</code>:</p>
<ul>
<li>QUIC 实现快速握手, 解决多次握手高延迟问题:<!-- -->
<ul>
<li>Establishing connection in HTTP/2 requires 3 RTT.</li>
<li>Establishing connection in HTTP/3 only requires 2 RTT.</li>
</ul>
</li>
<li>QUIC 协议保证传输可靠: packet loss handling.</li>
<li>QUIC 给每个请求流 (Stream ID) 都分配一个独立的滑动窗口, 同时进行队头压缩,
实现传输层<strong>无队头阻塞的多路复用</strong>, 解决队头 (数据重传) 阻塞 (后续数据) 问题:<!-- -->
<ul>
<li>Stream prioritization.</li>
<li>Header compression.</li>
</ul>
</li>
<li>QUIC 集成 TLS 加密.</li>
<li>HTTP/3 brings tunable congestion control and connection migration.</li>
</ul>
<p>For a new domain,
browser connects using H/1 or H/2.
Server sends back an <a href="https://developer.mozilla.org/docs/Web/HTTP/Headers/Alt-Svc" target="_blank" rel="noopener noreferrer"><code>alternative services</code></a>
header indicating H/3 support.
Browser stores <a href="https://developer.mozilla.org/docs/Web/HTTP/Headers/Alt-Svc" target="_blank" rel="noopener noreferrer"><code>alt-svc</code></a>
info in alt-svc cache.
From then on,
browser tries HTTP/3 in parallel with HTTP/1 and 2
so that there’s an immediate fallback if network blocks.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="https">HTTPS<a href="#https" class="hash-link" aria-label="Direct link to HTTPS" title="Direct link to HTTPS">​</a></h2>
<p>HyperText Transfer Protocol (HTTP) + Transport Layer Security (TLS):</p>
<ul>
<li>验证身份 (不可抵赖性):<!-- -->
<ul>
<li>通过证书认证客户端, 保证访问的是正确的服务器, 而不是伪造的公钥.</li>
<li>CA (Certificate Authority) 认证体系是 HTTPS 防止中间人攻击 (HTTP 明文传输) 的核心,
客户端需要对服务器发来的证书进行安全性校验 (使得中间人无法替换证书和公私钥).</li>
<li>通过 CA 认证体系避免了中间人窃取 AES 密钥并发起拦截和修改 HTTP 通讯的报文.</li>
</ul>
</li>
<li>内容加密 (保密性):<!-- -->
<ul>
<li>采用混合加密技术 (结合对称加密和非对称加密技术), 中间者无法直接查看明文内容.</li>
<li>会话密钥传输使用非对称加密: 服务器公钥加密, 服务器私钥解密.</li>
<li>会话内容传输使用对称加密: 对称密钥为上一步获取的会话密钥, 性能优于非对称加密.</li>
</ul>
</li>
<li>保护数据 (完整性):
采用单向 Hash 算法, 防止传输的内容被中间人冒充或者篡改.</li>
</ul>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">server </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  listen </span><span class="token number" style="color:#36acaa">443</span><span class="token plain"> ssl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  server_name www.example.com</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ssl_certificate www.example.com.crt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ssl_certificate_key www.example.com.key</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ssl_protocols TLSv1.2 TLSv1.3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ssl_ciphers HIGH:</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">aNULL:</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">MD5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  listen </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> default_server</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  server_name _</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">301</span><span class="token plain"> https://</span><span class="token variable" style="color:#36acaa">$host</span><span class="token variable" style="color:#36acaa">$request_uri</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  add_header Strict-Transport-Security </span><span class="token string" style="color:#e3116c">&quot;max-age=31536000&quot;</span><span class="token plain"> always</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="https-workflow">HTTPS Workflow<a href="#https-workflow" class="hash-link" aria-label="Direct link to HTTPS Workflow" title="Direct link to HTTPS Workflow">​</a></h3>
<p>证书获取及验证过程 (CA 认证体系):</p>
<ul>
<li>客户端发送一个 <code>ClientHello</code> 消息到服务器端,
消息中同时包含了它的 Transport Layer Security (TLS) 版本,
可用的加密算法和压缩算法.</li>
<li>服务器端向客户端返回一个 <code>ServerHello</code> 消息,
消息中包含了服务器端的 TLS 版本,
服务器所选择的加密和压缩算法,
以及数字证书认证机构 (Certificate Authority) 签发的服务器公开证书,
证书中包含了<strong>公钥</strong>, 域名范围 (Common Name), 用于客户端验证身份.</li>
<li>客户端通过 CA 认证体系 (CA 服务器) 验证证书是否合法 (浏览器地址栏进行相应提示):
CA 私钥加密签名, 浏览器公钥解密验证.<!-- -->
<ul>
<li>浏览器读取证书中的证书所有者与证书有效期等信息进行校验,
校验证书的网站域名是否与证书颁发的域名一致,
校验证书是否在有效期内.</li>
<li>浏览器查找操作系统中已内置的受信任的证书发布机构 CA,
与服务器发来的证书中的颁发者 CA 比对,
用于校验证书是否为合法机构颁发.</li>
<li>若查找失败, 则浏览器会报错, 服务器发来的证书不可信任.</li>
<li>若查找成功, 则浏览器会从本地取出颁发者 CA 的公钥
(多数浏览器开发商发布版本时, 会事先在内部植入常用认证机关的公开密钥),
对服务器发来的证书里包含的签名进行解密.</li>
<li>浏览器使用相同的 Hash 算法计算出服务器发来的证书的 Hash 值,
将这个计算的 Hash 值与证书中签名做对比.</li>
<li>若对比结果一致, 则证明服务器发来的证书合法, 没有被冒充.</li>
</ul>
</li>
</ul>
<p>加密密钥传输 (B 端公钥加密 - 传输 - S 端私钥解密):</p>
<ul>
<li>浏览器端生成一个随机数 (<strong>会话密钥</strong>) 并通过<strong>公钥加密</strong>, 传输给服务器.</li>
<li>服务器使用<strong>私钥解密</strong>此随机数, 并存储随机数作为对称加密的密钥.</li>
</ul>
<p>加密报文传输 (S 端对称加密 - 传输 - B 端对称解密):</p>
<ul>
<li>服务器使用随机数对数据进行<strong>对称加密</strong>, 并将加密信息返回给客户端.</li>
<li>客户端获得加密数据, 使用随机数作为密钥基于对称加密算法对报文进行<strong>对称解密</strong>.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="https-security">HTTPS Security<a href="#https-security" class="hash-link" aria-label="Direct link to HTTPS Security" title="Direct link to HTTPS Security">​</a></h3>
<ul>
<li>当浏览器获验证假公钥不合法时, 会对用户进行风险提示, 但用户仍可以授权信任证书继续操作.</li>
<li>HTTPS 重点关注传输安全, 无法保证本地随机数的存储安全 (木马, 浏览器漏洞).</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="cors">CORS<a href="#cors" class="hash-link" aria-label="Direct link to CORS" title="Direct link to CORS">​</a></h2>
<p>Cross origin resource sharing:</p>
<ul>
<li>Same origin:
URLs (Uniform Resource Locator) with same <code>protocol + host + port</code>.</li>
<li>CORS-safeListed response header:
<code>Cache-Control</code>, <code>Content-Language</code>, <code>Content-Length</code>, <code>Content-Type</code>,
<code>Expires</code>, <code>Last-Modified</code>, <code>Pragma</code>.</li>
<li>由客户端 HTML 标签等发出的跨域 <code>GET</code> 请求默认合法, 构成开放的 Web 世界:
通过 <code>src</code> 属性加载的资源, 浏览器限制了 JavaScript 的权限, 使其不能读写返回的内容.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Cross Origin Resource Sharing" src="/awesome-notes/assets/images/CORS-b585fffeb09fa073815431fbf60400d9.png" title="Cross Origin Resource Sharing" width="577" height="168" class="img_uuUz"></p>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">OPTIONS /resource.js HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host: third-party.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Origin: http://example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Request-Method: POST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Request-Headers: My-Custom-Header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 </span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Origin: http://example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Methods: GET, POST, PUT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Headers: My-Custom-Header</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Origin: *</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Expose-Headers: X-Custom-Header, Content-Encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Expose-Headers: *</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Credentials: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Origin: https://example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vary: Cookie, Origin</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Max-Age: </span><span class="token number" style="color:#36acaa">600</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Methods: Custom-Method, CUSTOM-METHOD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access-Control-Allow-Headers: X-Custom-Header</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="tcp">TCP<a href="#tcp" class="hash-link" aria-label="Direct link to TCP" title="Direct link to TCP">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="transmission-control-protocol">Transmission Control Protocol<a href="#transmission-control-protocol" class="hash-link" aria-label="Direct link to Transmission Control Protocol" title="Direct link to Transmission Control Protocol">​</a></h3>
<p><img decoding="async" loading="lazy" alt="TCP Setup" src="/awesome-notes/assets/images/TCPSetup-ddcdc6f153464e9f9d01d8fdc8370ebd.png" title="TCP Setup" width="1642" height="917" class="img_uuUz"></p>
<p>Transmission Control Protocol (RFC 793):</p>
<ul>
<li>三次握手带来的延迟 (RTT: Round-trip Delay) 使得每创建一个新 TCP 连接都要付出很大代价.
这决定了提高 TCP 应用性能的关键, 在于<strong>重用连接</strong>.</li>
<li>TCP 提供一种面向连接的, 可靠的字节流服务:<!-- -->
<ul>
<li>Connection-oriented service.</li>
<li>Reliable delivery service.</li>
<li>In-sequence stream of bytes service.</li>
</ul>
</li>
<li>Connection-oriented service:
在一个 TCP 连接中,
仅有两方进行彼此通信,
广播和多播不能用于 TCP.</li>
<li>Reliable delivery service:<!-- -->
<ul>
<li>TCP 使用校验和, 确认和重传机制来保证可靠传输.</li>
<li>TCP 给数据分节进行排序,
并使用累积确认保证数据的顺序不变和非重复.</li>
</ul>
</li>
<li>In-sequence stream of bytes service:
TCP 是字节流协议, 没有任何 (协议上的) 记录边界.</li>
<li>Flow control:
TCP 使用滑动窗口机制来实现流量控制.</li>
<li>Congestion control:
TCP 通过动态改变窗口的大小进行拥塞控制.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="TCP Header" src="/awesome-notes/assets/images/TCPHeader-e8d42d5166a9b7c2d16890bf5f97d6dd.png" title="TCP Header" width="631" height="764" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="tcp-handshake">TCP Handshake<a href="#tcp-handshake" class="hash-link" aria-label="Direct link to TCP Handshake" title="Direct link to TCP Handshake">​</a></h3>
<ul>
<li>3-way handshake:
<code>SYN (toB)</code> -&gt; <code>SYN/ACK (toA)</code> -&gt; <code>ACK (toB)</code>.</li>
<li>4-way handshake:
<code>FIN (toB)</code> -&gt; <code>[Data+]ACK (toA)</code> -&gt; <code>FIN (toA)</code> -&gt; <code>ACK (toB)</code>.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="TCP 3-way Handshake" src="/awesome-notes/assets/images/TCP3WayHandshake-12cd3a37c1a70b1162a0d12549299e98.png" title="TCP 3-way Handshake" width="982" height="513" class="img_uuUz">
<img decoding="async" loading="lazy" alt="TCP 4-way Handshake" src="/awesome-notes/assets/images/TCP4WayHandshake-bcfcc3cba2a60fa503c321e46626ce8d.png" title="TCP 4-way Handshake" width="968" height="580" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="slide-window-and-retransmission">Slide Window and Retransmission<a href="#slide-window-and-retransmission" class="hash-link" aria-label="Direct link to Slide Window and Retransmission" title="Direct link to Slide Window and Retransmission">​</a></h3>
<ul>
<li>SWZ N and RWS 1: go back N.</li>
<li>SWZ N and RWZ N: selective repeat.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="tcp-flow-control">TCP Flow Control<a href="#tcp-flow-control" class="hash-link" aria-label="Direct link to TCP Flow Control" title="Direct link to TCP Flow Control">​</a></h3>
<p>流量控制:</p>
<p>TCP 连接的每一方都要通告自己的接收窗口 (<code>rwnd</code> 字段),
两端动态调整数据流速,
使之适应发送端和接收端的容量及处理能力.
客户端与服务器最大可传输数据量为 min(<code>rwnd</code>, <code>cwnd</code>),
即接口窗口与拥塞窗口的最小值.</p>
<div class="theme-admonition theme-admonition-tip admonition_fLid alert alert--success"><div class="admonitionHeading_yHXa"><span class="admonitionIcon_qYLe"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>理想窗口大小</div><div class="admonitionContent_iXM1"><p>WindowSize = BandWidth <code>*</code> RTT (带宽延迟积)</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="tcp-congestion-control">TCP Congestion Control<a href="#tcp-congestion-control" class="hash-link" aria-label="Direct link to TCP Congestion Control" title="Direct link to TCP Congestion Control">​</a></h3>
<p>拥塞控制:</p>
<ul>
<li>慢启动:
<code>cwnd</code> 初始值为 <code>1</code>/<code>4</code>/<code>10</code> 个 TCP 段 (1460 字节).
慢启动导致客户端与服务器之间经过几百 ms 才能达到接近最大速度.</li>
<li>指数增长:
每收到一个 ACK 报文, <code>cwnd</code> 翻倍.</li>
<li>拥塞预防:
拥塞预防算法把丢包作为网络拥塞的标志, 重置拥塞窗口,
之后拥塞预防机制按照自己的算法来增大窗口以尽量避免丢包.
e.g TCP Tahoe, TCP Reno, TCP Vegas, TCP New Reno, TCP BIC, TCP CUBIC.
AIMD (Multiplicative Decrease and Additive Increase, 倍减加增),
PRR (Proportional Rate Reduction, 比例降速).</li>
<li>快速重传:
若收到 3 个重复确认报文 (3ACK),
则说明下一个报文段丢失,
此时执行快速重传,
立即重传下一个报文段.</li>
<li>快速恢复:
只是丢失个别报文段,
而不是整个网络拥塞时,
此时执行快速恢复,
<code>ssthresh = cwnd / 2</code>,
<code>cwnd = ssthresh</code>
(<code>cwnd</code> 很快可以达到接近最大速度),
并进入拥塞避免状态.</li>
<li>慢启动和快速恢复的<strong>快慢</strong>指的是 <code>cwnd</code> 的设定值,
而不是 <code>cwnd</code> 的增长速率.
慢启动 <code>cwnd = 1</code>,
快速恢复 <code>cwnd = ssthresh</code>.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="TCP Congestion Control" src="/awesome-notes/assets/images/TCPCongestionControl-2c5d00ab1f4151cd7b0fa40d9ef9c589.png" title="TCP Congestion Control" width="1914" height="754" class="img_uuUz"></p>
<p><img decoding="async" loading="lazy" alt="TCP Fast Retransmission" src="/awesome-notes/assets/images/TCPFastRetransmission-9dd0c688eae85db2b0f4cec3292f04c5.png" title="TCP Fast Retransmission" width="1174" height="648" class="img_uuUz"></p>
<div class="theme-admonition theme-admonition-tip admonition_fLid alert alert--success"><div class="admonitionHeading_yHXa"><span class="admonitionIcon_qYLe"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Flow Control vs Congestion Control</div><div class="admonitionContent_iXM1"><ul>
<li>流量控制是为了让双方适应容量与处理能力.</li>
<li>拥塞控制是为了降低整个网络的拥塞程度.</li>
</ul></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="tcp-performance">TCP Performance<a href="#tcp-performance" class="hash-link" aria-label="Direct link to TCP Performance" title="Direct link to TCP Performance">​</a></h3>
<ul>
<li>Upgrade kernel version.</li>
<li>增大 TCP 的初始拥塞窗口 (<code>cwnd</code> &gt;= 10).</li>
<li>禁用空闲后的慢启动.</li>
<li>启用窗口缩放, 增大最大接收窗口大小.</li>
<li>TCP 快速打开 (TCP Fast Open): 允许在第一个 SYN 分组中发送应用程序数据.</li>
<li>减少传输冗余资源.</li>
<li>压缩要传输的资源.</li>
<li>CDN: 降低 RTT.</li>
<li>重用 TCP 连接.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="udp">UDP<a href="#udp" class="hash-link" aria-label="Direct link to UDP" title="Direct link to UDP">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="user-datagram-protocol">User Datagram Protocol<a href="#user-datagram-protocol" class="hash-link" aria-label="Direct link to User Datagram Protocol" title="Direct link to User Datagram Protocol">​</a></h3>
<p>User Datagram Protocol (RFC 768):</p>
<ul>
<li>数据报是一个完整, 独立的数据实体,
携带着从源节点到目的地节点的足够信息,
对这些节点间之前的数据交换和传输网络没有任何依赖.</li>
<li>无协议服务:
UDP 仅仅是在 IP 层 (IP 源地址/目标地址) 之上通过嵌入应用程序的源端口和目标端口,
提供了一个<code>应用程序多路复用</code>机制.</li>
<li>不可靠的服务传输:<!-- -->
<ul>
<li>不保证消息交付: 不确认, 不重传, 无超时.</li>
<li>不保证交付顺序: 不设置包序号, 不重排, 不会发生队头阻塞.</li>
<li>不跟踪连接状态: 不必建立连接或重启状态机.</li>
<li>不需要拥塞控制: 不内置客户端或网络反馈机制.</li>
</ul>
</li>
<li>Lightweight and connectionless service:<!-- -->
<ul>
<li>UDP 客户端和服务器之前不必存在长期的关系.</li>
<li>UDP 发送数据报之前无需经过握手创建连接的过程.</li>
<li>UDP 支持多播和广播.</li>
</ul>
</li>
<li>Unreliable delivery service:<!-- -->
<ul>
<li>UDP 本身不提供确认, 序列号, 超时重传等机制.</li>
<li>UDP 数据报可能在网络中被复制, 被重新排序.</li>
<li>UDP 不保证数据报会到达其最终目的地,
也不保证各个数据报的先后顺序,
也不保证每个数据报只到达一次.</li>
</ul>
</li>
<li>Datagram service:
每个 UDP 数据报都有长度,
若一个数据报正确地到达目的地,
则该数据报的长度将随数据一起传递给接收方.</li>
<li>UDP header:
source port(16 bit), destination port(16 bit),
checksum(16 bit), length(16 bit).</li>
</ul>
<p><img decoding="async" loading="lazy" alt="UDP Header" src="/awesome-notes/assets/images/UDPHeader-5272b6bf6f447f715919ab9483a564d5.png" title="UDP Header" width="1114" height="356" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="udp-performance">UDP Performance<a href="#udp-performance" class="hash-link" aria-label="Direct link to UDP Performance" title="Direct link to UDP Performance">​</a></h3>
<p>基于 UDP 的应用程序:</p>
<ul>
<li>必须容忍各种因特网路径条件.</li>
<li>应该控制传输速度.</li>
<li>应该对所有流量进行拥塞控制.</li>
<li>应该使用与 TCP 相近的带宽.</li>
<li>应该准备基于丢包的重发计数器.</li>
<li>应该不发送大于路径 MTU 的数据报.</li>
<li>应该处理数据报丢失, 重复与重排.</li>
<li>应该足够稳定以支持 2 分钟以上的交付延迟.</li>
<li>应该支持 IPv4 UDP 校验和, 必须支持 IPv6 校验和.</li>
<li>可以在需要时使用 <code>Keep-Alive</code> (最小间隔 15 秒).</li>
<li>基于 UDP 的 P2P 程序必须考虑 <a href="https://tailscale.com/blog/how-nat-traversal-works" target="_blank" rel="noopener noreferrer">NAT (Network Address Translator) 穿透</a>:<!-- -->
<ul>
<li>ICE: Interactive Connectivity Establishment.</li>
<li>STUN: Session Traversal Utilities for NAT.</li>
<li>TURN: Traversal Using Relays around NAT.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_fLid alert alert--success"><div class="admonitionHeading_yHXa"><span class="admonitionIcon_qYLe"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>WebRTC</div><div class="admonitionContent_iXM1"><p>WebRTC 是符合上述要求的框架.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="tls">TLS<a href="#tls" class="hash-link" aria-label="Direct link to TLS" title="Direct link to TLS">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Transport Layer Security" src="/awesome-notes/assets/images/TLS-68dd82b30ec96ff89ae2af2dddf0a270.png" title="Transport Layer Security" width="1633" height="882" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="transport-layer-security">Transport Layer Security<a href="#transport-layer-security" class="hash-link" aria-label="Direct link to Transport Layer Security" title="Direct link to Transport Layer Security">​</a></h3>
<ul>
<li>SSL 1.0 (Security Sockets Layer) (Netscape).</li>
<li>SSL 2.0.</li>
<li>SSL 3.0.</li>
<li>TLS 1.0 (RFC 2246).</li>
<li>TLS 1.1.</li>
<li>TLS 1.2.</li>
<li>加密:
通过密钥协商, 混淆数据的机制.</li>
<li>身份验证:
通过建立认证机构信任链 (Chain of Trust and Certificate Authorities), 验证身份标识有效性的机制.</li>
<li>完整性:
通过 MAC (Message Authentication Code) 签署消息, 检测消息是否被篡改或伪造的机制.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="TLS Setup" src="/awesome-notes/assets/images/TLSSetup-424963e5a409c3a24d44867bf1b90846.png" title="TLS Setup" width="1211" height="943" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="tls-performance">TLS Performance<a href="#tls-performance" class="hash-link" aria-label="Direct link to TLS Performance" title="Direct link to TLS Performance">​</a></h3>
<ul>
<li>在支持的客户端中使用会话记录单 (Session Ticket, RFC 5077),
在不支持的客户端中使用会话标识符 (Session Identifier, RFC 5246).</li>
<li>支持多进程或工作进程的服务器应该使用共享的会话缓存.</li>
<li>共享的会话缓存的大小应该根据流量调整.</li>
<li>应该设置会话超时时间.</li>
<li>在多台服务器并存的情况下,
把相同的客户端 IP 或相同的 TLS 会话 ID 路由到同一台服务器可以最好地利用会话缓存.</li>
<li>在不适宜使用单一负载均衡策略的情况下,
应该为多台服务器配置共享缓存, 以便最好地利用会话缓存.</li>
<li>检查和监控 SSL/TLS 会话缓存的使用情况, 以之作为性能调优的依据.</li>
<li>小记录会造成浪费, 大记录会导致延迟:
一方面不要让 TLS 记录分成多个 TCP 分组, 另一方面又要尽量在一条记录中多发送数据
(e.g 1400 bytes).</li>
<li>尽量减少中间证书颁发机构的数量 (确保证书链不会超过拥塞窗口的大小):
理想情况下, 发送的证书链应该只包含两个证书,
即站点证书和中间证书颁发机构的书 (根证书颁发机构的证书由浏览器内置提供).</li>
<li>禁用 TLS 压缩: 防止 <code>CRIME</code> 攻击 (2012), 防止双重压缩 (Gzip).</li>
<li>启用服务器对 SNI (Server Name Indication) 的支持.</li>
<li>启用服务器的 OCSP (Online Certificate Status Protocol) 封套功能.</li>
<li>追加 HTTP 严格传输 (HSTS, HTTP Strict Transport Security) 安全首部.</li>
<li>降低 TLS 延迟:<!-- -->
<ul>
<li>服务器应该通过 ALPN (Application Layer Protocol Negotiation) 协商支持 TLS.</li>
<li>服务器应该支持 TLS 恢复以最小化握手延迟.</li>
</ul>
</li>
<li>TLS testing <a href="https://www.ssllabs.com/ssltest/index.html" target="_blank" rel="noopener noreferrer">tool</a>.</li>
</ul>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token plain">openssl s_client </span><span class="token parameter variable" style="color:#36acaa">-state</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-CAfile</span><span class="token plain"> start-ssl.ca.crt </span><span class="token parameter variable" style="color:#36acaa">-connect</span><span class="token plain"> server.com:443</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="ip">IP<a href="#ip" class="hash-link" aria-label="Direct link to IP" title="Direct link to IP">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="internet-protocol">Internet Protocol<a href="#internet-protocol" class="hash-link" aria-label="Direct link to Internet Protocol" title="Direct link to Internet Protocol">​</a></h3>
<p><img decoding="async" loading="lazy" alt="IP Header" src="/awesome-notes/assets/images/IPHeader-f3b1dddfa12eafc7b67fe8235db22b77.png" title="IP Header" width="625" height="765" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="ip-service-model">IP Service Model<a href="#ip-service-model" class="hash-link" aria-label="Direct link to IP Service Model" title="Direct link to IP Service Model">​</a></h3>
<ul>
<li>Prevent packets looping forever(TTL/time to live field in header):
if TTL gets decreased to zero, then drop this datagram.</li>
<li>Limit fragment packets size(Packet ID, Flags, Fragment Offset).</li>
<li>Reduce changes of wrong destination(Checksum, Destination Address).</li>
<li>操作系统协议栈的 IP 模块会检查 IP 报文头部:<!-- -->
<ul>
<li>判断本机是否为接收方.</li>
<li>判断网络包是否经过分片.</li>
<li>将包转交给 TCP 模块或 UDP 模块.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_fLid alert alert--success"><div class="admonitionHeading_yHXa"><span class="admonitionIcon_qYLe"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>IP Layer</div><div class="admonitionContent_iXM1"><p>IP 本身不负责包的传输,
而是委托各种通信技术将包传输到下一个路由器 (纯粹路由器).
极简的 IP Layer 设计,
可以根据需要灵活运用各种通信技术 (以太网, 无线网 etc),
从而构建出互联网这一规模巨大的网络.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="router">Router<a href="#router" class="hash-link" aria-label="Direct link to Router" title="Direct link to Router">​</a></h3>
<ul>
<li>路由器的各个端口都具有 MAC 地址和 IP 地址.</li>
<li>路由器会忽略主机号, 只匹配网络号.
通过路由聚合, 减少路由表记录数, 合并子网.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="ipv4-addresses">IPv4 Addresses<a href="#ipv4-addresses" class="hash-link" aria-label="Direct link to IPv4 Addresses" title="Direct link to IPv4 Addresses">​</a></h3>
<p>Address structure:</p>
<ul>
<li>32 bits long: <code>a.b.c.d</code>.</li>
<li>Historical:<!-- -->
<ul>
<li>Class A: <code>0-network(7 bits)-host(24 bits)</code>.</li>
<li>Class B: <code>10-network(14 bits)-host(16 bits)</code>.</li>
<li>Class C: <code>110-network(21 bits)-host(8 bits)</code>.</li>
</ul>
</li>
<li>Today:
<code>171.64.0.0/16</code> means <code>171.64.0.0</code> to <code>171.64.255.255</code>,
<code>A/24</code> describes <code>256</code> addresses, <code>A/20</code> describes <code>4096</code> addresses.</li>
<li>Longest prefix matching and netmask (<code>A/16</code>):
e.g <code>0.0.0.0/0</code> =&gt; matching all addresses.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="packet-format">Packet Format<a href="#packet-format" class="hash-link" aria-label="Direct link to Packet Format" title="Direct link to Packet Format">​</a></h3>
<ul>
<li>Network is big-endian.</li>
<li>In x86 processor, use <code>htons()/ntohs()/htonl()/ntohl()</code> host:
network <code>short</code>/<code>long</code> helper function to transform format.</li>
</ul>
<div class="language-cpp codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-cpp codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;arpa/inet.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">uint16_t</span><span class="token plain"> http_port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">uint16_t</span><span class="token plain"> packet_port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ntohs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">packet</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">packet_port </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> http_port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="icmp">ICMP<a href="#icmp" class="hash-link" aria-label="Direct link to ICMP" title="Direct link to ICMP">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="internet-control-message-protocol">Internet Control Message Protocol<a href="#internet-control-message-protocol" class="hash-link" aria-label="Direct link to Internet Control Message Protocol" title="Direct link to Internet Control Message Protocol">​</a></h3>
<ul>
<li>Report error conditions back.</li>
<li>Help diagnose problems.</li>
<li>Site above IP:
ICMP 报文包含在 IP 数据报中, 属于 IP 的一个用户.
一个 ICMP 报文包括 IP 头部 + ICMP 头部 + ICMP 报文.
IP 头部的 Protocol 值为 1 表示这是一个 ICMP 报文.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="icmp-message-type">ICMP Message Type<a href="#icmp-message-type" class="hash-link" aria-label="Direct link to ICMP Message Type" title="Direct link to ICMP Message Type">​</a></h3>
<p><img decoding="async" loading="lazy" alt="ICMP Header" src="/awesome-notes/assets/images/ICMPHeader-405be01b3360384b4b9674700f54d76e.png" title="ICMP Header" width="756" height="786" class="img_uuUz"></p>
<ul>
<li>0 type 0 code: echo reply(by ping)</li>
<li>3 type 0 code: destination network unreachable</li>
<li>3 type 1 code: destination host unreachable</li>
<li>3 type 3 code: destination port unreachable</li>
<li>8 type 0 code: echo request(by ping)</li>
<li>11 type 0 code: TTL(time to live) Expired(by ping)</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="arp">ARP<a href="#arp" class="hash-link" aria-label="Direct link to ARP" title="Direct link to ARP">​</a></h2>
<p>Address resolution protocol:</p>
<ul>
<li>通过 ARP 广播查询对方 MAC 地址, 填写至 MAC 头部, 传入网卡 (link layer).</li>
<li>generates mappings between link layer and network layer addresses cached in nodes</li>
<li>request-reply protocol: who has network address X =&gt; I have network address X</li>
<li>request sent to link layer broadcast address, reply sent to requesting address</li>
<li>when request to dest ARP packet header
with empty DEST HARDWARE ADDRESS field and opcode 1(request)</li>
<li>when reply to src ARP packet header
with dest hardware address as SRC HARDWARE ADDRESS field,
src hardware address as DEST HARDWARE ADDRESS field and opcode 2(reply)</li>
<li>if A and B aren&#x27;t in same sub-net,
they delivery ARP broadcast with third public gateway</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="ethernet">Ethernet<a href="#ethernet" class="hash-link" aria-label="Direct link to Ethernet" title="Direct link to Ethernet">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="media-access-control">Media Access Control<a href="#media-access-control" class="hash-link" aria-label="Direct link to Media Access Control" title="Direct link to Media Access Control">​</a></h3>
<p><img decoding="async" loading="lazy" alt="MAC Header" src="/awesome-notes/assets/images/MACHeader-11274487c837fd4d1041ba45399a2ca1.png" title="MAC Header" width="976" height="582" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="switch">Switch<a href="#switch" class="hash-link" aria-label="Direct link to Switch" title="Direct link to Switch">​</a></h3>
<p>交换机的作用为包的转发,
它自己不会成为发送方或者接收方,
各个端口不具有 MAC 地址.</p>
<p><img decoding="async" loading="lazy" alt="Switch" src="/awesome-notes/assets/images/Switch-a38cee568e0f9ea8a04f161c9f78f03c.png" title="Switch" width="735" height="693" class="img_uuUz"></p>
<p>交换机内部有一张 MAC 地址与对应网线端口的 MAC 地址表:</p>
<ul>
<li>当交换机接收到包时,
会将相应的端口号与发送方 MAC 地址写入表中,
交换机可以根据该地址表进行包的转发.</li>
<li>当交换机发现一个包要发回到原端口时,
会直接丢弃该包, 防止接收方收到重复包.</li>
<li>当地址表中找不到指定的 MAC 地址时,
交换机会将包转发到除了源端口之外的所有端口.
目标设备收到包后会返回响应包,
交换机此时可以更新地址表, 下次转发时无需广播发包.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Switch Circuit" src="/awesome-notes/assets/images/SwitchCircuit-ebb05e651b20fda62d2098b90372dd5d.png" title="Switch Circuit" width="1190" height="812" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="ethernet-hub">Ethernet Hub<a href="#ethernet-hub" class="hash-link" aria-label="Direct link to Ethernet Hub" title="Direct link to Ethernet Hub">​</a></h3>
<p>以太网集线器 (Ethernet Hub):</p>
<ul>
<li>中继式集线器: 广播以太帧, 接收方网卡根据 MAC 地址决定接收或丢弃报文.</li>
<li>交换式集线器: 信号只会根据 MAC 地址流到指定设备, 不会到达其他设备.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="access-network">Access Network<a href="#access-network" class="hash-link" aria-label="Direct link to Access Network" title="Direct link to Access Network">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="adsl">ADSL<a href="#adsl" class="hash-link" aria-label="Direct link to ADSL" title="Direct link to ADSL">​</a></h3>
<p>非对称数字用户线 (Asymmetric Digital Subscriber Line):</p>
<p><img decoding="async" loading="lazy" alt="Asymmetric Digital Subscriber Line" src="/awesome-notes/assets/images/ADSL-c27e6906d48262ea48bd89669f2180ce.png" title="Asymmetric Digital Subscriber Line" width="527" height="808" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="ftth">FTTH<a href="#ftth" class="hash-link" aria-label="Direct link to FTTH" title="Direct link to FTTH">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Fiber" src="/awesome-notes/assets/images/Fiber-952fe693199cf2e7c6c961eb808ac2a5.png" title="Fiber" width="1630" height="866" class="img_uuUz"></p>
<p>光纤到户 (Fiber to the Home):</p>
<p><img decoding="async" loading="lazy" alt="Fiber to the Home" src="/awesome-notes/assets/images/FTTH-5849a5a1af7d642bf58180f7b0bca5ad.png" title="Fiber to the Home" width="644" height="880" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="pppoe">PPPoE<a href="#pppoe" class="hash-link" aria-label="Direct link to PPPoE" title="Direct link to PPPoE">​</a></h3>
<ul>
<li>互联网接入路由器通过 PPPoE 的发现机制
查询 BAS (Broadband Access Server) 的 MAC 地址.</li>
<li>BAS 下发的 TCP/IP 参数会被配置到
互联网接入路由器的 BAS 端的端口上,
路由器完成了接入互联网的准备.</li>
<li>BAS 收到用户路由器发送的网络包后,
会去掉 MAC 头部和 PPPoE 头部,
然后用隧道机制将包发送给网络运营商的路由器.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="PPPoE Header" src="/awesome-notes/assets/images/PPPoEHeader-2d0b1f3049138af1c555c3b6b51722ef.png" title="PPPoE Header" width="973" height="681" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="isp">ISP<a href="#isp" class="hash-link" aria-label="Direct link to ISP" title="Direct link to ISP">​</a></h3>
<ul>
<li>网络包通过接入网后, 到达运营商 POP (Point of Presence) 的路由器.</li>
<li>NOC (Network Operation Center) 是运营商的核心设备 (配备高性能的路由器),
从 POP 传来的网络包会集中到此处,
并从此处转发到离目的地更近的 POP 或者其他运营商.</li>
<li>IX (Internet eXchange, 互联网交换中心) 是一个中心设备 (配备大型高速交换机),
同时连接多个互联网运营商, 减少线路数量.</li>
<li>互联网内部使用 BGP (Border Gateway Protocol) 机制
在运营商之间交换路由信息.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Internet Service Provider" src="/awesome-notes/assets/images/ISP-29ea5551acdb63ab16a9dfb201680f1a.png" title="Internet Service Provider" width="781" height="673" class="img_uuUz"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="wireless-network">Wireless Network<a href="#wireless-network" class="hash-link" aria-label="Direct link to Wireless Network" title="Direct link to Wireless Network">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="wireless-network-basis">Wireless Network Basis<a href="#wireless-network-basis" class="hash-link" aria-label="Direct link to Wireless Network Basis" title="Direct link to Wireless Network Basis">​</a></h3>
<p>影响数据传输速度因素:</p>
<ul>
<li>可用带宽 (Hz).</li>
<li>信号强度 (SNR, Signal Noise Ratio).</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="wireless-network-types">Wireless NetWork Types<a href="#wireless-network-types" class="hash-link" aria-label="Direct link to Wireless NetWork Types" title="Direct link to Wireless NetWork Types">​</a></h3>
<p>无线标准:</p>
<ul>
<li>WLAN (Wireless LAN):
IEEE 802.11, CSMA/CA (Carrier Sense Multiple Access/Collision Avoidance).</li>
<li>LTE (Long Term Evolution) / HSPA+ (High Speed Packet Access): 4G.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="LTE Radio Resource Controller State Machine" src="/awesome-notes/assets/images/LTE-0a53a3fa44add496ab61b5b1cbb4d968.png" title="LTE Radio Resource Controller State Machine" width="1735" height="927" class="img_uuUz"></p>
<p><img decoding="async" loading="lazy" alt="LTE Request" src="/awesome-notes/assets/images/LTERequest-6486bab0010f6ed002bddc1f0b282b6e.png" title="LTE Request" width="1378" height="931" class="img_uuUz"></p>
<p><img decoding="async" loading="lazy" alt="LTE Response" src="/awesome-notes/assets/images/LTEResponse-fe1977a4669f40bc19d0a57e8be7f902.png" title="LTE Response" width="1451" height="933" class="img_uuUz"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="wireless-network-performance">Wireless Network Performance<a href="#wireless-network-performance" class="hash-link" aria-label="Direct link to Wireless Network Performance" title="Direct link to Wireless Network Performance">​</a></h3>
<p>Battery power save optimization:</p>
<ul>
<li>轮询在移动网络中代价极高 (Energy Tail), 少用: e.g heart beat, round beacon.</li>
<li>尽可能使用推送和通知.</li>
<li>消除不必要的长连接.</li>
<li>出站和入站请求应该合并和汇总.</li>
<li>非关键性请求应该推迟到无线模块活动时进行.</li>
<li>把请求分组, 尽可能多和快地下载数据, 然后让无线模块转为空闲:
既可以获得最大的网络吞吐量, 也能节约电量.</li>
<li>把负载转移到 Wi-Fi 网络:
可以建议用户打开 Wi-Fi 连接, 以提升体验和节省电量.</li>
</ul>
<p>Offline optimization:</p>
<ul>
<li>不要缓存或试图猜测网络状态.</li>
<li>调度请求, 监听并诊断错误.</li>
<li>瞬态错误总会发生, 不可忽视, 可以采取重试策略.</li>
<li>监听连接状态, 以便采用最佳请求方式.</li>
<li>对重试请求采用补偿算法, 不要永远循环.</li>
<li>离线时, 尽可能记录并在将来发送请求.</li>
<li>利用 Web Storage API (App Cache/Local Storage/Service Worker) 实现离线应用.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="physical-layer">Physical Layer<a href="#physical-layer" class="hash-link" aria-label="Direct link to Physical Layer" title="Direct link to Physical Layer">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="twisted-pair">Twisted Pair<a href="#twisted-pair" class="hash-link" aria-label="Direct link to Twisted Pair" title="Direct link to Twisted Pair">​</a></h3>
<p>双绞线 (TP):</p>
<ul>
<li>抵消外源性噪声.</li>
<li>抵消内源性噪声.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Twisted Pair" src="/awesome-notes/assets/images/TwistedPair-4f1cb072bf32a600ce8b60038d7e07a2.png" title="Twisted Pair" width="743" height="757" class="img_uuUz"></p>
<table><thead><tr><th>种类</th><th>性能</th></tr></thead><tbody><tr><td>五类 (CAT-5)</td><td>10BASE-T (10 Mbit/s) 和 100BASE-TX (100 Mbit/s) 以太网</td></tr><tr><td>超五类 (CAT-5e)</td><td>1000BASE-T 千兆以太网, 改善了外部串扰</td></tr><tr><td>六类 (CAT-6)</td><td>1000BASE-TX 千兆和 10GBASE-T 万兆以太网, 支持最高 250 MHz</td></tr><tr><td>超六类 (CAT-6A)</td><td>改善了外部串扰</td></tr><tr><td>七类 (CAT-7)</td><td>支持最高 600 MHz 的高速信号传输</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="error-detection">Error Detection<a href="#error-detection" class="hash-link" aria-label="Direct link to Error Detection" title="Direct link to Error Detection">​</a></h2>
<ul>
<li>TCP/IP: checksums (1 bit).</li>
<li>Ethernet (link layer): cyclic redundancy code (2 bit/more).</li>
<li>SSL (Secure Sockets Layer)/TLS (Transport Layer Security):
<strong>MAC</strong> (Message Authentication Code) (cryptographic data)
to prevent malicious attacks.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_XDPE" id="network-tools">Network Tools<a href="#network-tools" class="hash-link" aria-label="Direct link to Network Tools" title="Direct link to Network Tools">​</a></h2>
<ul>
<li><code>ifconfig</code> + <code>egrep</code>.</li>
<li><code>netstat</code> + <code>egrep</code>.</li>
<li><code>tcpdump</code>.</li>
<li><code>nslookup</code>.</li>
<li><code>wireshark</code>.</li>
</ul>
<div class="language-bash codeBlockContainer_E0Jp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_nWqd"><pre tabindex="0" class="prism-code language-bash codeBlock_MSAy thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_djir"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dpkg-reconfigure wireshark-common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> gpasswd </span><span class="token parameter variable" style="color:#36acaa">-a</span><span class="token plain"> </span><span class="token environment constant" style="color:#36acaa">$USER</span><span class="token plain"> wireshark</span><br></span></code></pre><div class="buttonGroup_Ij1p"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_npNj" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YSoL"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_mE3M"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_TBJm padding--none margin-left--sm"><li class="tag_USTg"><a class="tag_P2MX tagRegular_DnEZ" href="/awesome-notes/tags/web">Web</a></li><li class="tag_USTg"><a class="tag_P2MX tagRegular_DnEZ" href="/awesome-notes/tags/dev-ops">DevOps</a></li><li class="tag_USTg"><a class="tag_P2MX tagRegular_DnEZ" href="/awesome-notes/tags/network">Network</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/sabertazimi/awesome-notes/edit/main/notes/Web/Network/NetworkBasicNotes.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_sBYE" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Jpru"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-06T04:12:48.000Z" itemprop="dateModified">Jan 6, 2025</time></b> by <b>sabertazimi</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/awesome-notes/Web/JavaScript/TypeScriptBasicNotes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TypeScript Basic Notes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/awesome-notes/Web/Node/ExpressBasicNotes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Express Basic Notes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_oQTr thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#internet" class="table-of-contents__link toc-highlight">Internet</a><ul><li><a href="#consist" class="table-of-contents__link toc-highlight">Consist</a></li><li><a href="#delay" class="table-of-contents__link toc-highlight">Delay</a></li><li><a href="#layer" class="table-of-contents__link toc-highlight">Layer</a></li></ul></li><li><a href="#http-1" class="table-of-contents__link toc-highlight">HTTP 1</a><ul><li><a href="#hypertext-transfer-protocol" class="table-of-contents__link toc-highlight">Hypertext Transfer Protocol</a></li><li><a href="#http-connections" class="table-of-contents__link toc-highlight">HTTP Connections</a></li><li><a href="#http-message-format" class="table-of-contents__link toc-highlight">HTTP Message Format</a></li><li><a href="#http-process" class="table-of-contents__link toc-highlight">HTTP Process</a></li><li><a href="#http-response-status-codes" class="table-of-contents__link toc-highlight">HTTP Response Status Codes</a></li><li><a href="#http-1x-performance" class="table-of-contents__link toc-highlight">HTTP 1.x Performance</a></li></ul></li><li><a href="#http-2" class="table-of-contents__link toc-highlight">HTTP 2</a><ul><li><a href="#http-2-upside" class="table-of-contents__link toc-highlight">HTTP 2 Upside</a></li><li><a href="#http-2-downside" class="table-of-contents__link toc-highlight">HTTP 2 Downside</a></li><li><a href="#http-2-optimization" class="table-of-contents__link toc-highlight">HTTP 2 Optimization</a></li></ul></li><li><a href="#http-3" class="table-of-contents__link toc-highlight">HTTP 3</a></li><li><a href="#https" class="table-of-contents__link toc-highlight">HTTPS</a><ul><li><a href="#https-workflow" class="table-of-contents__link toc-highlight">HTTPS Workflow</a></li><li><a href="#https-security" class="table-of-contents__link toc-highlight">HTTPS Security</a></li></ul></li><li><a href="#cors" class="table-of-contents__link toc-highlight">CORS</a></li><li><a href="#tcp" class="table-of-contents__link toc-highlight">TCP</a><ul><li><a href="#transmission-control-protocol" class="table-of-contents__link toc-highlight">Transmission Control Protocol</a></li><li><a href="#tcp-handshake" class="table-of-contents__link toc-highlight">TCP Handshake</a></li><li><a href="#slide-window-and-retransmission" class="table-of-contents__link toc-highlight">Slide Window and Retransmission</a></li><li><a href="#tcp-flow-control" class="table-of-contents__link toc-highlight">TCP Flow Control</a></li><li><a href="#tcp-congestion-control" class="table-of-contents__link toc-highlight">TCP Congestion Control</a></li><li><a href="#tcp-performance" class="table-of-contents__link toc-highlight">TCP Performance</a></li></ul></li><li><a href="#udp" class="table-of-contents__link toc-highlight">UDP</a><ul><li><a href="#user-datagram-protocol" class="table-of-contents__link toc-highlight">User Datagram Protocol</a></li><li><a href="#udp-performance" class="table-of-contents__link toc-highlight">UDP Performance</a></li></ul></li><li><a href="#tls" class="table-of-contents__link toc-highlight">TLS</a><ul><li><a href="#transport-layer-security" class="table-of-contents__link toc-highlight">Transport Layer Security</a></li><li><a href="#tls-performance" class="table-of-contents__link toc-highlight">TLS Performance</a></li></ul></li><li><a href="#ip" class="table-of-contents__link toc-highlight">IP</a><ul><li><a href="#internet-protocol" class="table-of-contents__link toc-highlight">Internet Protocol</a></li><li><a href="#ip-service-model" class="table-of-contents__link toc-highlight">IP Service Model</a></li><li><a href="#router" class="table-of-contents__link toc-highlight">Router</a></li><li><a href="#ipv4-addresses" class="table-of-contents__link toc-highlight">IPv4 Addresses</a></li><li><a href="#packet-format" class="table-of-contents__link toc-highlight">Packet Format</a></li></ul></li><li><a href="#icmp" class="table-of-contents__link toc-highlight">ICMP</a><ul><li><a href="#internet-control-message-protocol" class="table-of-contents__link toc-highlight">Internet Control Message Protocol</a></li><li><a href="#icmp-message-type" class="table-of-contents__link toc-highlight">ICMP Message Type</a></li></ul></li><li><a href="#arp" class="table-of-contents__link toc-highlight">ARP</a></li><li><a href="#ethernet" class="table-of-contents__link toc-highlight">Ethernet</a><ul><li><a href="#media-access-control" class="table-of-contents__link toc-highlight">Media Access Control</a></li><li><a href="#switch" class="table-of-contents__link toc-highlight">Switch</a></li><li><a href="#ethernet-hub" class="table-of-contents__link toc-highlight">Ethernet Hub</a></li></ul></li><li><a href="#access-network" class="table-of-contents__link toc-highlight">Access Network</a><ul><li><a href="#adsl" class="table-of-contents__link toc-highlight">ADSL</a></li><li><a href="#ftth" class="table-of-contents__link toc-highlight">FTTH</a></li><li><a href="#pppoe" class="table-of-contents__link toc-highlight">PPPoE</a></li><li><a href="#isp" class="table-of-contents__link toc-highlight">ISP</a></li></ul></li><li><a href="#wireless-network" class="table-of-contents__link toc-highlight">Wireless Network</a><ul><li><a href="#wireless-network-basis" class="table-of-contents__link toc-highlight">Wireless Network Basis</a></li><li><a href="#wireless-network-types" class="table-of-contents__link toc-highlight">Wireless NetWork Types</a></li><li><a href="#wireless-network-performance" class="table-of-contents__link toc-highlight">Wireless Network Performance</a></li></ul></li><li><a href="#physical-layer" class="table-of-contents__link toc-highlight">Physical Layer</a><ul><li><a href="#twisted-pair" class="table-of-contents__link toc-highlight">Twisted Pair</a></li></ul></li><li><a href="#error-detection" class="table-of-contents__link toc-highlight">Error Detection</a></li><li><a href="#network-tools" class="table-of-contents__link toc-highlight">Network Tools</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Notes</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/awesome-notes/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/awesome-notes/ComputerScience/Math/AIBasicNotes">Computer Science</a></li><li class="footer__item"><a class="footer__link-item" href="/awesome-notes/Programming/DevOps/CleanCodeBasicNotes">Programming</a></li><li class="footer__item"><a class="footer__link-item" href="/awesome-notes/Language/Rust/RustBasicNotes">Language</a></li><li class="footer__item"><a class="footer__link-item" href="/awesome-notes/Web/JavaScript/JavaScriptBasicNotes">Web</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://facebook.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://weibo.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Weibo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:sabertazimi@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Find More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sabertazimi/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Next.js Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/awesome-web" target="_blank" rel="noopener noreferrer" class="footer__link-item">Awesome Web<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/bod" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bod CLI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/dragon-zsh-theme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dragon ZSH Theme<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/boilerplate" target="_blank" rel="noopener noreferrer" class="footer__link-item">Minimal Boilerplate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xkyu"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Sabertazimi.</div></div></div></footer></div>
</body>
</html>